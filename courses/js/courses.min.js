function uiCodemirrorDirective(a, b) {
    function c(a, c, h, i) {
        var j = angular.extend({value: c.text()}, b.codemirror || {}, a.$eval(h.uiCodemirror), a.$eval(h.uiCodemirrorOpts)), k = d(c, j);
        e(k, h.uiCodemirror || h.uiCodemirrorOpts, a), f(k, i, a), g(k, h.uiRefresh, a), a.$on("CodeMirror", function (a, b) {
            if (!angular.isFunction(b))throw new Error("the CodeMirror event requires a callback function");
            b(k)
        }), angular.isFunction(j.onLoad) && j.onLoad(k)
    }

    function d(a, b) {
        var c;
        return "TEXTAREA" === a[0].tagName ? c = window.CodeMirror.fromTextArea(a[0], b) : (a.html(""), c = new window.CodeMirror(function (b) {
            a.append(b)
        }, b)), c
    }

    function e(a, b, c) {
        function d(b, c) {
            angular.isObject(b) && e.forEach(function (d) {
                if (b.hasOwnProperty(d)) {
                    if (c && b[d] === c[d])return;
                    a.setOption(d, b[d])
                }
            })
        }

        if (b) {
            var e = Object.keys(window.CodeMirror.defaults);
            c.$watch(b, d, !0)
        }
    }

    function f(b, c, d) {
        c && (c.$formatters.push(function (a) {
            if (angular.isUndefined(a) || null === a)return "";
            if (angular.isObject(a) || angular.isArray(a))throw new Error("ui-codemirror cannot use an object or an array as a model");
            return a
        }), c.$render = function () {
            var a = c.$viewValue || "";
            b.setValue(a)
        }, b.on("change", function (b) {
            var e = b.getValue();
            e !== c.$viewValue && a(function () {
                d.$apply(function () {
                    c.$setViewValue(e)
                })
            }, 0, !1)
        }))
    }

    function g(b, c, d) {
        c && d.$watch(c, function (c, d) {
            c !== d && a(b.refresh)
        })
    }

    return {
        restrict: "EA", require: "?ngModel", compile: function () {
            if (angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror need CodeMirror to work... (o rly?)");
            return c
        }
    }
}
!function (a, b) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function (a) {
        if (!a.document)throw new Error("jQuery requires a window with a document");
        return b(a)
    } : b(a)
}("undefined" != typeof window ? window : this, function (a, b) {
    function c(a) {
        var b = a.length, c = ab.type(a);
        return "function" === c || ab.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : "array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a
    }

    function d(a, b, c) {
        if (ab.isFunction(b))return ab.grep(a, function (a, d) {
            return !!b.call(a, d, a) !== c
        });
        if (b.nodeType)return ab.grep(a, function (a) {
            return a === b !== c
        });
        if ("string" == typeof b) {
            if (hb.test(b))return ab.filter(b, a, c);
            b = ab.filter(b, a)
        }
        return ab.grep(a, function (a) {
            return U.call(b, a) >= 0 !== c
        })
    }

    function e(a, b) {
        for (; (a = a[b]) && 1 !== a.nodeType;);
        return a
    }

    function f(a) {
        var b = ob[a] = {};
        return ab.each(a.match(nb) || [], function (a, c) {
            b[c] = !0
        }), b
    }

    function g() {
        $.removeEventListener("DOMContentLoaded", g, !1), a.removeEventListener("load", g, !1), ab.ready()
    }

    function h() {
        Object.defineProperty(this.cache = {}, 0, {
            get: function () {
                return {}
            }
        }), this.expando = ab.expando + Math.random()
    }

    function i(a, b, c) {
        var d;
        if (void 0 === c && 1 === a.nodeType)if (d = "data-" + b.replace(ub, "-$1").toLowerCase(), c = a.getAttribute(d), "string" == typeof c) {
            try {
                c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null : +c + "" === c ? +c : tb.test(c) ? ab.parseJSON(c) : c
            } catch (e) {
            }
            sb.set(a, b, c)
        } else c = void 0;
        return c
    }

    function j() {
        return !0
    }

    function k() {
        return !1
    }

    function l() {
        try {
            return $.activeElement
        } catch (a) {
        }
    }

    function m(a, b) {
        return ab.nodeName(a, "table") && ab.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
    }

    function n(a) {
        return a.type = (null !== a.getAttribute("type")) + "/" + a.type, a
    }

    function o(a) {
        var b = Kb.exec(a.type);
        return b ? a.type = b[1] : a.removeAttribute("type"), a
    }

    function p(a, b) {
        for (var c = 0, d = a.length; d > c; c++)rb.set(a[c], "globalEval", !b || rb.get(b[c], "globalEval"))
    }

    function q(a, b) {
        var c, d, e, f, g, h, i, j;
        if (1 === b.nodeType) {
            if (rb.hasData(a) && (f = rb.access(a), g = rb.set(b, f), j = f.events)) {
                delete g.handle, g.events = {};
                for (e in j)for (c = 0, d = j[e].length; d > c; c++)ab.event.add(b, e, j[e][c])
            }
            sb.hasData(a) && (h = sb.access(a), i = ab.extend({}, h), sb.set(b, i))
        }
    }

    function r(a, b) {
        var c = a.getElementsByTagName ? a.getElementsByTagName(b || "*") : a.querySelectorAll ? a.querySelectorAll(b || "*") : [];
        return void 0 === b || b && ab.nodeName(a, b) ? ab.merge([a], c) : c
    }

    function s(a, b) {
        var c = b.nodeName.toLowerCase();
        "input" === c && yb.test(a.type) ? b.checked = a.checked : ("input" === c || "textarea" === c) && (b.defaultValue = a.defaultValue)
    }

    function t(b, c) {
        var d = ab(c.createElement(b)).appendTo(c.body), e = a.getDefaultComputedStyle ? a.getDefaultComputedStyle(d[0]).display : ab.css(d[0], "display");
        return d.detach(), e
    }

    function u(a) {
        var b = $, c = Ob[a];
        return c || (c = t(a, b), "none" !== c && c || (Nb = (Nb || ab("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement), b = Nb[0].contentDocument, b.write(), b.close(), c = t(a, b), Nb.detach()), Ob[a] = c), c
    }

    function v(a, b, c) {
        var d, e, f, g, h = a.style;
        return c = c || Rb(a), c && (g = c.getPropertyValue(b) || c[b]), c && ("" !== g || ab.contains(a.ownerDocument, a) || (g = ab.style(a, b)), Qb.test(g) && Pb.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f)), void 0 !== g ? g + "" : g
    }

    function w(a, b) {
        return {
            get: function () {
                return a() ? void delete this.get : (this.get = b).apply(this, arguments)
            }
        }
    }

    function x(a, b) {
        if (b in a)return b;
        for (var c = b[0].toUpperCase() + b.slice(1), d = b, e = Xb.length; e--;)if (b = Xb[e] + c, b in a)return b;
        return d
    }

    function y(a, b, c) {
        var d = Tb.exec(b);
        return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b
    }

    function z(a, b, c, d, e) {
        for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2)"margin" === c && (g += ab.css(a, c + wb[f], !0, e)), d ? ("content" === c && (g -= ab.css(a, "padding" + wb[f], !0, e)), "margin" !== c && (g -= ab.css(a, "border" + wb[f] + "Width", !0, e))) : (g += ab.css(a, "padding" + wb[f], !0, e), "padding" !== c && (g += ab.css(a, "border" + wb[f] + "Width", !0, e)));
        return g
    }

    function A(a, b, c) {
        var d = !0, e = "width" === b ? a.offsetWidth : a.offsetHeight, f = Rb(a), g = "border-box" === ab.css(a, "boxSizing", !1, f);
        if (0 >= e || null == e) {
            if (e = v(a, b, f), (0 > e || null == e) && (e = a.style[b]), Qb.test(e))return e;
            d = g && (Z.boxSizingReliable() || e === a.style[b]), e = parseFloat(e) || 0
        }
        return e + z(a, b, c || (g ? "border" : "content"), d, f) + "px"
    }

    function B(a, b) {
        for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++)d = a[g], d.style && (f[g] = rb.get(d, "olddisplay"), c = d.style.display, b ? (f[g] || "none" !== c || (d.style.display = ""), "" === d.style.display && xb(d) && (f[g] = rb.access(d, "olddisplay", u(d.nodeName)))) : f[g] || (e = xb(d), (c && "none" !== c || !e) && rb.set(d, "olddisplay", e ? c : ab.css(d, "display"))));
        for (g = 0; h > g; g++)d = a[g], d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none"));
        return a
    }

    function C(a, b, c, d, e) {
        return new C.prototype.init(a, b, c, d, e)
    }

    function D() {
        return setTimeout(function () {
            Yb = void 0
        }), Yb = ab.now()
    }

    function E(a, b) {
        var c, d = 0, e = {height: a};
        for (b = b ? 1 : 0; 4 > d; d += 2 - b)c = wb[d], e["margin" + c] = e["padding" + c] = a;
        return b && (e.opacity = e.width = a), e
    }

    function F(a, b, c) {
        for (var d, e = (cc[b] || []).concat(cc["*"]), f = 0, g = e.length; g > f; f++)if (d = e[f].call(c, b, a))return d
    }

    function G(a, b, c) {
        var d, e, f, g, h, i, j, k = this, l = {}, m = a.style, n = a.nodeType && xb(a), o = rb.get(a, "fxshow");
        c.queue || (h = ab._queueHooks(a, "fx"), null == h.unqueued && (h.unqueued = 0, i = h.empty.fire, h.empty.fire = function () {
            h.unqueued || i()
        }), h.unqueued++, k.always(function () {
            k.always(function () {
                h.unqueued--, ab.queue(a, "fx").length || h.empty.fire()
            })
        })), 1 === a.nodeType && ("height" in b || "width" in b) && (c.overflow = [m.overflow, m.overflowX, m.overflowY], j = ab.css(a, "display"), "none" === j && (j = u(a.nodeName)), "inline" === j && "none" === ab.css(a, "float") && (m.display = "inline-block")), c.overflow && (m.overflow = "hidden", k.always(function () {
            m.overflow = c.overflow[0], m.overflowX = c.overflow[1], m.overflowY = c.overflow[2]
        }));
        for (d in b)if (e = b[d], $b.exec(e)) {
            if (delete b[d], f = f || "toggle" === e, e === (n ? "hide" : "show")) {
                if ("show" !== e || !o || void 0 === o[d])continue;
                n = !0
            }
            l[d] = o && o[d] || ab.style(a, d)
        }
        if (!ab.isEmptyObject(l)) {
            o ? "hidden" in o && (n = o.hidden) : o = rb.access(a, "fxshow", {}), f && (o.hidden = !n), n ? ab(a).show() : k.done(function () {
                ab(a).hide()
            }), k.done(function () {
                var b;
                rb.remove(a, "fxshow");
                for (b in l)ab.style(a, b, l[b])
            });
            for (d in l)g = F(n ? o[d] : 0, d, k), d in o || (o[d] = g.start, n && (g.end = g.start, g.start = "width" === d || "height" === d ? 1 : 0))
        }
    }

    function H(a, b) {
        var c, d, e, f, g;
        for (c in a)if (d = ab.camelCase(c), e = b[d], f = a[c], ab.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = ab.cssHooks[d], g && "expand" in g) {
            f = g.expand(f), delete a[d];
            for (c in f)c in a || (a[c] = f[c], b[c] = e)
        } else b[d] = e
    }

    function I(a, b, c) {
        var d, e, f = 0, g = bc.length, h = ab.Deferred().always(function () {
            delete i.elem
        }), i = function () {
            if (e)return !1;
            for (var b = Yb || D(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++)j.tweens[g].run(f);
            return h.notifyWith(a, [j, f, c]), 1 > f && i ? c : (h.resolveWith(a, [j]), !1)
        }, j = h.promise({
            elem: a,
            props: ab.extend({}, b),
            opts: ab.extend(!0, {specialEasing: {}}, c),
            originalProperties: b,
            originalOptions: c,
            startTime: Yb || D(),
            duration: c.duration,
            tweens: [],
            createTween: function (b, c) {
                var d = ab.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                return j.tweens.push(d), d
            },
            stop: function (b) {
                var c = 0, d = b ? j.tweens.length : 0;
                if (e)return this;
                for (e = !0; d > c; c++)j.tweens[c].run(1);
                return b ? h.resolveWith(a, [j, b]) : h.rejectWith(a, [j, b]), this
            }
        }), k = j.props;
        for (H(k, j.opts.specialEasing); g > f; f++)if (d = bc[f].call(j, a, k, j.opts))return d;
        return ab.map(k, F, j), ab.isFunction(j.opts.start) && j.opts.start.call(a, j), ab.fx.timer(ab.extend(i, {
            elem: a,
            anim: j,
            queue: j.opts.queue
        })), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always)
    }

    function J(a) {
        return function (b, c) {
            "string" != typeof b && (c = b, b = "*");
            var d, e = 0, f = b.toLowerCase().match(nb) || [];
            if (ab.isFunction(c))for (; d = f[e++];)"+" === d[0] ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c)
        }
    }

    function K(a, b, c, d) {
        function e(h) {
            var i;
            return f[h] = !0, ab.each(a[h] || [], function (a, h) {
                var j = h(b, c, d);
                return "string" != typeof j || g || f[j] ? g ? !(i = j) : void 0 : (b.dataTypes.unshift(j), e(j), !1)
            }), i
        }

        var f = {}, g = a === vc;
        return e(b.dataTypes[0]) || !f["*"] && e("*")
    }

    function L(a, b) {
        var c, d, e = ab.ajaxSettings.flatOptions || {};
        for (c in b)void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
        return d && ab.extend(!0, a, d), a
    }

    function M(a, b, c) {
        for (var d, e, f, g, h = a.contents, i = a.dataTypes; "*" === i[0];)i.shift(), void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type"));
        if (d)for (e in h)if (h[e] && h[e].test(d)) {
            i.unshift(e);
            break
        }
        if (i[0] in c)f = i[0]; else {
            for (e in c) {
                if (!i[0] || a.converters[e + " " + i[0]]) {
                    f = e;
                    break
                }
                g || (g = e)
            }
            f = f || g
        }
        return f ? (f !== i[0] && i.unshift(f), c[f]) : void 0
    }

    function N(a, b, c, d) {
        var e, f, g, h, i, j = {}, k = a.dataTypes.slice();
        if (k[1])for (g in a.converters)j[g.toLowerCase()] = a.converters[g];
        for (f = k.shift(); f;)if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift())if ("*" === f)f = i; else if ("*" !== i && i !== f) {
            if (g = j[i + " " + f] || j["* " + f], !g)for (e in j)if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1]));
                break
            }
            if (g !== !0)if (g && a["throws"])b = g(b); else try {
                b = g(b)
            } catch (l) {
                return {state: "parsererror", error: g ? l : "No conversion from " + i + " to " + f}
            }
        }
        return {state: "success", data: b}
    }

    function O(a, b, c, d) {
        var e;
        if (ab.isArray(b))ab.each(b, function (b, e) {
            c || zc.test(a) ? d(a, e) : O(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d)
        }); else if (c || "object" !== ab.type(b))d(a, b); else for (e in b)O(a + "[" + e + "]", b[e], c, d)
    }

    function P(a) {
        return ab.isWindow(a) ? a : 9 === a.nodeType && a.defaultView
    }

    var Q = [], R = Q.slice, S = Q.concat, T = Q.push, U = Q.indexOf, V = {}, W = V.toString, X = V.hasOwnProperty, Y = "".trim, Z = {}, $ = a.document, _ = "2.1.0", ab = function (a, b) {
        return new ab.fn.init(a, b)
    }, bb = /^-ms-/, cb = /-([\da-z])/gi, db = function (a, b) {
        return b.toUpperCase()
    };
    ab.fn = ab.prototype = {
        jquery: _, constructor: ab, selector: "", length: 0, toArray: function () {
            return R.call(this)
        }, get: function (a) {
            return null != a ? 0 > a ? this[a + this.length] : this[a] : R.call(this)
        }, pushStack: function (a) {
            var b = ab.merge(this.constructor(), a);
            return b.prevObject = this, b.context = this.context, b
        }, each: function (a, b) {
            return ab.each(this, a, b)
        }, map: function (a) {
            return this.pushStack(ab.map(this, function (b, c) {
                return a.call(b, c, b)
            }))
        }, slice: function () {
            return this.pushStack(R.apply(this, arguments))
        }, first: function () {
            return this.eq(0)
        }, last: function () {
            return this.eq(-1)
        }, eq: function (a) {
            var b = this.length, c = +a + (0 > a ? b : 0);
            return this.pushStack(c >= 0 && b > c ? [this[c]] : [])
        }, end: function () {
            return this.prevObject || this.constructor(null)
        }, push: T, sort: Q.sort, splice: Q.splice
    }, ab.extend = ab.fn.extend = function () {
        var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = !1;
        for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == typeof g || ab.isFunction(g) || (g = {}), h === i && (g = this, h--); i > h; h++)if (null != (a = arguments[h]))for (b in a)c = g[b], d = a[b], g !== d && (j && d && (ab.isPlainObject(d) || (e = ab.isArray(d))) ? (e ? (e = !1, f = c && ab.isArray(c) ? c : []) : f = c && ab.isPlainObject(c) ? c : {}, g[b] = ab.extend(j, f, d)) : void 0 !== d && (g[b] = d));
        return g
    }, ab.extend({
        expando: "jQuery" + (_ + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (a) {
            throw new Error(a)
        }, noop: function () {
        }, isFunction: function (a) {
            return "function" === ab.type(a)
        }, isArray: Array.isArray, isWindow: function (a) {
            return null != a && a === a.window
        }, isNumeric: function (a) {
            return a - parseFloat(a) >= 0
        }, isPlainObject: function (a) {
            if ("object" !== ab.type(a) || a.nodeType || ab.isWindow(a))return !1;
            try {
                if (a.constructor && !X.call(a.constructor.prototype, "isPrototypeOf"))return !1
            } catch (b) {
                return !1
            }
            return !0
        }, isEmptyObject: function (a) {
            var b;
            for (b in a)return !1;
            return !0
        }, type: function (a) {
            return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? V[W.call(a)] || "object" : typeof a
        }, globalEval: function (a) {
            var b, c = eval;
            a = ab.trim(a), a && (1 === a.indexOf("use strict") ? (b = $.createElement("script"), b.text = a, $.head.appendChild(b).parentNode.removeChild(b)) : c(a))
        }, camelCase: function (a) {
            return a.replace(bb, "ms-").replace(cb, db)
        }, nodeName: function (a, b) {
            return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
        }, each: function (a, b, d) {
            var e, f = 0, g = a.length, h = c(a);
            if (d) {
                if (h)for (; g > f && (e = b.apply(a[f], d), e !== !1); f++); else for (f in a)if (e = b.apply(a[f], d), e === !1)break
            } else if (h)for (; g > f && (e = b.call(a[f], f, a[f]), e !== !1); f++); else for (f in a)if (e = b.call(a[f], f, a[f]), e === !1)break;
            return a
        }, trim: function (a) {
            return null == a ? "" : Y.call(a)
        }, makeArray: function (a, b) {
            var d = b || [];
            return null != a && (c(Object(a)) ? ab.merge(d, "string" == typeof a ? [a] : a) : T.call(d, a)), d
        }, inArray: function (a, b, c) {
            return null == b ? -1 : U.call(b, a, c)
        }, merge: function (a, b) {
            for (var c = +b.length, d = 0, e = a.length; c > d; d++)a[e++] = b[d];
            return a.length = e, a
        }, grep: function (a, b, c) {
            for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++)d = !b(a[f], f), d !== h && e.push(a[f]);
            return e
        }, map: function (a, b, d) {
            var e, f = 0, g = a.length, h = c(a), i = [];
            if (h)for (; g > f; f++)e = b(a[f], f, d), null != e && i.push(e); else for (f in a)e = b(a[f], f, d), null != e && i.push(e);
            return S.apply([], i)
        }, guid: 1, proxy: function (a, b) {
            var c, d, e;
            return "string" == typeof b && (c = a[b], b = a, a = c), ab.isFunction(a) ? (d = R.call(arguments, 2), e = function () {
                return a.apply(b || this, d.concat(R.call(arguments)))
            }, e.guid = a.guid = a.guid || ab.guid++, e) : void 0
        }, now: Date.now, support: Z
    }), ab.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (a, b) {
        V["[object " + b + "]"] = b.toLowerCase()
    });
    var eb = function (a) {
        function b(a, b, c, d) {
            var e, f, g, h, i, j, l, o, p, q;
            if ((b ? b.ownerDocument || b : O) !== G && F(b), b = b || G, c = c || [], !a || "string" != typeof a)return c;
            if (1 !== (h = b.nodeType) && 9 !== h)return [];
            if (I && !d) {
                if (e = sb.exec(a))if (g = e[1]) {
                    if (9 === h) {
                        if (f = b.getElementById(g), !f || !f.parentNode)return c;
                        if (f.id === g)return c.push(f), c
                    } else if (b.ownerDocument && (f = b.ownerDocument.getElementById(g)) && M(b, f) && f.id === g)return c.push(f), c
                } else {
                    if (e[2])return _.apply(c, b.getElementsByTagName(a)), c;
                    if ((g = e[3]) && x.getElementsByClassName && b.getElementsByClassName)return _.apply(c, b.getElementsByClassName(g)), c
                }
                if (x.qsa && (!J || !J.test(a))) {
                    if (o = l = N, p = b, q = 9 === h && a, 1 === h && "object" !== b.nodeName.toLowerCase()) {
                        for (j = m(a), (l = b.getAttribute("id")) ? o = l.replace(ub, "\\$&") : b.setAttribute("id", o), o = "[id='" + o + "'] ", i = j.length; i--;)j[i] = o + n(j[i]);
                        p = tb.test(a) && k(b.parentNode) || b, q = j.join(",")
                    }
                    if (q)try {
                        return _.apply(c, p.querySelectorAll(q)), c
                    } catch (r) {
                    } finally {
                        l || b.removeAttribute("id")
                    }
                }
            }
            return v(a.replace(ib, "$1"), b, c, d)
        }

        function c() {
            function a(c, d) {
                return b.push(c + " ") > y.cacheLength && delete a[b.shift()], a[c + " "] = d
            }

            var b = [];
            return a
        }

        function d(a) {
            return a[N] = !0, a
        }

        function e(a) {
            var b = G.createElement("div");
            try {
                return !!a(b)
            } catch (c) {
                return !1
            } finally {
                b.parentNode && b.parentNode.removeChild(b), b = null
            }
        }

        function f(a, b) {
            for (var c = a.split("|"), d = a.length; d--;)y.attrHandle[c[d]] = b
        }

        function g(a, b) {
            var c = b && a, d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || W) - (~a.sourceIndex || W);
            if (d)return d;
            if (c)for (; c = c.nextSibling;)if (c === b)return -1;
            return a ? 1 : -1
        }

        function h(a) {
            return function (b) {
                var c = b.nodeName.toLowerCase();
                return "input" === c && b.type === a
            }
        }

        function i(a) {
            return function (b) {
                var c = b.nodeName.toLowerCase();
                return ("input" === c || "button" === c) && b.type === a
            }
        }

        function j(a) {
            return d(function (b) {
                return b = +b, d(function (c, d) {
                    for (var e, f = a([], c.length, b), g = f.length; g--;)c[e = f[g]] && (c[e] = !(d[e] = c[e]))
                })
            })
        }

        function k(a) {
            return a && typeof a.getElementsByTagName !== V && a
        }

        function l() {
        }

        function m(a, c) {
            var d, e, f, g, h, i, j, k = S[a + " "];
            if (k)return c ? 0 : k.slice(0);
            for (h = a, i = [], j = y.preFilter; h;) {
                (!d || (e = jb.exec(h))) && (e && (h = h.slice(e[0].length) || h), i.push(f = [])), d = !1, (e = kb.exec(h)) && (d = e.shift(), f.push({
                    value: d,
                    type: e[0].replace(ib, " ")
                }), h = h.slice(d.length));
                for (g in y.filter)!(e = ob[g].exec(h)) || j[g] && !(e = j[g](e)) || (d = e.shift(), f.push({
                    value: d,
                    type: g,
                    matches: e
                }), h = h.slice(d.length));
                if (!d)break
            }
            return c ? h.length : h ? b.error(a) : S(a, i).slice(0)
        }

        function n(a) {
            for (var b = 0, c = a.length, d = ""; c > b; b++)d += a[b].value;
            return d
        }

        function o(a, b, c) {
            var d = b.dir, e = c && "parentNode" === d, f = Q++;
            return b.first ? function (b, c, f) {
                for (; b = b[d];)if (1 === b.nodeType || e)return a(b, c, f)
            } : function (b, c, g) {
                var h, i, j = [P, f];
                if (g) {
                    for (; b = b[d];)if ((1 === b.nodeType || e) && a(b, c, g))return !0
                } else for (; b = b[d];)if (1 === b.nodeType || e) {
                    if (i = b[N] || (b[N] = {}), (h = i[d]) && h[0] === P && h[1] === f)return j[2] = h[2];
                    if (i[d] = j, j[2] = a(b, c, g))return !0
                }
            }
        }

        function p(a) {
            return a.length > 1 ? function (b, c, d) {
                for (var e = a.length; e--;)if (!a[e](b, c, d))return !1;
                return !0
            } : a[0]
        }

        function q(a, b, c, d, e) {
            for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++)(f = a[h]) && (!c || c(f, d, e)) && (g.push(f), j && b.push(h));
            return g
        }

        function r(a, b, c, e, f, g) {
            return e && !e[N] && (e = r(e)), f && !f[N] && (f = r(f, g)), d(function (d, g, h, i) {
                var j, k, l, m = [], n = [], o = g.length, p = d || u(b || "*", h.nodeType ? [h] : h, []), r = !a || !d && b ? p : q(p, m, a, h, i), s = c ? f || (d ? a : o || e) ? [] : g : r;
                if (c && c(r, s, h, i), e)for (j = q(s, n), e(j, [], h, i), k = j.length; k--;)(l = j[k]) && (s[n[k]] = !(r[n[k]] = l));
                if (d) {
                    if (f || a) {
                        if (f) {
                            for (j = [], k = s.length; k--;)(l = s[k]) && j.push(r[k] = l);
                            f(null, s = [], j, i)
                        }
                        for (k = s.length; k--;)(l = s[k]) && (j = f ? bb.call(d, l) : m[k]) > -1 && (d[j] = !(g[j] = l))
                    }
                } else s = q(s === g ? s.splice(o, s.length) : s), f ? f(null, g, s, i) : _.apply(g, s)
            })
        }

        function s(a) {
            for (var b, c, d, e = a.length, f = y.relative[a[0].type], g = f || y.relative[" "], h = f ? 1 : 0, i = o(function (a) {
                return a === b
            }, g, !0), j = o(function (a) {
                return bb.call(b, a) > -1
            }, g, !0), k = [function (a, c, d) {
                return !f && (d || c !== C) || ((b = c).nodeType ? i(a, c, d) : j(a, c, d))
            }]; e > h; h++)if (c = y.relative[a[h].type])k = [o(p(k), c)]; else {
                if (c = y.filter[a[h].type].apply(null, a[h].matches), c[N]) {
                    for (d = ++h; e > d && !y.relative[a[d].type]; d++);
                    return r(h > 1 && p(k), h > 1 && n(a.slice(0, h - 1).concat({value: " " === a[h - 2].type ? "*" : ""})).replace(ib, "$1"), c, d > h && s(a.slice(h, d)), e > d && s(a = a.slice(d)), e > d && n(a))
                }
                k.push(c)
            }
            return p(k)
        }

        function t(a, c) {
            var e = c.length > 0, f = a.length > 0, g = function (d, g, h, i, j) {
                var k, l, m, n = 0, o = "0", p = d && [], r = [], s = C, t = d || f && y.find.TAG("*", j), u = P += null == s ? 1 : Math.random() || .1, v = t.length;
                for (j && (C = g !== G && g); o !== v && null != (k = t[o]); o++) {
                    if (f && k) {
                        for (l = 0; m = a[l++];)if (m(k, g, h)) {
                            i.push(k);
                            break
                        }
                        j && (P = u)
                    }
                    e && ((k = !m && k) && n--, d && p.push(k))
                }
                if (n += o, e && o !== n) {
                    for (l = 0; m = c[l++];)m(p, r, g, h);
                    if (d) {
                        if (n > 0)for (; o--;)p[o] || r[o] || (r[o] = Z.call(i));
                        r = q(r)
                    }
                    _.apply(i, r), j && !d && r.length > 0 && n + c.length > 1 && b.uniqueSort(i)
                }
                return j && (P = u, C = s), p
            };
            return e ? d(g) : g
        }

        function u(a, c, d) {
            for (var e = 0, f = c.length; f > e; e++)b(a, c[e], d);
            return d
        }

        function v(a, b, c, d) {
            var e, f, g, h, i, j = m(a);
            if (!d && 1 === j.length) {
                if (f = j[0] = j[0].slice(0), f.length > 2 && "ID" === (g = f[0]).type && x.getById && 9 === b.nodeType && I && y.relative[f[1].type]) {
                    if (b = (y.find.ID(g.matches[0].replace(vb, wb), b) || [])[0], !b)return c;
                    a = a.slice(f.shift().value.length)
                }
                for (e = ob.needsContext.test(a) ? 0 : f.length; e-- && (g = f[e], !y.relative[h = g.type]);)if ((i = y.find[h]) && (d = i(g.matches[0].replace(vb, wb), tb.test(f[0].type) && k(b.parentNode) || b))) {
                    if (f.splice(e, 1), a = d.length && n(f), !a)return _.apply(c, d), c;
                    break
                }
            }
            return B(a, j)(d, b, !I, c, tb.test(a) && k(b.parentNode) || b), c
        }

        var w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N = "sizzle" + -new Date, O = a.document, P = 0, Q = 0, R = c(), S = c(), T = c(), U = function (a, b) {
            return a === b && (E = !0), 0
        }, V = "undefined", W = 1 << 31, X = {}.hasOwnProperty, Y = [], Z = Y.pop, $ = Y.push, _ = Y.push, ab = Y.slice, bb = Y.indexOf || function (a) {
                for (var b = 0, c = this.length; c > b; b++)if (this[b] === a)return b;
                return -1
            }, cb = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", db = "[\\x20\\t\\r\\n\\f]", eb = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", fb = eb.replace("w", "w#"), gb = "\\[" + db + "*(" + eb + ")" + db + "*(?:([*^$|!~]?=)" + db + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + fb + ")|)|)" + db + "*\\]", hb = ":(" + eb + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + gb.replace(3, 8) + ")*)|.*)\\)|)", ib = new RegExp("^" + db + "+|((?:^|[^\\\\])(?:\\\\.)*)" + db + "+$", "g"), jb = new RegExp("^" + db + "*," + db + "*"), kb = new RegExp("^" + db + "*([>+~]|" + db + ")" + db + "*"), lb = new RegExp("=" + db + "*([^\\]'\"]*?)" + db + "*\\]", "g"), mb = new RegExp(hb), nb = new RegExp("^" + fb + "$"), ob = {
            ID: new RegExp("^#(" + eb + ")"),
            CLASS: new RegExp("^\\.(" + eb + ")"),
            TAG: new RegExp("^(" + eb.replace("w", "w*") + ")"),
            ATTR: new RegExp("^" + gb),
            PSEUDO: new RegExp("^" + hb),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + db + "*(even|odd|(([+-]|)(\\d*)n|)" + db + "*(?:([+-]|)" + db + "*(\\d+)|))" + db + "*\\)|)", "i"),
            bool: new RegExp("^(?:" + cb + ")$", "i"),
            needsContext: new RegExp("^" + db + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + db + "*((?:-\\d)?\\d*)" + db + "*\\)|)(?=[^-]|$)", "i")
        }, pb = /^(?:input|select|textarea|button)$/i, qb = /^h\d$/i, rb = /^[^{]+\{\s*\[native \w/, sb = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, tb = /[+~]/, ub = /'|\\/g, vb = new RegExp("\\\\([\\da-f]{1,6}" + db + "?|(" + db + ")|.)", "ig"), wb = function (a, b, c) {
            var d = "0x" + b - 65536;
            return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320)
        };
        try {
            _.apply(Y = ab.call(O.childNodes), O.childNodes), Y[O.childNodes.length].nodeType
        } catch (xb) {
            _ = {
                apply: Y.length ? function (a, b) {
                    $.apply(a, ab.call(b))
                } : function (a, b) {
                    for (var c = a.length, d = 0; a[c++] = b[d++];);
                    a.length = c - 1
                }
            }
        }
        x = b.support = {}, A = b.isXML = function (a) {
            var b = a && (a.ownerDocument || a).documentElement;
            return b ? "HTML" !== b.nodeName : !1
        }, F = b.setDocument = function (a) {
            var b, c = a ? a.ownerDocument || a : O, d = c.defaultView;
            return c !== G && 9 === c.nodeType && c.documentElement ? (G = c, H = c.documentElement, I = !A(c), d && d !== d.top && (d.addEventListener ? d.addEventListener("unload", function () {
                F()
            }, !1) : d.attachEvent && d.attachEvent("onunload", function () {
                F()
            })), x.attributes = e(function (a) {
                return a.className = "i", !a.getAttribute("className")
            }), x.getElementsByTagName = e(function (a) {
                return a.appendChild(c.createComment("")), !a.getElementsByTagName("*").length
            }), x.getElementsByClassName = rb.test(c.getElementsByClassName) && e(function (a) {
                    return a.innerHTML = "<div class='a'></div><div class='a i'></div>", a.firstChild.className = "i", 2 === a.getElementsByClassName("i").length
                }), x.getById = e(function (a) {
                return H.appendChild(a).id = N, !c.getElementsByName || !c.getElementsByName(N).length
            }), x.getById ? (y.find.ID = function (a, b) {
                if (typeof b.getElementById !== V && I) {
                    var c = b.getElementById(a);
                    return c && c.parentNode ? [c] : []
                }
            }, y.filter.ID = function (a) {
                var b = a.replace(vb, wb);
                return function (a) {
                    return a.getAttribute("id") === b
                }
            }) : (delete y.find.ID, y.filter.ID = function (a) {
                var b = a.replace(vb, wb);
                return function (a) {
                    var c = typeof a.getAttributeNode !== V && a.getAttributeNode("id");
                    return c && c.value === b
                }
            }), y.find.TAG = x.getElementsByTagName ? function (a, b) {
                return typeof b.getElementsByTagName !== V ? b.getElementsByTagName(a) : void 0
            } : function (a, b) {
                var c, d = [], e = 0, f = b.getElementsByTagName(a);
                if ("*" === a) {
                    for (; c = f[e++];)1 === c.nodeType && d.push(c);
                    return d
                }
                return f
            }, y.find.CLASS = x.getElementsByClassName && function (a, b) {
                    return typeof b.getElementsByClassName !== V && I ? b.getElementsByClassName(a) : void 0
                }, K = [], J = [], (x.qsa = rb.test(c.querySelectorAll)) && (e(function (a) {
                a.innerHTML = "<select t=''><option selected=''></option></select>", a.querySelectorAll("[t^='']").length && J.push("[*^$]=" + db + "*(?:''|\"\")"), a.querySelectorAll("[selected]").length || J.push("\\[" + db + "*(?:value|" + cb + ")"), a.querySelectorAll(":checked").length || J.push(":checked")
            }), e(function (a) {
                var b = c.createElement("input");
                b.setAttribute("type", "hidden"), a.appendChild(b).setAttribute("name", "D"), a.querySelectorAll("[name=d]").length && J.push("name" + db + "*[*^$|!~]?="), a.querySelectorAll(":enabled").length || J.push(":enabled", ":disabled"), a.querySelectorAll("*,:x"), J.push(",.*:")
            })), (x.matchesSelector = rb.test(L = H.webkitMatchesSelector || H.mozMatchesSelector || H.oMatchesSelector || H.msMatchesSelector)) && e(function (a) {
                x.disconnectedMatch = L.call(a, "div"), L.call(a, "[s!='']:x"), K.push("!=", hb)
            }), J = J.length && new RegExp(J.join("|")), K = K.length && new RegExp(K.join("|")), b = rb.test(H.compareDocumentPosition), M = b || rb.test(H.contains) ? function (a, b) {
                var c = 9 === a.nodeType ? a.documentElement : a, d = b && b.parentNode;
                return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
            } : function (a, b) {
                if (b)for (; b = b.parentNode;)if (b === a)return !0;
                return !1
            }, U = b ? function (a, b) {
                if (a === b)return E = !0, 0;
                var d = !a.compareDocumentPosition - !b.compareDocumentPosition;
                return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 1 & d || !x.sortDetached && b.compareDocumentPosition(a) === d ? a === c || a.ownerDocument === O && M(O, a) ? -1 : b === c || b.ownerDocument === O && M(O, b) ? 1 : D ? bb.call(D, a) - bb.call(D, b) : 0 : 4 & d ? -1 : 1)
            } : function (a, b) {
                if (a === b)return E = !0, 0;
                var d, e = 0, f = a.parentNode, h = b.parentNode, i = [a], j = [b];
                if (!f || !h)return a === c ? -1 : b === c ? 1 : f ? -1 : h ? 1 : D ? bb.call(D, a) - bb.call(D, b) : 0;
                if (f === h)return g(a, b);
                for (d = a; d = d.parentNode;)i.unshift(d);
                for (d = b; d = d.parentNode;)j.unshift(d);
                for (; i[e] === j[e];)e++;
                return e ? g(i[e], j[e]) : i[e] === O ? -1 : j[e] === O ? 1 : 0
            }, c) : G
        }, b.matches = function (a, c) {
            return b(a, null, null, c)
        }, b.matchesSelector = function (a, c) {
            if ((a.ownerDocument || a) !== G && F(a), c = c.replace(lb, "='$1']"), !(!x.matchesSelector || !I || K && K.test(c) || J && J.test(c)))try {
                var d = L.call(a, c);
                if (d || x.disconnectedMatch || a.document && 11 !== a.document.nodeType)return d
            } catch (e) {
            }
            return b(c, G, null, [a]).length > 0
        }, b.contains = function (a, b) {
            return (a.ownerDocument || a) !== G && F(a), M(a, b)
        }, b.attr = function (a, b) {
            (a.ownerDocument || a) !== G && F(a);
            var c = y.attrHandle[b.toLowerCase()], d = c && X.call(y.attrHandle, b.toLowerCase()) ? c(a, b, !I) : void 0;
            return void 0 !== d ? d : x.attributes || !I ? a.getAttribute(b) : (d = a.getAttributeNode(b)) && d.specified ? d.value : null
        }, b.error = function (a) {
            throw new Error("Syntax error, unrecognized expression: " + a)
        }, b.uniqueSort = function (a) {
            var b, c = [], d = 0, e = 0;
            if (E = !x.detectDuplicates, D = !x.sortStable && a.slice(0), a.sort(U), E) {
                for (; b = a[e++];)b === a[e] && (d = c.push(e));
                for (; d--;)a.splice(c[d], 1)
            }
            return D = null, a
        }, z = b.getText = function (a) {
            var b, c = "", d = 0, e = a.nodeType;
            if (e) {
                if (1 === e || 9 === e || 11 === e) {
                    if ("string" == typeof a.textContent)return a.textContent;
                    for (a = a.firstChild; a; a = a.nextSibling)c += z(a)
                } else if (3 === e || 4 === e)return a.nodeValue
            } else for (; b = a[d++];)c += z(b);
            return c
        }, y = b.selectors = {
            cacheLength: 50,
            createPseudo: d,
            match: ob,
            attrHandle: {},
            find: {},
            relative: {
                ">": {dir: "parentNode", first: !0},
                " ": {dir: "parentNode"},
                "+": {dir: "previousSibling", first: !0},
                "~": {dir: "previousSibling"}
            },
            preFilter: {
                ATTR: function (a) {
                    return a[1] = a[1].replace(vb, wb), a[3] = (a[4] || a[5] || "").replace(vb, wb), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4)
                }, CHILD: function (a) {
                    return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || b.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && b.error(a[0]), a
                }, PSEUDO: function (a) {
                    var b, c = !a[5] && a[2];
                    return ob.CHILD.test(a[0]) ? null : (a[3] && void 0 !== a[4] ? a[2] = a[4] : c && mb.test(c) && (b = m(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3))
                }
            },
            filter: {
                TAG: function (a) {
                    var b = a.replace(vb, wb).toLowerCase();
                    return "*" === a ? function () {
                        return !0
                    } : function (a) {
                        return a.nodeName && a.nodeName.toLowerCase() === b
                    }
                }, CLASS: function (a) {
                    var b = R[a + " "];
                    return b || (b = new RegExp("(^|" + db + ")" + a + "(" + db + "|$)")) && R(a, function (a) {
                            return b.test("string" == typeof a.className && a.className || typeof a.getAttribute !== V && a.getAttribute("class") || "")
                        })
                }, ATTR: function (a, c, d) {
                    return function (e) {
                        var f = b.attr(e, a);
                        return null == f ? "!=" === c : c ? (f += "", "=" === c ? f === d : "!=" === c ? f !== d : "^=" === c ? d && 0 === f.indexOf(d) : "*=" === c ? d && f.indexOf(d) > -1 : "$=" === c ? d && f.slice(-d.length) === d : "~=" === c ? (" " + f + " ").indexOf(d) > -1 : "|=" === c ? f === d || f.slice(0, d.length + 1) === d + "-" : !1) : !0
                    }
                }, CHILD: function (a, b, c, d, e) {
                    var f = "nth" !== a.slice(0, 3), g = "last" !== a.slice(-4), h = "of-type" === b;
                    return 1 === d && 0 === e ? function (a) {
                        return !!a.parentNode
                    } : function (b, c, i) {
                        var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling", q = b.parentNode, r = h && b.nodeName.toLowerCase(), s = !i && !h;
                        if (q) {
                            if (f) {
                                for (; p;) {
                                    for (l = b; l = l[p];)if (h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType)return !1;
                                    o = p = "only" === a && !o && "nextSibling"
                                }
                                return !0
                            }
                            if (o = [g ? q.firstChild : q.lastChild], g && s) {
                                for (k = q[N] || (q[N] = {}), j = k[a] || [], n = j[0] === P && j[1], m = j[0] === P && j[2], l = n && q.childNodes[n]; l = ++n && l && l[p] || (m = n = 0) || o.pop();)if (1 === l.nodeType && ++m && l === b) {
                                    k[a] = [P, n, m];
                                    break
                                }
                            } else if (s && (j = (b[N] || (b[N] = {}))[a]) && j[0] === P)m = j[1]; else for (; (l = ++n && l && l[p] || (m = n = 0) || o.pop()) && ((h ? l.nodeName.toLowerCase() !== r : 1 !== l.nodeType) || !++m || (s && ((l[N] || (l[N] = {}))[a] = [P, m]), l !== b)););
                            return m -= e, m === d || m % d === 0 && m / d >= 0
                        }
                    }
                }, PSEUDO: function (a, c) {
                    var e, f = y.pseudos[a] || y.setFilters[a.toLowerCase()] || b.error("unsupported pseudo: " + a);
                    return f[N] ? f(c) : f.length > 1 ? (e = [a, a, "", c], y.setFilters.hasOwnProperty(a.toLowerCase()) ? d(function (a, b) {
                        for (var d, e = f(a, c), g = e.length; g--;)d = bb.call(a, e[g]), a[d] = !(b[d] = e[g])
                    }) : function (a) {
                        return f(a, 0, e)
                    }) : f
                }
            },
            pseudos: {
                not: d(function (a) {
                    var b = [], c = [], e = B(a.replace(ib, "$1"));
                    return e[N] ? d(function (a, b, c, d) {
                        for (var f, g = e(a, null, d, []), h = a.length; h--;)(f = g[h]) && (a[h] = !(b[h] = f))
                    }) : function (a, d, f) {
                        return b[0] = a, e(b, null, f, c), !c.pop()
                    }
                }), has: d(function (a) {
                    return function (c) {
                        return b(a, c).length > 0
                    }
                }), contains: d(function (a) {
                    return function (b) {
                        return (b.textContent || b.innerText || z(b)).indexOf(a) > -1
                    }
                }), lang: d(function (a) {
                    return nb.test(a || "") || b.error("unsupported lang: " + a), a = a.replace(vb, wb).toLowerCase(), function (b) {
                        var c;
                        do if (c = I ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang"))return c = c.toLowerCase(), c === a || 0 === c.indexOf(a + "-"); while ((b = b.parentNode) && 1 === b.nodeType);
                        return !1
                    }
                }), target: function (b) {
                    var c = a.location && a.location.hash;
                    return c && c.slice(1) === b.id
                }, root: function (a) {
                    return a === H
                }, focus: function (a) {
                    return a === G.activeElement && (!G.hasFocus || G.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
                }, enabled: function (a) {
                    return a.disabled === !1
                }, disabled: function (a) {
                    return a.disabled === !0
                }, checked: function (a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && !!a.checked || "option" === b && !!a.selected
                }, selected: function (a) {
                    return a.parentNode && a.parentNode.selectedIndex, a.selected === !0
                }, empty: function (a) {
                    for (a = a.firstChild; a; a = a.nextSibling)if (a.nodeType < 6)return !1;
                    return !0
                }, parent: function (a) {
                    return !y.pseudos.empty(a)
                }, header: function (a) {
                    return qb.test(a.nodeName)
                }, input: function (a) {
                    return pb.test(a.nodeName)
                }, button: function (a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && "button" === a.type || "button" === b
                }, text: function (a) {
                    var b;
                    return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase())
                }, first: j(function () {
                    return [0]
                }), last: j(function (a, b) {
                    return [b - 1]
                }), eq: j(function (a, b, c) {
                    return [0 > c ? c + b : c]
                }), even: j(function (a, b) {
                    for (var c = 0; b > c; c += 2)a.push(c);
                    return a
                }), odd: j(function (a, b) {
                    for (var c = 1; b > c; c += 2)a.push(c);
                    return a
                }), lt: j(function (a, b, c) {
                    for (var d = 0 > c ? c + b : c; --d >= 0;)a.push(d);
                    return a
                }), gt: j(function (a, b, c) {
                    for (var d = 0 > c ? c + b : c; ++d < b;)a.push(d);
                    return a
                })
            }
        }, y.pseudos.nth = y.pseudos.eq;
        for (w in{radio: !0, checkbox: !0, file: !0, password: !0, image: !0})y.pseudos[w] = h(w);
        for (w in{submit: !0, reset: !0})y.pseudos[w] = i(w);
        return l.prototype = y.filters = y.pseudos, y.setFilters = new l, B = b.compile = function (a, b) {
            var c, d = [], e = [], f = T[a + " "];
            if (!f) {
                for (b || (b = m(a)), c = b.length; c--;)f = s(b[c]), f[N] ? d.push(f) : e.push(f);
                f = T(a, t(e, d))
            }
            return f
        }, x.sortStable = N.split("").sort(U).join("") === N, x.detectDuplicates = !!E, F(), x.sortDetached = e(function (a) {
            return 1 & a.compareDocumentPosition(G.createElement("div"))
        }), e(function (a) {
            return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href")
        }) || f("type|href|height|width", function (a, b, c) {
            return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
        }), x.attributes && e(function (a) {
            return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value")
        }) || f("value", function (a, b, c) {
            return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue
        }), e(function (a) {
            return null == a.getAttribute("disabled")
        }) || f(cb, function (a, b, c) {
            var d;
            return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null
        }), b
    }(a);
    ab.find = eb, ab.expr = eb.selectors, ab.expr[":"] = ab.expr.pseudos, ab.unique = eb.uniqueSort, ab.text = eb.getText, ab.isXMLDoc = eb.isXML, ab.contains = eb.contains;
    var fb = ab.expr.match.needsContext, gb = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, hb = /^.[^:#\[\.,]*$/;
    ab.filter = function (a, b, c) {
        var d = b[0];
        return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? ab.find.matchesSelector(d, a) ? [d] : [] : ab.find.matches(a, ab.grep(b, function (a) {
            return 1 === a.nodeType
        }))
    }, ab.fn.extend({
        find: function (a) {
            var b, c = this.length, d = [], e = this;
            if ("string" != typeof a)return this.pushStack(ab(a).filter(function () {
                for (b = 0; c > b; b++)if (ab.contains(e[b], this))return !0
            }));
            for (b = 0; c > b; b++)ab.find(a, e[b], d);
            return d = this.pushStack(c > 1 ? ab.unique(d) : d), d.selector = this.selector ? this.selector + " " + a : a, d
        }, filter: function (a) {
            return this.pushStack(d(this, a || [], !1))
        }, not: function (a) {
            return this.pushStack(d(this, a || [], !0))
        }, is: function (a) {
            return !!d(this, "string" == typeof a && fb.test(a) ? ab(a) : a || [], !1).length
        }
    });
    var ib, jb = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, kb = ab.fn.init = function (a, b) {
        var c, d;
        if (!a)return this;
        if ("string" == typeof a) {
            if (c = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null, a, null] : jb.exec(a), !c || !c[1] && b)return !b || b.jquery ? (b || ib).find(a) : this.constructor(b).find(a);
            if (c[1]) {
                if (b = b instanceof ab ? b[0] : b, ab.merge(this, ab.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : $, !0)), gb.test(c[1]) && ab.isPlainObject(b))for (c in b)ab.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
                return this
            }
            return d = $.getElementById(c[2]), d && d.parentNode && (this.length = 1, this[0] = d), this.context = $, this.selector = a, this
        }
        return a.nodeType ? (this.context = this[0] = a, this.length = 1, this) : ab.isFunction(a) ? "undefined" != typeof ib.ready ? ib.ready(a) : a(ab) : (void 0 !== a.selector && (this.selector = a.selector, this.context = a.context), ab.makeArray(a, this))
    };
    kb.prototype = ab.fn, ib = ab($);
    var lb = /^(?:parents|prev(?:Until|All))/, mb = {children: !0, contents: !0, next: !0, prev: !0};
    ab.extend({
        dir: function (a, b, c) {
            for (var d = [], e = void 0 !== c; (a = a[b]) && 9 !== a.nodeType;)if (1 === a.nodeType) {
                if (e && ab(a).is(c))break;
                d.push(a)
            }
            return d
        }, sibling: function (a, b) {
            for (var c = []; a; a = a.nextSibling)1 === a.nodeType && a !== b && c.push(a);
            return c
        }
    }), ab.fn.extend({
        has: function (a) {
            var b = ab(a, this), c = b.length;
            return this.filter(function () {
                for (var a = 0; c > a; a++)if (ab.contains(this, b[a]))return !0
            })
        }, closest: function (a, b) {
            for (var c, d = 0, e = this.length, f = [], g = fb.test(a) || "string" != typeof a ? ab(a, b || this.context) : 0; e > d; d++)for (c = this[d]; c && c !== b; c = c.parentNode)if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && ab.find.matchesSelector(c, a))) {
                f.push(c);
                break
            }
            return this.pushStack(f.length > 1 ? ab.unique(f) : f)
        }, index: function (a) {
            return a ? "string" == typeof a ? U.call(ab(a), this[0]) : U.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        }, add: function (a, b) {
            return this.pushStack(ab.unique(ab.merge(this.get(), ab(a, b))))
        }, addBack: function (a) {
            return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
        }
    }), ab.each({
        parent: function (a) {
            var b = a.parentNode;
            return b && 11 !== b.nodeType ? b : null
        }, parents: function (a) {
            return ab.dir(a, "parentNode")
        }, parentsUntil: function (a, b, c) {
            return ab.dir(a, "parentNode", c)
        }, next: function (a) {
            return e(a, "nextSibling")
        }, prev: function (a) {
            return e(a, "previousSibling")
        }, nextAll: function (a) {
            return ab.dir(a, "nextSibling")
        }, prevAll: function (a) {
            return ab.dir(a, "previousSibling")
        }, nextUntil: function (a, b, c) {
            return ab.dir(a, "nextSibling", c)
        }, prevUntil: function (a, b, c) {
            return ab.dir(a, "previousSibling", c)
        }, siblings: function (a) {
            return ab.sibling((a.parentNode || {}).firstChild, a)
        }, children: function (a) {
            return ab.sibling(a.firstChild)
        }, contents: function (a) {
            return a.contentDocument || ab.merge([], a.childNodes)
        }
    }, function (a, b) {
        ab.fn[a] = function (c, d) {
            var e = ab.map(this, b, c);
            return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = ab.filter(d, e)), this.length > 1 && (mb[a] || ab.unique(e), lb.test(a) && e.reverse()), this.pushStack(e)
        }
    });
    var nb = /\S+/g, ob = {};
    ab.Callbacks = function (a) {
        a = "string" == typeof a ? ob[a] || f(a) : ab.extend({}, a);
        var b, c, d, e, g, h, i = [], j = !a.once && [], k = function (f) {
            for (b = a.memory && f, c = !0, h = e || 0, e = 0, g = i.length, d = !0; i && g > h; h++)if (i[h].apply(f[0], f[1]) === !1 && a.stopOnFalse) {
                b = !1;
                break
            }
            d = !1, i && (j ? j.length && k(j.shift()) : b ? i = [] : l.disable())
        }, l = {
            add: function () {
                if (i) {
                    var c = i.length;
                    !function f(b) {
                        ab.each(b, function (b, c) {
                            var d = ab.type(c);
                            "function" === d ? a.unique && l.has(c) || i.push(c) : c && c.length && "string" !== d && f(c)
                        })
                    }(arguments), d ? g = i.length : b && (e = c, k(b))
                }
                return this
            }, remove: function () {
                return i && ab.each(arguments, function (a, b) {
                    for (var c; (c = ab.inArray(b, i, c)) > -1;)i.splice(c, 1), d && (g >= c && g--, h >= c && h--)
                }), this
            }, has: function (a) {
                return a ? ab.inArray(a, i) > -1 : !(!i || !i.length)
            }, empty: function () {
                return i = [], g = 0, this
            }, disable: function () {
                return i = j = b = void 0, this
            }, disabled: function () {
                return !i
            }, lock: function () {
                return j = void 0, b || l.disable(), this
            }, locked: function () {
                return !j
            }, fireWith: function (a, b) {
                return !i || c && !j || (b = b || [], b = [a, b.slice ? b.slice() : b], d ? j.push(b) : k(b)), this
            }, fire: function () {
                return l.fireWith(this, arguments), this
            }, fired: function () {
                return !!c
            }
        };
        return l
    }, ab.extend({
        Deferred: function (a) {
            var b = [["resolve", "done", ab.Callbacks("once memory"), "resolved"], ["reject", "fail", ab.Callbacks("once memory"), "rejected"], ["notify", "progress", ab.Callbacks("memory")]], c = "pending", d = {
                state: function () {
                    return c
                }, always: function () {
                    return e.done(arguments).fail(arguments), this
                }, then: function () {
                    var a = arguments;
                    return ab.Deferred(function (c) {
                        ab.each(b, function (b, f) {
                            var g = ab.isFunction(a[b]) && a[b];
                            e[f[1]](function () {
                                var a = g && g.apply(this, arguments);
                                a && ab.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments)
                            })
                        }), a = null
                    }).promise()
                }, promise: function (a) {
                    return null != a ? ab.extend(a, d) : d
                }
            }, e = {};
            return d.pipe = d.then, ab.each(b, function (a, f) {
                var g = f[2], h = f[3];
                d[f[1]] = g.add, h && g.add(function () {
                    c = h
                }, b[1 ^ a][2].disable, b[2][2].lock), e[f[0]] = function () {
                    return e[f[0] + "With"](this === e ? d : this, arguments), this
                }, e[f[0] + "With"] = g.fireWith
            }), d.promise(e), a && a.call(e, e), e
        }, when: function (a) {
            var b, c, d, e = 0, f = R.call(arguments), g = f.length, h = 1 !== g || a && ab.isFunction(a.promise) ? g : 0, i = 1 === h ? a : ab.Deferred(), j = function (a, c, d) {
                return function (e) {
                    c[a] = this, d[a] = arguments.length > 1 ? R.call(arguments) : e, d === b ? i.notifyWith(c, d) : --h || i.resolveWith(c, d)
                }
            };
            if (g > 1)for (b = new Array(g), c = new Array(g), d = new Array(g); g > e; e++)f[e] && ab.isFunction(f[e].promise) ? f[e].promise().done(j(e, d, f)).fail(i.reject).progress(j(e, c, b)) : --h;
            return h || i.resolveWith(d, f), i.promise()
        }
    });
    var pb;
    ab.fn.ready = function (a) {
        return ab.ready.promise().done(a), this
    }, ab.extend({
        isReady: !1, readyWait: 1, holdReady: function (a) {
            a ? ab.readyWait++ : ab.ready(!0)
        }, ready: function (a) {
            (a === !0 ? --ab.readyWait : ab.isReady) || (ab.isReady = !0, a !== !0 && --ab.readyWait > 0 || (pb.resolveWith($, [ab]), ab.fn.trigger && ab($).trigger("ready").off("ready")))
        }
    }), ab.ready.promise = function (b) {
        return pb || (pb = ab.Deferred(), "complete" === $.readyState ? setTimeout(ab.ready) : ($.addEventListener("DOMContentLoaded", g, !1), a.addEventListener("load", g, !1))), pb.promise(b)
    }, ab.ready.promise();
    var qb = ab.access = function (a, b, c, d, e, f, g) {
        var h = 0, i = a.length, j = null == c;
        if ("object" === ab.type(c)) {
            e = !0;
            for (h in c)ab.access(a, b, h, c[h], !0, f, g)
        } else if (void 0 !== d && (e = !0, ab.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), b = null) : (j = b, b = function (a, b, c) {
                return j.call(ab(a), c)
            })), b))for (; i > h; h++)b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
        return e ? a : j ? b.call(a) : i ? b(a[0], c) : f
    };
    ab.acceptData = function (a) {
        return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType
    }, h.uid = 1, h.accepts = ab.acceptData, h.prototype = {
        key: function (a) {
            if (!h.accepts(a))return 0;
            var b = {}, c = a[this.expando];
            if (!c) {
                c = h.uid++;
                try {
                    b[this.expando] = {value: c}, Object.defineProperties(a, b)
                } catch (d) {
                    b[this.expando] = c, ab.extend(a, b)
                }
            }
            return this.cache[c] || (this.cache[c] = {}), c
        }, set: function (a, b, c) {
            var d, e = this.key(a), f = this.cache[e];
            if ("string" == typeof b)f[b] = c; else if (ab.isEmptyObject(f))ab.extend(this.cache[e], b); else for (d in b)f[d] = b[d];
            return f
        }, get: function (a, b) {
            var c = this.cache[this.key(a)];
            return void 0 === b ? c : c[b]
        }, access: function (a, b, c) {
            var d;
            return void 0 === b || b && "string" == typeof b && void 0 === c ? (d = this.get(a, b), void 0 !== d ? d : this.get(a, ab.camelCase(b))) : (this.set(a, b, c), void 0 !== c ? c : b)
        }, remove: function (a, b) {
            var c, d, e, f = this.key(a), g = this.cache[f];
            if (void 0 === b)this.cache[f] = {}; else {
                ab.isArray(b) ? d = b.concat(b.map(ab.camelCase)) : (e = ab.camelCase(b), b in g ? d = [b, e] : (d = e, d = d in g ? [d] : d.match(nb) || [])), c = d.length;
                for (; c--;)delete g[d[c]]
            }
        }, hasData: function (a) {
            return !ab.isEmptyObject(this.cache[a[this.expando]] || {})
        }, discard: function (a) {
            a[this.expando] && delete this.cache[a[this.expando]]
        }
    };
    var rb = new h, sb = new h, tb = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, ub = /([A-Z])/g;
    ab.extend({
        hasData: function (a) {
            return sb.hasData(a) || rb.hasData(a)
        }, data: function (a, b, c) {
            return sb.access(a, b, c)
        }, removeData: function (a, b) {
            sb.remove(a, b)
        }, _data: function (a, b, c) {
            return rb.access(a, b, c)
        }, _removeData: function (a, b) {
            rb.remove(a, b)
        }
    }), ab.fn.extend({
        data: function (a, b) {
            var c, d, e, f = this[0], g = f && f.attributes;
            if (void 0 === a) {
                if (this.length && (e = sb.get(f), 1 === f.nodeType && !rb.get(f, "hasDataAttrs"))) {
                    for (c = g.length; c--;)d = g[c].name, 0 === d.indexOf("data-") && (d = ab.camelCase(d.slice(5)), i(f, d, e[d]));
                    rb.set(f, "hasDataAttrs", !0)
                }
                return e
            }
            return "object" == typeof a ? this.each(function () {
                sb.set(this, a)
            }) : qb(this, function (b) {
                var c, d = ab.camelCase(a);
                if (f && void 0 === b) {
                    if (c = sb.get(f, a), void 0 !== c)return c;
                    if (c = sb.get(f, d), void 0 !== c)return c;
                    if (c = i(f, d, void 0), void 0 !== c)return c
                } else this.each(function () {
                    var c = sb.get(this, d);
                    sb.set(this, d, b), -1 !== a.indexOf("-") && void 0 !== c && sb.set(this, a, b)
                })
            }, null, b, arguments.length > 1, null, !0)
        }, removeData: function (a) {
            return this.each(function () {
                sb.remove(this, a)
            })
        }
    }), ab.extend({
        queue: function (a, b, c) {
            var d;
            return a ? (b = (b || "fx") + "queue", d = rb.get(a, b), c && (!d || ab.isArray(c) ? d = rb.access(a, b, ab.makeArray(c)) : d.push(c)), d || []) : void 0
        }, dequeue: function (a, b) {
            b = b || "fx";
            var c = ab.queue(a, b), d = c.length, e = c.shift(), f = ab._queueHooks(a, b), g = function () {
                ab.dequeue(a, b)
            };
            "inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift("inprogress"), delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire()
        }, _queueHooks: function (a, b) {
            var c = b + "queueHooks";
            return rb.get(a, c) || rb.access(a, c, {
                    empty: ab.Callbacks("once memory").add(function () {
                        rb.remove(a, [b + "queue", c])
                    })
                })
        }
    }), ab.fn.extend({
        queue: function (a, b) {
            var c = 2;
            return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? ab.queue(this[0], a) : void 0 === b ? this : this.each(function () {
                var c = ab.queue(this, a, b);
                ab._queueHooks(this, a), "fx" === a && "inprogress" !== c[0] && ab.dequeue(this, a)
            })
        }, dequeue: function (a) {
            return this.each(function () {
                ab.dequeue(this, a)
            })
        }, clearQueue: function (a) {
            return this.queue(a || "fx", [])
        }, promise: function (a, b) {
            var c, d = 1, e = ab.Deferred(), f = this, g = this.length, h = function () {
                --d || e.resolveWith(f, [f])
            };
            for ("string" != typeof a && (b = a, a = void 0), a = a || "fx"; g--;)c = rb.get(f[g], a + "queueHooks"), c && c.empty && (d++, c.empty.add(h));
            return h(), e.promise(b)
        }
    });
    var vb = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, wb = ["Top", "Right", "Bottom", "Left"], xb = function (a, b) {
        return a = b || a, "none" === ab.css(a, "display") || !ab.contains(a.ownerDocument, a)
    }, yb = /^(?:checkbox|radio)$/i;
    !function () {
        var a = $.createDocumentFragment(), b = a.appendChild($.createElement("div"));
        b.innerHTML = "<input type='radio' checked='checked' name='t'/>", Z.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, b.innerHTML = "<textarea>x</textarea>", Z.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue
    }();
    var zb = "undefined";
    Z.focusinBubbles = "onfocusin" in a;
    var Ab = /^key/, Bb = /^(?:mouse|contextmenu)|click/, Cb = /^(?:focusinfocus|focusoutblur)$/, Db = /^([^.]*)(?:\.(.+)|)$/;
    ab.event = {
        global: {},
        add: function (a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, n, o, p, q = rb.get(a);
            if (q)for (c.handler && (f = c, c = f.handler, e = f.selector), c.guid || (c.guid = ab.guid++), (i = q.events) || (i = q.events = {}), (g = q.handle) || (g = q.handle = function (b) {
                return typeof ab !== zb && ab.event.triggered !== b.type ? ab.event.dispatch.apply(a, arguments) : void 0
            }), b = (b || "").match(nb) || [""], j = b.length; j--;)h = Db.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".").sort(), n && (l = ab.event.special[n] || {}, n = (e ? l.delegateType : l.bindType) || n, l = ab.event.special[n] || {}, k = ab.extend({
                type: n,
                origType: p,
                data: d,
                handler: c,
                guid: c.guid,
                selector: e,
                needsContext: e && ab.expr.match.needsContext.test(e),
                namespace: o.join(".")
            }, f), (m = i[n]) || (m = i[n] = [], m.delegateCount = 0, l.setup && l.setup.call(a, d, o, g) !== !1 || a.addEventListener && a.addEventListener(n, g, !1)), l.add && (l.add.call(a, k), k.handler.guid || (k.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, 0, k) : m.push(k), ab.event.global[n] = !0)
        },
        remove: function (a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, n, o, p, q = rb.hasData(a) && rb.get(a);
            if (q && (i = q.events)) {
                for (b = (b || "").match(nb) || [""], j = b.length; j--;)if (h = Db.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".").sort(), n) {
                    for (l = ab.event.special[n] || {}, n = (d ? l.delegateType : l.bindType) || n, m = i[n] || [], h = h[2] && new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)"), g = f = m.length; f--;)k = m[f], !e && p !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1), k.selector && m.delegateCount--, l.remove && l.remove.call(a, k));
                    g && !m.length && (l.teardown && l.teardown.call(a, o, q.handle) !== !1 || ab.removeEvent(a, n, q.handle), delete i[n])
                } else for (n in i)ab.event.remove(a, n + b[j], c, d, !0);
                ab.isEmptyObject(i) && (delete q.handle, rb.remove(a, "events"))
            }
        },
        trigger: function (b, c, d, e) {
            var f, g, h, i, j, k, l, m = [d || $], n = X.call(b, "type") ? b.type : b, o = X.call(b, "namespace") ? b.namespace.split(".") : [];
            if (g = h = d = d || $, 3 !== d.nodeType && 8 !== d.nodeType && !Cb.test(n + ab.event.triggered) && (n.indexOf(".") >= 0 && (o = n.split("."), n = o.shift(), o.sort()), j = n.indexOf(":") < 0 && "on" + n, b = b[ab.expando] ? b : new ab.Event(n, "object" == typeof b && b), b.isTrigger = e ? 2 : 3, b.namespace = o.join("."), b.namespace_re = b.namespace ? new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result = void 0, b.target || (b.target = d), c = null == c ? [b] : ab.makeArray(c, [b]), l = ab.event.special[n] || {}, e || !l.trigger || l.trigger.apply(d, c) !== !1)) {
                if (!e && !l.noBubble && !ab.isWindow(d)) {
                    for (i = l.delegateType || n, Cb.test(i + n) || (g = g.parentNode); g; g = g.parentNode)m.push(g), h = g;
                    h === (d.ownerDocument || $) && m.push(h.defaultView || h.parentWindow || a)
                }
                for (f = 0; (g = m[f++]) && !b.isPropagationStopped();)b.type = f > 1 ? i : l.bindType || n, k = (rb.get(g, "events") || {})[b.type] && rb.get(g, "handle"), k && k.apply(g, c), k = j && g[j], k && k.apply && ab.acceptData(g) && (b.result = k.apply(g, c), b.result === !1 && b.preventDefault());
                return b.type = n, e || b.isDefaultPrevented() || l._default && l._default.apply(m.pop(), c) !== !1 || !ab.acceptData(d) || j && ab.isFunction(d[n]) && !ab.isWindow(d) && (h = d[j], h && (d[j] = null), ab.event.triggered = n, d[n](), ab.event.triggered = void 0, h && (d[j] = h)), b.result
            }
        },
        dispatch: function (a) {
            a = ab.event.fix(a);
            var b, c, d, e, f, g = [], h = R.call(arguments), i = (rb.get(this, "events") || {})[a.type] || [], j = ab.event.special[a.type] || {};
            if (h[0] = a, a.delegateTarget = this, !j.preDispatch || j.preDispatch.call(this, a) !== !1) {
                for (g = ab.event.handlers.call(this, a, i), b = 0; (e = g[b++]) && !a.isPropagationStopped();)for (a.currentTarget = e.elem, c = 0; (f = e.handlers[c++]) && !a.isImmediatePropagationStopped();)(!a.namespace_re || a.namespace_re.test(f.namespace)) && (a.handleObj = f, a.data = f.data, d = ((ab.event.special[f.origType] || {}).handle || f.handler).apply(e.elem, h), void 0 !== d && (a.result = d) === !1 && (a.preventDefault(), a.stopPropagation()));
                return j.postDispatch && j.postDispatch.call(this, a), a.result
            }
        },
        handlers: function (a, b) {
            var c, d, e, f, g = [], h = b.delegateCount, i = a.target;
            if (h && i.nodeType && (!a.button || "click" !== a.type))for (; i !== this; i = i.parentNode || this)if (i.disabled !== !0 || "click" !== a.type) {
                for (d = [], c = 0; h > c; c++)f = b[c], e = f.selector + " ", void 0 === d[e] && (d[e] = f.needsContext ? ab(e, this).index(i) >= 0 : ab.find(e, this, null, [i]).length), d[e] && d.push(f);
                d.length && g.push({elem: i, handlers: d})
            }
            return h < b.length && g.push({elem: this, handlers: b.slice(h)}), g
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "), filter: function (a, b) {
                return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode), a
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function (a, b) {
                var c, d, e, f = b.button;
                return null == a.pageX && null != b.clientX && (c = a.target.ownerDocument || $, d = c.documentElement, e = c.body, a.pageX = b.clientX + (d && d.scrollLeft || e && e.scrollLeft || 0) - (d && d.clientLeft || e && e.clientLeft || 0), a.pageY = b.clientY + (d && d.scrollTop || e && e.scrollTop || 0) - (d && d.clientTop || e && e.clientTop || 0)), a.which || void 0 === f || (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0), a
            }
        },
        fix: function (a) {
            if (a[ab.expando])return a;
            var b, c, d, e = a.type, f = a, g = this.fixHooks[e];
            for (g || (this.fixHooks[e] = g = Bb.test(e) ? this.mouseHooks : Ab.test(e) ? this.keyHooks : {}), d = g.props ? this.props.concat(g.props) : this.props, a = new ab.Event(f), b = d.length; b--;)c = d[b], a[c] = f[c];
            return a.target || (a.target = $), 3 === a.target.nodeType && (a.target = a.target.parentNode), g.filter ? g.filter(a, f) : a
        },
        special: {
            load: {noBubble: !0}, focus: {
                trigger: function () {
                    return this !== l() && this.focus ? (this.focus(), !1) : void 0
                }, delegateType: "focusin"
            }, blur: {
                trigger: function () {
                    return this === l() && this.blur ? (this.blur(), !1) : void 0
                }, delegateType: "focusout"
            }, click: {
                trigger: function () {
                    return "checkbox" === this.type && this.click && ab.nodeName(this, "input") ? (this.click(), !1) : void 0
                }, _default: function (a) {
                    return ab.nodeName(a.target, "a")
                }
            }, beforeunload: {
                postDispatch: function (a) {
                    void 0 !== a.result && (a.originalEvent.returnValue = a.result)
                }
            }
        },
        simulate: function (a, b, c, d) {
            var e = ab.extend(new ab.Event, c, {type: a, isSimulated: !0, originalEvent: {}});
            d ? ab.event.trigger(e, null, b) : ab.event.dispatch.call(b, e), e.isDefaultPrevented() && c.preventDefault()
        }
    }, ab.removeEvent = function (a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c, !1)
    }, ab.Event = function (a, b) {
        return this instanceof ab.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.getPreventDefault && a.getPreventDefault() ? j : k) : this.type = a, b && ab.extend(this, b), this.timeStamp = a && a.timeStamp || ab.now(), void(this[ab.expando] = !0)) : new ab.Event(a, b)
    }, ab.Event.prototype = {
        isDefaultPrevented: k,
        isPropagationStopped: k,
        isImmediatePropagationStopped: k,
        preventDefault: function () {
            var a = this.originalEvent;
            this.isDefaultPrevented = j, a && a.preventDefault && a.preventDefault()
        },
        stopPropagation: function () {
            var a = this.originalEvent;
            this.isPropagationStopped = j, a && a.stopPropagation && a.stopPropagation()
        },
        stopImmediatePropagation: function () {
            this.isImmediatePropagationStopped = j, this.stopPropagation()
        }
    }, ab.each({mouseenter: "mouseover", mouseleave: "mouseout"}, function (a, b) {
        ab.event.special[a] = {
            delegateType: b, bindType: b, handle: function (a) {
                var c, d = this, e = a.relatedTarget, f = a.handleObj;
                return (!e || e !== d && !ab.contains(d, e)) && (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b), c
            }
        }
    }), Z.focusinBubbles || ab.each({focus: "focusin", blur: "focusout"}, function (a, b) {
        var c = function (a) {
            ab.event.simulate(b, a.target, ab.event.fix(a), !0)
        };
        ab.event.special[b] = {
            setup: function () {
                var d = this.ownerDocument || this, e = rb.access(d, b);
                e || d.addEventListener(a, c, !0), rb.access(d, b, (e || 0) + 1)
            }, teardown: function () {
                var d = this.ownerDocument || this, e = rb.access(d, b) - 1;
                e ? rb.access(d, b, e) : (d.removeEventListener(a, c, !0), rb.remove(d, b))
            }
        }
    }), ab.fn.extend({
        on: function (a, b, c, d, e) {
            var f, g;
            if ("object" == typeof a) {
                "string" != typeof b && (c = c || b, b = void 0);
                for (g in a)this.on(g, b, c, a[g], e);
                return this
            }
            if (null == c && null == d ? (d = b, c = b = void 0) : null == d && ("string" == typeof b ? (d = c, c = void 0) : (d = c, c = b, b = void 0)), d === !1)d = k; else if (!d)return this;
            return 1 === e && (f = d, d = function (a) {
                return ab().off(a), f.apply(this, arguments)
            }, d.guid = f.guid || (f.guid = ab.guid++)), this.each(function () {
                ab.event.add(this, a, d, c, b)
            })
        }, one: function (a, b, c, d) {
            return this.on(a, b, c, d, 1)
        }, off: function (a, b, c) {
            var d, e;
            if (a && a.preventDefault && a.handleObj)return d = a.handleObj, ab(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler), this;
            if ("object" == typeof a) {
                for (e in a)this.off(e, b, a[e]);
                return this
            }
            return (b === !1 || "function" == typeof b) && (c = b, b = void 0), c === !1 && (c = k), this.each(function () {
                ab.event.remove(this, a, c, b)
            })
        }, trigger: function (a, b) {
            return this.each(function () {
                ab.event.trigger(a, b, this)
            })
        }, triggerHandler: function (a, b) {
            var c = this[0];
            return c ? ab.event.trigger(a, b, c, !0) : void 0
        }
    });
    var Eb = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, Fb = /<([\w:]+)/, Gb = /<|&#?\w+;/, Hb = /<(?:script|style|link)/i, Ib = /checked\s*(?:[^=]|=\s*.checked.)/i, Jb = /^$|\/(?:java|ecma)script/i, Kb = /^true\/(.*)/, Lb = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g, Mb = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    };
    Mb.optgroup = Mb.option, Mb.tbody = Mb.tfoot = Mb.colgroup = Mb.caption = Mb.thead, Mb.th = Mb.td, ab.extend({
        clone: function (a, b, c) {
            var d, e, f, g, h = a.cloneNode(!0), i = ab.contains(a.ownerDocument, a);
            if (!(Z.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || ab.isXMLDoc(a)))for (g = r(h), f = r(a), d = 0, e = f.length; e > d; d++)s(f[d], g[d]);
            if (b)if (c)for (f = f || r(a), g = g || r(h), d = 0, e = f.length; e > d; d++)q(f[d], g[d]); else q(a, h);
            return g = r(h, "script"), g.length > 0 && p(g, !i && r(a, "script")), h
        }, buildFragment: function (a, b, c, d) {
            for (var e, f, g, h, i, j, k = b.createDocumentFragment(), l = [], m = 0, n = a.length; n > m; m++)if (e = a[m], e || 0 === e)if ("object" === ab.type(e))ab.merge(l, e.nodeType ? [e] : e); else if (Gb.test(e)) {
                for (f = f || k.appendChild(b.createElement("div")), g = (Fb.exec(e) || ["", ""])[1].toLowerCase(), h = Mb[g] || Mb._default, f.innerHTML = h[1] + e.replace(Eb, "<$1></$2>") + h[2], j = h[0]; j--;)f = f.lastChild;
                ab.merge(l, f.childNodes), f = k.firstChild, f.textContent = ""
            } else l.push(b.createTextNode(e));
            for (k.textContent = "", m = 0; e = l[m++];)if ((!d || -1 === ab.inArray(e, d)) && (i = ab.contains(e.ownerDocument, e), f = r(k.appendChild(e), "script"), i && p(f), c))for (j = 0; e = f[j++];)Jb.test(e.type || "") && c.push(e);
            return k
        }, cleanData: function (a) {
            for (var b, c, d, e, f, g, h = ab.event.special, i = 0; void 0 !== (c = a[i]); i++) {
                if (ab.acceptData(c) && (f = c[rb.expando], f && (b = rb.cache[f]))) {
                    if (d = Object.keys(b.events || {}), d.length)for (g = 0; void 0 !== (e = d[g]); g++)h[e] ? ab.event.remove(c, e) : ab.removeEvent(c, e, b.handle);
                    rb.cache[f] && delete rb.cache[f]
                }
                delete sb.cache[c[sb.expando]]
            }
        }
    }), ab.fn.extend({
        text: function (a) {
            return qb(this, function (a) {
                return void 0 === a ? ab.text(this) : this.empty().each(function () {
                    (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) && (this.textContent = a)
                })
            }, null, a, arguments.length)
        }, append: function () {
            return this.domManip(arguments, function (a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = m(this, a);
                    b.appendChild(a)
                }
            })
        }, prepend: function () {
            return this.domManip(arguments, function (a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = m(this, a);
                    b.insertBefore(a, b.firstChild)
                }
            })
        }, before: function () {
            return this.domManip(arguments, function (a) {
                this.parentNode && this.parentNode.insertBefore(a, this)
            })
        }, after: function () {
            return this.domManip(arguments, function (a) {
                this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
            })
        }, remove: function (a, b) {
            for (var c, d = a ? ab.filter(a, this) : this, e = 0; null != (c = d[e]); e++)b || 1 !== c.nodeType || ab.cleanData(r(c)), c.parentNode && (b && ab.contains(c.ownerDocument, c) && p(r(c, "script")), c.parentNode.removeChild(c));
            return this
        }, empty: function () {
            for (var a, b = 0; null != (a = this[b]); b++)1 === a.nodeType && (ab.cleanData(r(a, !1)), a.textContent = "");
            return this
        }, clone: function (a, b) {
            return a = null == a ? !1 : a, b = null == b ? a : b, this.map(function () {
                return ab.clone(this, a, b)
            })
        }, html: function (a) {
            return qb(this, function (a) {
                var b = this[0] || {}, c = 0, d = this.length;
                if (void 0 === a && 1 === b.nodeType)return b.innerHTML;
                if ("string" == typeof a && !Hb.test(a) && !Mb[(Fb.exec(a) || ["", ""])[1].toLowerCase()]) {
                    a = a.replace(Eb, "<$1></$2>");
                    try {
                        for (; d > c; c++)b = this[c] || {}, 1 === b.nodeType && (ab.cleanData(r(b, !1)), b.innerHTML = a);
                        b = 0
                    } catch (e) {
                    }
                }
                b && this.empty().append(a)
            }, null, a, arguments.length)
        }, replaceWith: function () {
            var a = arguments[0];
            return this.domManip(arguments, function (b) {
                a = this.parentNode, ab.cleanData(r(this)), a && a.replaceChild(b, this)
            }), a && (a.length || a.nodeType) ? this : this.remove()
        }, detach: function (a) {
            return this.remove(a, !0)
        }, domManip: function (a, b) {
            a = S.apply([], a);
            var c, d, e, f, g, h, i = 0, j = this.length, k = this, l = j - 1, m = a[0], p = ab.isFunction(m);
            if (p || j > 1 && "string" == typeof m && !Z.checkClone && Ib.test(m))return this.each(function (c) {
                var d = k.eq(c);
                p && (a[0] = m.call(this, c, d.html())), d.domManip(a, b)
            });
            if (j && (c = ab.buildFragment(a, this[0].ownerDocument, !1, this), d = c.firstChild, 1 === c.childNodes.length && (c = d), d)) {
                for (e = ab.map(r(c, "script"), n), f = e.length; j > i; i++)g = c, i !== l && (g = ab.clone(g, !0, !0), f && ab.merge(e, r(g, "script"))), b.call(this[i], g, i);
                if (f)for (h = e[e.length - 1].ownerDocument, ab.map(e, o), i = 0; f > i; i++)g = e[i], Jb.test(g.type || "") && !rb.access(g, "globalEval") && ab.contains(h, g) && (g.src ? ab._evalUrl && ab._evalUrl(g.src) : ab.globalEval(g.textContent.replace(Lb, "")))
            }
            return this
        }
    }), ab.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function (a, b) {
        ab.fn[a] = function (a) {
            for (var c, d = [], e = ab(a), f = e.length - 1, g = 0; f >= g; g++)c = g === f ? this : this.clone(!0), ab(e[g])[b](c), T.apply(d, c.get());
            return this.pushStack(d)
        }
    });
    var Nb, Ob = {}, Pb = /^margin/, Qb = new RegExp("^(" + vb + ")(?!px)[a-z%]+$", "i"), Rb = function (a) {
        return a.ownerDocument.defaultView.getComputedStyle(a, null)
    };
    !function () {
        function b() {
            h.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%", f.appendChild(g);
            var b = a.getComputedStyle(h, null);
            c = "1%" !== b.top, d = "4px" === b.width, f.removeChild(g)
        }

        var c, d, e = "padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box", f = $.documentElement, g = $.createElement("div"), h = $.createElement("div");
        h.style.backgroundClip = "content-box", h.cloneNode(!0).style.backgroundClip = "", Z.clearCloneStyle = "content-box" === h.style.backgroundClip, g.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px", g.appendChild(h), a.getComputedStyle && ab.extend(Z, {
            pixelPosition: function () {
                return b(), c
            }, boxSizingReliable: function () {
                return null == d && b(), d
            }, reliableMarginRight: function () {
                var b, c = h.appendChild($.createElement("div"));
                return c.style.cssText = h.style.cssText = e, c.style.marginRight = c.style.width = "0", h.style.width = "1px", f.appendChild(g), b = !parseFloat(a.getComputedStyle(c, null).marginRight), f.removeChild(g), h.innerHTML = "", b
            }
        })
    }(), ab.swap = function (a, b, c, d) {
        var e, f, g = {};
        for (f in b)g[f] = a.style[f], a.style[f] = b[f];
        e = c.apply(a, d || []);
        for (f in b)a.style[f] = g[f];
        return e
    };
    var Sb = /^(none|table(?!-c[ea]).+)/, Tb = new RegExp("^(" + vb + ")(.*)$", "i"), Ub = new RegExp("^([+-])=(" + vb + ")", "i"), Vb = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    }, Wb = {letterSpacing: 0, fontWeight: 400}, Xb = ["Webkit", "O", "Moz", "ms"];
    ab.extend({
        cssHooks: {
            opacity: {
                get: function (a, b) {
                    if (b) {
                        var c = v(a, "opacity");
                        return "" === c ? "1" : c
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {"float": "cssFloat"},
        style: function (a, b, c, d) {
            if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                var e, f, g, h = ab.camelCase(b), i = a.style;
                return b = ab.cssProps[h] || (ab.cssProps[h] = x(i, h)), g = ab.cssHooks[b] || ab.cssHooks[h], void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b] : (f = typeof c, "string" === f && (e = Ub.exec(c)) && (c = (e[1] + 1) * e[2] + parseFloat(ab.css(a, b)), f = "number"), void(null != c && c === c && ("number" !== f || ab.cssNumber[h] || (c += "px"), Z.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"), g && "set" in g && void 0 === (c = g.set(a, c, d)) || (i[b] = "", i[b] = c))))
            }
        },
        css: function (a, b, c, d) {
            var e, f, g, h = ab.camelCase(b);
            return b = ab.cssProps[h] || (ab.cssProps[h] = x(a.style, h)), g = ab.cssHooks[b] || ab.cssHooks[h], g && "get" in g && (e = g.get(a, !0, c)), void 0 === e && (e = v(a, b, d)), "normal" === e && b in Wb && (e = Wb[b]), "" === c || c ? (f = parseFloat(e), c === !0 || ab.isNumeric(f) ? f || 0 : e) : e
        }
    }), ab.each(["height", "width"], function (a, b) {
        ab.cssHooks[b] = {
            get: function (a, c, d) {
                return c ? 0 === a.offsetWidth && Sb.test(ab.css(a, "display")) ? ab.swap(a, Vb, function () {
                    return A(a, b, d)
                }) : A(a, b, d) : void 0
            }, set: function (a, c, d) {
                var e = d && Rb(a);
                return y(a, c, d ? z(a, b, d, "border-box" === ab.css(a, "boxSizing", !1, e), e) : 0)
            }
        }
    }), ab.cssHooks.marginRight = w(Z.reliableMarginRight, function (a, b) {
        return b ? ab.swap(a, {display: "inline-block"}, v, [a, "marginRight"]) : void 0
    }), ab.each({margin: "", padding: "", border: "Width"}, function (a, b) {
        ab.cssHooks[a + b] = {
            expand: function (c) {
                for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++)e[a + wb[d] + b] = f[d] || f[d - 2] || f[0];
                return e
            }
        }, Pb.test(a) || (ab.cssHooks[a + b].set = y)
    }), ab.fn.extend({
        css: function (a, b) {
            return qb(this, function (a, b, c) {
                var d, e, f = {}, g = 0;
                if (ab.isArray(b)) {
                    for (d = Rb(a), e = b.length; e > g; g++)f[b[g]] = ab.css(a, b[g], !1, d);
                    return f
                }
                return void 0 !== c ? ab.style(a, b, c) : ab.css(a, b)
            }, a, b, arguments.length > 1)
        }, show: function () {
            return B(this, !0)
        }, hide: function () {
            return B(this)
        }, toggle: function (a) {
            return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function () {
                xb(this) ? ab(this).show() : ab(this).hide()
            })
        }
    }), ab.Tween = C, C.prototype = {
        constructor: C, init: function (a, b, c, d, e, f) {
            this.elem = a, this.prop = c, this.easing = e || "swing", this.options = b, this.start = this.now = this.cur(), this.end = d, this.unit = f || (ab.cssNumber[c] ? "" : "px")
        }, cur: function () {
            var a = C.propHooks[this.prop];
            return a && a.get ? a.get(this) : C.propHooks._default.get(this)
        }, run: function (a) {
            var b, c = C.propHooks[this.prop];
            return this.pos = b = this.options.duration ? ab.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : C.propHooks._default.set(this), this
        }
    }, C.prototype.init.prototype = C.prototype, C.propHooks = {
        _default: {
            get: function (a) {
                var b;
                return null == a.elem[a.prop] || a.elem.style && null != a.elem.style[a.prop] ? (b = ab.css(a.elem, a.prop, ""), b && "auto" !== b ? b : 0) : a.elem[a.prop]
            }, set: function (a) {
                ab.fx.step[a.prop] ? ab.fx.step[a.prop](a) : a.elem.style && (null != a.elem.style[ab.cssProps[a.prop]] || ab.cssHooks[a.prop]) ? ab.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now
            }
        }
    }, C.propHooks.scrollTop = C.propHooks.scrollLeft = {
        set: function (a) {
            a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
        }
    }, ab.easing = {
        linear: function (a) {
            return a
        }, swing: function (a) {
            return .5 - Math.cos(a * Math.PI) / 2
        }
    }, ab.fx = C.prototype.init, ab.fx.step = {};
    var Yb, Zb, $b = /^(?:toggle|show|hide)$/, _b = new RegExp("^(?:([+-])=|)(" + vb + ")([a-z%]*)$", "i"), ac = /queueHooks$/, bc = [G], cc = {
        "*": [function (a, b) {
            var c = this.createTween(a, b), d = c.cur(), e = _b.exec(b), f = e && e[3] || (ab.cssNumber[a] ? "" : "px"), g = (ab.cssNumber[a] || "px" !== f && +d) && _b.exec(ab.css(c.elem, a)), h = 1, i = 20;
            if (g && g[3] !== f) {
                f = f || g[3], e = e || [], g = +d || 1;
                do h = h || ".5", g /= h, ab.style(c.elem, a, g + f); while (h !== (h = c.cur() / d) && 1 !== h && --i)
            }
            return e && (g = c.start = +g || +d || 0, c.unit = f, c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2]), c
        }]
    };
    ab.Animation = ab.extend(I, {
        tweener: function (a, b) {
            ab.isFunction(a) ? (b = a, a = ["*"]) : a = a.split(" ");
            for (var c, d = 0, e = a.length; e > d; d++)c = a[d], cc[c] = cc[c] || [], cc[c].unshift(b)
        }, prefilter: function (a, b) {
            b ? bc.unshift(a) : bc.push(a)
        }
    }), ab.speed = function (a, b, c) {
        var d = a && "object" == typeof a ? ab.extend({}, a) : {
            complete: c || !c && b || ab.isFunction(a) && a,
            duration: a,
            easing: c && b || b && !ab.isFunction(b) && b
        };
        return d.duration = ab.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in ab.fx.speeds ? ab.fx.speeds[d.duration] : ab.fx.speeds._default, (null == d.queue || d.queue === !0) && (d.queue = "fx"), d.old = d.complete, d.complete = function () {
            ab.isFunction(d.old) && d.old.call(this), d.queue && ab.dequeue(this, d.queue)
        }, d
    }, ab.fn.extend({
        fadeTo: function (a, b, c, d) {
            return this.filter(xb).css("opacity", 0).show().end().animate({opacity: b}, a, c, d)
        }, animate: function (a, b, c, d) {
            var e = ab.isEmptyObject(a), f = ab.speed(b, c, d), g = function () {
                var b = I(this, ab.extend({}, a), f);
                (e || rb.get(this, "finish")) && b.stop(!0)
            };
            return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
        }, stop: function (a, b, c) {
            var d = function (a) {
                var b = a.stop;
                delete a.stop, b(c)
            };
            return "string" != typeof a && (c = b, b = a, a = void 0), b && a !== !1 && this.queue(a || "fx", []), this.each(function () {
                var b = !0, e = null != a && a + "queueHooks", f = ab.timers, g = rb.get(this);
                if (e)g[e] && g[e].stop && d(g[e]); else for (e in g)g[e] && g[e].stop && ac.test(e) && d(g[e]);
                for (e = f.length; e--;)f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1));
                (b || !c) && ab.dequeue(this, a)
            })
        }, finish: function (a) {
            return a !== !1 && (a = a || "fx"), this.each(function () {
                var b, c = rb.get(this), d = c[a + "queue"], e = c[a + "queueHooks"], f = ab.timers, g = d ? d.length : 0;
                for (c.finish = !0, ab.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;)f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1));
                for (b = 0; g > b; b++)d[b] && d[b].finish && d[b].finish.call(this);
                delete c.finish
            })
        }
    }), ab.each(["toggle", "show", "hide"], function (a, b) {
        var c = ab.fn[b];
        ab.fn[b] = function (a, d, e) {
            return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(E(b, !0), a, d, e)
        }
    }), ab.each({
        slideDown: E("show"),
        slideUp: E("hide"),
        slideToggle: E("toggle"),
        fadeIn: {opacity: "show"},
        fadeOut: {opacity: "hide"},
        fadeToggle: {opacity: "toggle"}
    }, function (a, b) {
        ab.fn[a] = function (a, c, d) {
            return this.animate(b, a, c, d)
        }
    }), ab.timers = [], ab.fx.tick = function () {
        var a, b = 0, c = ab.timers;
        for (Yb = ab.now(); b < c.length; b++)a = c[b], a() || c[b] !== a || c.splice(b--, 1);
        c.length || ab.fx.stop(), Yb = void 0
    }, ab.fx.timer = function (a) {
        ab.timers.push(a), a() ? ab.fx.start() : ab.timers.pop()
    }, ab.fx.interval = 13, ab.fx.start = function () {
        Zb || (Zb = setInterval(ab.fx.tick, ab.fx.interval))
    }, ab.fx.stop = function () {
        clearInterval(Zb), Zb = null
    }, ab.fx.speeds = {slow: 600, fast: 200, _default: 400}, ab.fn.delay = function (a, b) {
        return a = ab.fx ? ab.fx.speeds[a] || a : a, b = b || "fx", this.queue(b, function (b, c) {
            var d = setTimeout(b, a);
            c.stop = function () {
                clearTimeout(d)
            }
        })
    }, function () {
        var a = $.createElement("input"), b = $.createElement("select"), c = b.appendChild($.createElement("option"));
        a.type = "checkbox", Z.checkOn = "" !== a.value, Z.optSelected = c.selected, b.disabled = !0, Z.optDisabled = !c.disabled, a = $.createElement("input"), a.value = "t", a.type = "radio", Z.radioValue = "t" === a.value
    }();
    var dc, ec, fc = ab.expr.attrHandle;
    ab.fn.extend({
        attr: function (a, b) {
            return qb(this, ab.attr, a, b, arguments.length > 1)
        }, removeAttr: function (a) {
            return this.each(function () {
                ab.removeAttr(this, a)
            })
        }
    }), ab.extend({
        attr: function (a, b, c) {
            var d, e, f = a.nodeType;
            return a && 3 !== f && 8 !== f && 2 !== f ? typeof a.getAttribute === zb ? ab.prop(a, b, c) : (1 === f && ab.isXMLDoc(a) || (b = b.toLowerCase(), d = ab.attrHooks[b] || (ab.expr.match.bool.test(b) ? ec : dc)), void 0 === c ? d && "get" in d && null !== (e = d.get(a, b)) ? e : (e = ab.find.attr(a, b), null == e ? void 0 : e) : null !== c ? d && "set" in d && void 0 !== (e = d.set(a, c, b)) ? e : (a.setAttribute(b, c + ""), c) : void ab.removeAttr(a, b)) : void 0
        }, removeAttr: function (a, b) {
            var c, d, e = 0, f = b && b.match(nb);
            if (f && 1 === a.nodeType)for (; c = f[e++];)d = ab.propFix[c] || c, ab.expr.match.bool.test(c) && (a[d] = !1), a.removeAttribute(c)
        }, attrHooks: {
            type: {
                set: function (a, b) {
                    if (!Z.radioValue && "radio" === b && ab.nodeName(a, "input")) {
                        var c = a.value;
                        return a.setAttribute("type", b), c && (a.value = c), b
                    }
                }
            }
        }
    }), ec = {
        set: function (a, b, c) {
            return b === !1 ? ab.removeAttr(a, c) : a.setAttribute(c, c), c
        }
    }, ab.each(ab.expr.match.bool.source.match(/\w+/g), function (a, b) {
        var c = fc[b] || ab.find.attr;
        fc[b] = function (a, b, d) {
            var e, f;
            return d || (f = fc[b], fc[b] = e, e = null != c(a, b, d) ? b.toLowerCase() : null, fc[b] = f), e
        }
    });
    var gc = /^(?:input|select|textarea|button)$/i;
    ab.fn.extend({
        prop: function (a, b) {
            return qb(this, ab.prop, a, b, arguments.length > 1)
        }, removeProp: function (a) {
            return this.each(function () {
                delete this[ab.propFix[a] || a]
            })
        }
    }), ab.extend({
        propFix: {"for": "htmlFor", "class": "className"}, prop: function (a, b, c) {
            var d, e, f, g = a.nodeType;
            return a && 3 !== g && 8 !== g && 2 !== g ? (f = 1 !== g || !ab.isXMLDoc(a), f && (b = ab.propFix[b] || b, e = ab.propHooks[b]), void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !== (d = e.get(a, b)) ? d : a[b]) : void 0
        }, propHooks: {
            tabIndex: {
                get: function (a) {
                    return a.hasAttribute("tabindex") || gc.test(a.nodeName) || a.href ? a.tabIndex : -1
                }
            }
        }
    }), Z.optSelected || (ab.propHooks.selected = {
        get: function (a) {
            var b = a.parentNode;
            return b && b.parentNode && b.parentNode.selectedIndex, null
        }
    }), ab.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
        ab.propFix[this.toLowerCase()] = this
    });
    var hc = /[\t\r\n\f]/g;
    ab.fn.extend({
        addClass: function (a) {
            var b, c, d, e, f, g, h = "string" == typeof a && a, i = 0, j = this.length;
            if (ab.isFunction(a))return this.each(function (b) {
                ab(this).addClass(a.call(this, b, this.className))
            });
            if (h)for (b = (a || "").match(nb) || []; j > i; i++)if (c = this[i], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(hc, " ") : " ")) {
                for (f = 0; e = b[f++];)d.indexOf(" " + e + " ") < 0 && (d += e + " ");
                g = ab.trim(d), c.className !== g && (c.className = g)
            }
            return this
        }, removeClass: function (a) {
            var b, c, d, e, f, g, h = 0 === arguments.length || "string" == typeof a && a, i = 0, j = this.length;
            if (ab.isFunction(a))return this.each(function (b) {
                ab(this).removeClass(a.call(this, b, this.className))
            });
            if (h)for (b = (a || "").match(nb) || []; j > i; i++)if (c = this[i], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(hc, " ") : "")) {
                for (f = 0; e = b[f++];)for (; d.indexOf(" " + e + " ") >= 0;)d = d.replace(" " + e + " ", " ");
                g = a ? ab.trim(d) : "", c.className !== g && (c.className = g)
            }
            return this
        }, toggleClass: function (a, b) {
            var c = typeof a;
            return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : this.each(ab.isFunction(a) ? function (c) {
                ab(this).toggleClass(a.call(this, c, this.className, b), b)
            } : function () {
                if ("string" === c)for (var b, d = 0, e = ab(this), f = a.match(nb) || []; b = f[d++];)e.hasClass(b) ? e.removeClass(b) : e.addClass(b); else(c === zb || "boolean" === c) && (this.className && rb.set(this, "__className__", this.className), this.className = this.className || a === !1 ? "" : rb.get(this, "__className__") || "")
            })
        }, hasClass: function (a) {
            for (var b = " " + a + " ", c = 0, d = this.length; d > c; c++)if (1 === this[c].nodeType && (" " + this[c].className + " ").replace(hc, " ").indexOf(b) >= 0)return !0;
            return !1
        }
    });
    var ic = /\r/g;
    ab.fn.extend({
        val: function (a) {
            var b, c, d, e = this[0];
            return arguments.length ? (d = ab.isFunction(a), this.each(function (c) {
                var e;
                1 === this.nodeType && (e = d ? a.call(this, c, ab(this).val()) : a, null == e ? e = "" : "number" == typeof e ? e += "" : ab.isArray(e) && (e = ab.map(e, function (a) {
                    return null == a ? "" : a + ""
                })), b = ab.valHooks[this.type] || ab.valHooks[this.nodeName.toLowerCase()], b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e))
            })) : e ? (b = ab.valHooks[e.type] || ab.valHooks[e.nodeName.toLowerCase()], b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value, "string" == typeof c ? c.replace(ic, "") : null == c ? "" : c)) : void 0
        }
    }), ab.extend({
        valHooks: {
            select: {
                get: function (a) {
                    for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || 0 > e, g = f ? null : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++)if (c = d[i], !(!c.selected && i !== e || (Z.optDisabled ? c.disabled : null !== c.getAttribute("disabled")) || c.parentNode.disabled && ab.nodeName(c.parentNode, "optgroup"))) {
                        if (b = ab(c).val(), f)return b;
                        g.push(b)
                    }
                    return g
                }, set: function (a, b) {
                    for (var c, d, e = a.options, f = ab.makeArray(b), g = e.length; g--;)d = e[g], (d.selected = ab.inArray(ab(d).val(), f) >= 0) && (c = !0);
                    return c || (a.selectedIndex = -1), f
                }
            }
        }
    }), ab.each(["radio", "checkbox"], function () {
        ab.valHooks[this] = {
            set: function (a, b) {
                return ab.isArray(b) ? a.checked = ab.inArray(ab(a).val(), b) >= 0 : void 0
            }
        }, Z.checkOn || (ab.valHooks[this].get = function (a) {
            return null === a.getAttribute("value") ? "on" : a.value
        })
    }), ab.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (a, b) {
        ab.fn[b] = function (a, c) {
            return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b)
        }
    }), ab.fn.extend({
        hover: function (a, b) {
            return this.mouseenter(a).mouseleave(b || a)
        }, bind: function (a, b, c) {
            return this.on(a, null, b, c)
        }, unbind: function (a, b) {
            return this.off(a, null, b)
        }, delegate: function (a, b, c, d) {
            return this.on(b, a, c, d)
        }, undelegate: function (a, b, c) {
            return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
        }
    });
    var jc = ab.now(), kc = /\?/;
    ab.parseJSON = function (a) {
        return JSON.parse(a + "")
    }, ab.parseXML = function (a) {
        var b, c;
        if (!a || "string" != typeof a)return null;
        try {
            c = new DOMParser, b = c.parseFromString(a, "text/xml")
        } catch (d) {
            b = void 0
        }
        return (!b || b.getElementsByTagName("parsererror").length) && ab.error("Invalid XML: " + a), b
    };
    var lc, mc, nc = /#.*$/, oc = /([?&])_=[^&]*/, pc = /^(.*?):[ \t]*([^\r\n]*)$/gm, qc = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, rc = /^(?:GET|HEAD)$/, sc = /^\/\//, tc = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, uc = {}, vc = {}, wc = "*/".concat("*");
    try {
        mc = location.href
    } catch (xc) {
        mc = $.createElement("a"), mc.href = "", mc = mc.href
    }
    lc = tc.exec(mc.toLowerCase()) || [], ab.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: mc,
            type: "GET",
            isLocal: qc.test(lc[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": wc,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {xml: /xml/, html: /html/, json: /json/},
            responseFields: {xml: "responseXML", text: "responseText", json: "responseJSON"},
            converters: {"* text": String, "text html": !0, "text json": ab.parseJSON, "text xml": ab.parseXML},
            flatOptions: {url: !0, context: !0}
        },
        ajaxSetup: function (a, b) {
            return b ? L(L(a, ab.ajaxSettings), b) : L(ab.ajaxSettings, a)
        },
        ajaxPrefilter: J(uc),
        ajaxTransport: J(vc),
        ajax: function (a, b) {
            function c(a, b, c, g) {
                var i, k, r, s, u, w = b;
                2 !== t && (t = 2, h && clearTimeout(h), d = void 0, f = g || "", v.readyState = a > 0 ? 4 : 0, i = a >= 200 && 300 > a || 304 === a, c && (s = M(l, v, c)), s = N(l, s, v, i), i ? (l.ifModified && (u = v.getResponseHeader("Last-Modified"), u && (ab.lastModified[e] = u), u = v.getResponseHeader("etag"), u && (ab.etag[e] = u)), 204 === a || "HEAD" === l.type ? w = "nocontent" : 304 === a ? w = "notmodified" : (w = s.state, k = s.data, r = s.error, i = !r)) : (r = w, (a || !w) && (w = "error", 0 > a && (a = 0))), v.status = a, v.statusText = (b || w) + "", i ? o.resolveWith(m, [k, w, v]) : o.rejectWith(m, [v, w, r]), v.statusCode(q), q = void 0, j && n.trigger(i ? "ajaxSuccess" : "ajaxError", [v, l, i ? k : r]), p.fireWith(m, [v, w]), j && (n.trigger("ajaxComplete", [v, l]), --ab.active || ab.event.trigger("ajaxStop")))
            }

            "object" == typeof a && (b = a, a = void 0), b = b || {};
            var d, e, f, g, h, i, j, k, l = ab.ajaxSetup({}, b), m = l.context || l, n = l.context && (m.nodeType || m.jquery) ? ab(m) : ab.event, o = ab.Deferred(), p = ab.Callbacks("once memory"), q = l.statusCode || {}, r = {}, s = {}, t = 0, u = "canceled", v = {
                readyState: 0,
                getResponseHeader: function (a) {
                    var b;
                    if (2 === t) {
                        if (!g)for (g = {}; b = pc.exec(f);)g[b[1].toLowerCase()] = b[2];
                        b = g[a.toLowerCase()]
                    }
                    return null == b ? null : b
                },
                getAllResponseHeaders: function () {
                    return 2 === t ? f : null
                },
                setRequestHeader: function (a, b) {
                    var c = a.toLowerCase();
                    return t || (a = s[c] = s[c] || a, r[a] = b), this
                },
                overrideMimeType: function (a) {
                    return t || (l.mimeType = a), this
                },
                statusCode: function (a) {
                    var b;
                    if (a)if (2 > t)for (b in a)q[b] = [q[b], a[b]]; else v.always(a[v.status]);
                    return this
                },
                abort: function (a) {
                    var b = a || u;
                    return d && d.abort(b), c(0, b), this
                }
            };
            if (o.promise(v).complete = p.add, v.success = v.done, v.error = v.fail, l.url = ((a || l.url || mc) + "").replace(nc, "").replace(sc, lc[1] + "//"), l.type = b.method || b.type || l.method || l.type, l.dataTypes = ab.trim(l.dataType || "*").toLowerCase().match(nb) || [""], null == l.crossDomain && (i = tc.exec(l.url.toLowerCase()), l.crossDomain = !(!i || i[1] === lc[1] && i[2] === lc[2] && (i[3] || ("http:" === i[1] ? "80" : "443")) === (lc[3] || ("http:" === lc[1] ? "80" : "443")))), l.data && l.processData && "string" != typeof l.data && (l.data = ab.param(l.data, l.traditional)), K(uc, l, b, v), 2 === t)return v;
            j = l.global, j && 0 === ab.active++ && ab.event.trigger("ajaxStart"), l.type = l.type.toUpperCase(), l.hasContent = !rc.test(l.type), e = l.url, l.hasContent || (l.data && (e = l.url += (kc.test(e) ? "&" : "?") + l.data, delete l.data), l.cache === !1 && (l.url = oc.test(e) ? e.replace(oc, "$1_=" + jc++) : e + (kc.test(e) ? "&" : "?") + "_=" + jc++)), l.ifModified && (ab.lastModified[e] && v.setRequestHeader("If-Modified-Since", ab.lastModified[e]), ab.etag[e] && v.setRequestHeader("If-None-Match", ab.etag[e])), (l.data && l.hasContent && l.contentType !== !1 || b.contentType) && v.setRequestHeader("Content-Type", l.contentType), v.setRequestHeader("Accept", l.dataTypes[0] && l.accepts[l.dataTypes[0]] ? l.accepts[l.dataTypes[0]] + ("*" !== l.dataTypes[0] ? ", " + wc + "; q=0.01" : "") : l.accepts["*"]);
            for (k in l.headers)v.setRequestHeader(k, l.headers[k]);
            if (l.beforeSend && (l.beforeSend.call(m, v, l) === !1 || 2 === t))return v.abort();
            u = "abort";
            for (k in{success: 1, error: 1, complete: 1})v[k](l[k]);
            if (d = K(vc, l, b, v)) {
                v.readyState = 1, j && n.trigger("ajaxSend", [v, l]), l.async && l.timeout > 0 && (h = setTimeout(function () {
                    v.abort("timeout")
                }, l.timeout));
                try {
                    t = 1, d.send(r, c)
                } catch (w) {
                    if (!(2 > t))throw w;
                    c(-1, w)
                }
            } else c(-1, "No Transport");
            return v
        },
        getJSON: function (a, b, c) {
            return ab.get(a, b, c, "json")
        },
        getScript: function (a, b) {
            return ab.get(a, void 0, b, "script")
        }
    }), ab.each(["get", "post"], function (a, b) {
        ab[b] = function (a, c, d, e) {
            return ab.isFunction(c) && (e = e || d, d = c, c = void 0), ab.ajax({
                url: a,
                type: b,
                dataType: e,
                data: c,
                success: d
            })
        }
    }), ab.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (a, b) {
        ab.fn[b] = function (a) {
            return this.on(b, a)
        }
    }), ab._evalUrl = function (a) {
        return ab.ajax({url: a, type: "GET", dataType: "script", async: !1, global: !1, "throws": !0})
    }, ab.fn.extend({
        wrapAll: function (a) {
            var b;
            return ab.isFunction(a) ? this.each(function (b) {
                ab(this).wrapAll(a.call(this, b))
            }) : (this[0] && (b = ab(a, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(this[0]), b.map(function () {
                for (var a = this; a.firstElementChild;)a = a.firstElementChild;
                return a
            }).append(this)), this)
        }, wrapInner: function (a) {
            return this.each(ab.isFunction(a) ? function (b) {
                ab(this).wrapInner(a.call(this, b))
            } : function () {
                var b = ab(this), c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a)
            })
        }, wrap: function (a) {
            var b = ab.isFunction(a);
            return this.each(function (c) {
                ab(this).wrapAll(b ? a.call(this, c) : a)
            })
        }, unwrap: function () {
            return this.parent().each(function () {
                ab.nodeName(this, "body") || ab(this).replaceWith(this.childNodes)
            }).end()
        }
    }), ab.expr.filters.hidden = function (a) {
        return a.offsetWidth <= 0 && a.offsetHeight <= 0
    }, ab.expr.filters.visible = function (a) {
        return !ab.expr.filters.hidden(a)
    };
    var yc = /%20/g, zc = /\[\]$/, Ac = /\r?\n/g, Bc = /^(?:submit|button|image|reset|file)$/i, Cc = /^(?:input|select|textarea|keygen)/i;
    ab.param = function (a, b) {
        var c, d = [], e = function (a, b) {
            b = ab.isFunction(b) ? b() : null == b ? "" : b, d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
        };
        if (void 0 === b && (b = ab.ajaxSettings && ab.ajaxSettings.traditional), ab.isArray(a) || a.jquery && !ab.isPlainObject(a))ab.each(a, function () {
            e(this.name, this.value)
        }); else for (c in a)O(c, a[c], b, e);
        return d.join("&").replace(yc, "+")
    }, ab.fn.extend({
        serialize: function () {
            return ab.param(this.serializeArray())
        }, serializeArray: function () {
            return this.map(function () {
                var a = ab.prop(this, "elements");
                return a ? ab.makeArray(a) : this
            }).filter(function () {
                var a = this.type;
                return this.name && !ab(this).is(":disabled") && Cc.test(this.nodeName) && !Bc.test(a) && (this.checked || !yb.test(a))
            }).map(function (a, b) {
                var c = ab(this).val();
                return null == c ? null : ab.isArray(c) ? ab.map(c, function (a) {
                    return {name: b.name, value: a.replace(Ac, "\r\n")}
                }) : {name: b.name, value: c.replace(Ac, "\r\n")}
            }).get()
        }
    }), ab.ajaxSettings.xhr = function () {
        try {
            return new XMLHttpRequest
        } catch (a) {
        }
    };
    var Dc = 0, Ec = {}, Fc = {0: 200, 1223: 204}, Gc = ab.ajaxSettings.xhr();
    a.ActiveXObject && ab(a).on("unload", function () {
        for (var a in Ec)Ec[a]()
    }), Z.cors = !!Gc && "withCredentials" in Gc, Z.ajax = Gc = !!Gc, ab.ajaxTransport(function (a) {
        var b;
        return Z.cors || Gc && !a.crossDomain ? {
            send: function (c, d) {
                var e, f = a.xhr(), g = ++Dc;
                if (f.open(a.type, a.url, a.async, a.username, a.password), a.xhrFields)for (e in a.xhrFields)f[e] = a.xhrFields[e];
                a.mimeType && f.overrideMimeType && f.overrideMimeType(a.mimeType), a.crossDomain || c["X-Requested-With"] || (c["X-Requested-With"] = "XMLHttpRequest");
                for (e in c)f.setRequestHeader(e, c[e]);
                b = function (a) {
                    return function () {
                        b && (delete Ec[g], b = f.onload = f.onerror = null, "abort" === a ? f.abort() : "error" === a ? d(f.status, f.statusText) : d(Fc[f.status] || f.status, f.statusText, "string" == typeof f.responseText ? {text: f.responseText} : void 0, f.getAllResponseHeaders()))
                    }
                }, f.onload = b(), f.onerror = b("error"), b = Ec[g] = b("abort"), f.send(a.hasContent && a.data || null)
            }, abort: function () {
                b && b()
            }
        } : void 0
    }), ab.ajaxSetup({
        accepts: {script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
        contents: {script: /(?:java|ecma)script/},
        converters: {
            "text script": function (a) {
                return ab.globalEval(a), a
            }
        }
    }), ab.ajaxPrefilter("script", function (a) {
        void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET")
    }), ab.ajaxTransport("script", function (a) {
        if (a.crossDomain) {
            var b, c;
            return {
                send: function (d, e) {
                    b = ab("<script>").prop({
                        async: !0,
                        charset: a.scriptCharset,
                        src: a.url
                    }).on("load error", c = function (a) {
                        b.remove(), c = null, a && e("error" === a.type ? 404 : 200, a.type)
                    }), $.head.appendChild(b[0])
                }, abort: function () {
                    c && c()
                }
            }
        }
    });
    var Hc = [], Ic = /(=)\?(?=&|$)|\?\?/;
    ab.ajaxSetup({
        jsonp: "callback", jsonpCallback: function () {
            var a = Hc.pop() || ab.expando + "_" + jc++;
            return this[a] = !0, a
        }
    }), ab.ajaxPrefilter("json jsonp", function (b, c, d) {
        var e, f, g, h = b.jsonp !== !1 && (Ic.test(b.url) ? "url" : "string" == typeof b.data && !(b.contentType || "").indexOf("application/x-www-form-urlencoded") && Ic.test(b.data) && "data");
        return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = ab.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(Ic, "$1" + e) : b.jsonp !== !1 && (b.url += (kc.test(b.url) ? "&" : "?") + b.jsonp + "=" + e), b.converters["script json"] = function () {
            return g || ab.error(e + " was not called"), g[0]
        }, b.dataTypes[0] = "json", f = a[e], a[e] = function () {
            g = arguments
        }, d.always(function () {
            a[e] = f, b[e] && (b.jsonpCallback = c.jsonpCallback, Hc.push(e)), g && ab.isFunction(f) && f(g[0]), g = f = void 0
        }), "script") : void 0
    }), ab.parseHTML = function (a, b, c) {
        if (!a || "string" != typeof a)return null;
        "boolean" == typeof b && (c = b, b = !1), b = b || $;
        var d = gb.exec(a), e = !c && [];
        return d ? [b.createElement(d[1])] : (d = ab.buildFragment([a], b, e), e && e.length && ab(e).remove(), ab.merge([], d.childNodes))
    };
    var Jc = ab.fn.load;
    ab.fn.load = function (a, b, c) {
        if ("string" != typeof a && Jc)return Jc.apply(this, arguments);
        var d, e, f, g = this, h = a.indexOf(" ");
        return h >= 0 && (d = a.slice(h), a = a.slice(0, h)), ab.isFunction(b) ? (c = b, b = void 0) : b && "object" == typeof b && (e = "POST"), g.length > 0 && ab.ajax({
            url: a,
            type: e,
            dataType: "html",
            data: b
        }).done(function (a) {
            f = arguments, g.html(d ? ab("<div>").append(ab.parseHTML(a)).find(d) : a)
        }).complete(c && function (a, b) {
                g.each(c, f || [a.responseText, b, a])
            }), this
    }, ab.expr.filters.animated = function (a) {
        return ab.grep(ab.timers, function (b) {
            return a === b.elem
        }).length
    };
    var Kc = a.document.documentElement;
    ab.offset = {
        setOffset: function (a, b, c) {
            var d, e, f, g, h, i, j, k = ab.css(a, "position"), l = ab(a), m = {};
            "static" === k && (a.style.position = "relative"), h = l.offset(), f = ab.css(a, "top"), i = ab.css(a, "left"), j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1, j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0), ab.isFunction(b) && (b = b.call(a, c, h)), null != b.top && (m.top = b.top - h.top + g), null != b.left && (m.left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m)
        }
    }, ab.fn.extend({
        offset: function (a) {
            if (arguments.length)return void 0 === a ? this : this.each(function (b) {
                ab.offset.setOffset(this, a, b)
            });
            var b, c, d = this[0], e = {top: 0, left: 0}, f = d && d.ownerDocument;
            return f ? (b = f.documentElement, ab.contains(b, d) ? (typeof d.getBoundingClientRect !== zb && (e = d.getBoundingClientRect()), c = P(f), {
                top: e.top + c.pageYOffset - b.clientTop,
                left: e.left + c.pageXOffset - b.clientLeft
            }) : e) : void 0
        }, position: function () {
            if (this[0]) {
                var a, b, c = this[0], d = {top: 0, left: 0};
                return "fixed" === ab.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), ab.nodeName(a[0], "html") || (d = a.offset()), d.top += ab.css(a[0], "borderTopWidth", !0), d.left += ab.css(a[0], "borderLeftWidth", !0)), {
                    top: b.top - d.top - ab.css(c, "marginTop", !0),
                    left: b.left - d.left - ab.css(c, "marginLeft", !0)
                }
            }
        }, offsetParent: function () {
            return this.map(function () {
                for (var a = this.offsetParent || Kc; a && !ab.nodeName(a, "html") && "static" === ab.css(a, "position");)a = a.offsetParent;
                return a || Kc
            })
        }
    }), ab.each({scrollLeft: "pageXOffset", scrollTop: "pageYOffset"}, function (b, c) {
        var d = "pageYOffset" === c;
        ab.fn[b] = function (e) {
            return qb(this, function (b, e, f) {
                var g = P(b);
                return void 0 === f ? g ? g[c] : b[e] : void(g ? g.scrollTo(d ? a.pageXOffset : f, d ? f : a.pageYOffset) : b[e] = f)
            }, b, e, arguments.length, null)
        }
    }), ab.each(["top", "left"], function (a, b) {
        ab.cssHooks[b] = w(Z.pixelPosition, function (a, c) {
            return c ? (c = v(a, b), Qb.test(c) ? ab(a).position()[b] + "px" : c) : void 0
        })
    }), ab.each({Height: "height", Width: "width"}, function (a, b) {
        ab.each({padding: "inner" + a, content: b, "": "outer" + a}, function (c, d) {
            ab.fn[d] = function (d, e) {
                var f = arguments.length && (c || "boolean" != typeof d), g = c || (d === !0 || e === !0 ? "margin" : "border");
                return qb(this, function (b, c, d) {
                    var e;
                    return ab.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement, Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? ab.css(b, c, g) : ab.style(b, c, d, g)
                }, b, f ? d : void 0, f, null)
            }
        })
    }), ab.fn.size = function () {
        return this.length
    }, ab.fn.andSelf = ab.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function () {
        return ab
    });
    var Lc = a.jQuery, Mc = a.$;
    return ab.noConflict = function (b) {
        return a.$ === ab && (a.$ = Mc), b && a.jQuery === ab && (a.jQuery = Lc), ab
    }, typeof b === zb && (a.jQuery = a.$ = ab), ab
}), function (a, b, c) {
    "use strict";
    function d(a) {
        return function () {
            var b, c = arguments[0], c = "[" + (a ? a + ":" : "") + c + "] http://errors.angularjs.org/1.2.27/" + (a ? a + "/" : "") + c;
            for (b = 1; b < arguments.length; b++)c = c + (1 == b ? "?" : "&") + "p" + (b - 1) + "=" + encodeURIComponent("function" == typeof arguments[b] ? arguments[b].toString().replace(/ \{[\s\S]*$/, "") : "undefined" == typeof arguments[b] ? "undefined" : "string" != typeof arguments[b] ? JSON.stringify(arguments[b]) : arguments[b]);
            return Error(c)
        }
    }

    function e(a) {
        if (null == a || z(a))return !1;
        var b = a.length;
        return 1 === a.nodeType && b ? !0 : u(a) || fd(a) || 0 === b || "number" == typeof b && b > 0 && b - 1 in a
    }

    function f(a, b, c) {
        var d;
        if (a)if (x(a))for (d in a)"prototype" == d || "length" == d || "name" == d || a.hasOwnProperty && !a.hasOwnProperty(d) || b.call(c, a[d], d); else if (fd(a) || e(a))for (d = 0; d < a.length; d++)b.call(c, a[d], d); else if (a.forEach && a.forEach !== f)a.forEach(b, c); else for (d in a)a.hasOwnProperty(d) && b.call(c, a[d], d);
        return a
    }

    function g(a) {
        var b, c = [];
        for (b in a)a.hasOwnProperty(b) && c.push(b);
        return c.sort()
    }

    function h(a, b, c) {
        for (var d = g(a), e = 0; e < d.length; e++)b.call(c, a[d[e]], d[e]);
        return d
    }

    function i(a) {
        return function (b, c) {
            a(c, b)
        }
    }

    function j() {
        for (var a, b = ed.length; b;) {
            if (b--, a = ed[b].charCodeAt(0), 57 == a)return ed[b] = "A", ed.join("");
            if (90 != a)return ed[b] = String.fromCharCode(a + 1), ed.join("");
            ed[b] = "0"
        }
        return ed.unshift("0"), ed.join("")
    }

    function k(a, b) {
        b ? a.$$hashKey = b : delete a.$$hashKey
    }

    function l(a) {
        var b = a.$$hashKey;
        return f(arguments, function (b) {
            b !== a && f(b, function (b, c) {
                a[c] = b
            })
        }), k(a, b), a
    }

    function m(a) {
        return parseInt(a, 10)
    }

    function n(a, b) {
        return l(new (l(function () {
        }, {prototype: a})), b)
    }

    function o() {
    }

    function p(a) {
        return a
    }

    function q(a) {
        return function () {
            return a
        }
    }

    function r(a) {
        return "undefined" == typeof a
    }

    function s(a) {
        return "undefined" != typeof a
    }

    function t(a) {
        return null != a && "object" == typeof a
    }

    function u(a) {
        return "string" == typeof a
    }

    function v(a) {
        return "number" == typeof a
    }

    function w(a) {
        return "[object Date]" === bd.call(a)
    }

    function x(a) {
        return "function" == typeof a
    }

    function y(a) {
        return "[object RegExp]" === bd.call(a)
    }

    function z(a) {
        return a && a.document && a.location && a.alert && a.setInterval
    }

    function A(a) {
        return !(!a || !(a.nodeName || a.prop && a.attr && a.find))
    }

    function B(a, b, c) {
        var d = [];
        return f(a, function (a, e, f) {
            d.push(b.call(c, a, e, f))
        }), d
    }

    function C(a, b) {
        if (a.indexOf)return a.indexOf(b);
        for (var c = 0; c < a.length; c++)if (b === a[c])return c;
        return -1
    }

    function D(a, b) {
        var c = C(a, b);
        return c >= 0 && a.splice(c, 1), b
    }

    function E(a, b, c, d) {
        if (z(a) || a && a.$evalAsync && a.$watch)throw cd("cpws");
        if (b) {
            if (a === b)throw cd("cpi");
            if (c = c || [], d = d || [], t(a)) {
                var e = C(c, a);
                if (-1 !== e)return d[e];
                c.push(a), d.push(b)
            }
            if (fd(a))for (var g = b.length = 0; g < a.length; g++)e = E(a[g], null, c, d), t(a[g]) && (c.push(a[g]), d.push(e)), b.push(e); else {
                var h = b.$$hashKey;
                fd(b) ? b.length = 0 : f(b, function (a, c) {
                    delete b[c]
                });
                for (g in a)e = E(a[g], null, c, d), t(a[g]) && (c.push(a[g]), d.push(e)), b[g] = e;
                k(b, h)
            }
        } else(b = a) && (fd(a) ? b = E(a, [], c, d) : w(a) ? b = new Date(a.getTime()) : y(a) ? (b = RegExp(a.source, a.toString().match(/[^\/]*$/)[0]), b.lastIndex = a.lastIndex) : t(a) && (b = E(a, {}, c, d)));
        return b
    }

    function F(a, b) {
        if (fd(a)) {
            b = b || [];
            for (var c = 0; c < a.length; c++)b[c] = a[c]
        } else if (t(a))for (c in b = b || {}, a)!Zc.call(a, c) || "$" === c.charAt(0) && "$" === c.charAt(1) || (b[c] = a[c]);
        return b || a
    }

    function G(a, b) {
        if (a === b)return !0;
        if (null === a || null === b)return !1;
        if (a !== a && b !== b)return !0;
        var d, e = typeof a;
        if (e == typeof b && "object" == e) {
            if (!fd(a)) {
                if (w(a))return w(b) ? isNaN(a.getTime()) && isNaN(b.getTime()) || a.getTime() === b.getTime() : !1;
                if (y(a) && y(b))return a.toString() == b.toString();
                if (a && a.$evalAsync && a.$watch || b && b.$evalAsync && b.$watch || z(a) || z(b) || fd(b))return !1;
                e = {};
                for (d in a)if ("$" !== d.charAt(0) && !x(a[d])) {
                    if (!G(a[d], b[d]))return !1;
                    e[d] = !0
                }
                for (d in b)if (!e.hasOwnProperty(d) && "$" !== d.charAt(0) && b[d] !== c && !x(b[d]))return !1;
                return !0
            }
            if (!fd(b))return !1;
            if ((e = a.length) == b.length) {
                for (d = 0; e > d; d++)if (!G(a[d], b[d]))return !1;
                return !0
            }
        }
        return !1
    }

    function H(a, b) {
        var c = 2 < arguments.length ? _c.call(arguments, 2) : [];
        return !x(b) || b instanceof RegExp ? b : c.length ? function () {
            return arguments.length ? b.apply(a, c.concat(_c.call(arguments, 0))) : b.apply(a, c)
        } : function () {
            return arguments.length ? b.apply(a, arguments) : b.call(a)
        }
    }

    function I(a, d) {
        var e = d;
        return "string" == typeof a && "$" === a.charAt(0) ? e = c : z(d) ? e = "$WINDOW" : d && b === d ? e = "$DOCUMENT" : d && d.$evalAsync && d.$watch && (e = "$SCOPE"), e
    }

    function J(a, b) {
        return "undefined" == typeof a ? c : JSON.stringify(a, I, b ? "  " : null)
    }

    function K(a) {
        return u(a) ? JSON.parse(a) : a
    }

    function L(a) {
        return "function" == typeof a ? a = !0 : a && 0 !== a.length ? (a = Yc("" + a), a = !("f" == a || "0" == a || "false" == a || "no" == a || "n" == a || "[]" == a)) : a = !1, a
    }

    function M(a) {
        a = Tc(a).clone();
        try {
            a.empty()
        } catch (b) {
        }
        var c = Tc("<div>").append(a).html();
        try {
            return 3 === a[0].nodeType ? Yc(c) : c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/, function (a, b) {
                return "<" + Yc(b)
            })
        } catch (d) {
            return Yc(c)
        }
    }

    function N(a) {
        try {
            return decodeURIComponent(a)
        } catch (b) {
        }
    }

    function O(a) {
        var b, c, d = {};
        return f((a || "").split("&"), function (a) {
            a && (b = a.replace(/\+/g, "%20").split("="), c = N(b[0]), s(c) && (a = s(b[1]) ? N(b[1]) : !0, Zc.call(d, c) ? fd(d[c]) ? d[c].push(a) : d[c] = [d[c], a] : d[c] = a))
        }), d
    }

    function P(a) {
        var b = [];
        return f(a, function (a, c) {
            fd(a) ? f(a, function (a) {
                b.push(R(c, !0) + (!0 === a ? "" : "=" + R(a, !0)))
            }) : b.push(R(c, !0) + (!0 === a ? "" : "=" + R(a, !0)))
        }), b.length ? b.join("&") : ""
    }

    function Q(a) {
        return R(a, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+")
    }

    function R(a, b) {
        return encodeURIComponent(a).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, b ? "%20" : "+")
    }

    function S(a, c) {
        function d(a) {
            a && h.push(a)
        }

        var e, g, h = [a], i = ["ng:app", "ng-app", "x-ng-app", "data-ng-app"], j = /\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;
        f(i, function (c) {
            i[c] = !0, d(b.getElementById(c)), c = c.replace(":", "\\:"), a.querySelectorAll && (f(a.querySelectorAll("." + c), d), f(a.querySelectorAll("." + c + "\\:"), d), f(a.querySelectorAll("[" + c + "]"), d))
        }), f(h, function (a) {
            if (!e) {
                var b = j.exec(" " + a.className + " ");
                b ? (e = a, g = (b[2] || "").replace(/\s+/g, ",")) : f(a.attributes, function (b) {
                    !e && i[b.name] && (e = a, g = b.value)
                })
            }
        }), e && c(e, g ? [g] : [])
    }

    function T(c, d) {
        var e = function () {
            if (c = Tc(c), c.injector()) {
                var a = c[0] === b ? "document" : M(c);
                throw cd("btstrpd", a.replace(/</, "&lt;").replace(/>/, "&gt;"))
            }
            return d = d || [], d.unshift(["$provide", function (a) {
                a.value("$rootElement", c)
            }]), d.unshift("ng"), a = vb(d), a.invoke(["$rootScope", "$rootElement", "$compile", "$injector", "$animate", function (a, b, c, d) {
                a.$apply(function () {
                    b.data("$injector", d), c(b)(a)
                })
            }]), a
        }, g = /^NG_DEFER_BOOTSTRAP!/;
        return a && !g.test(a.name) ? e() : (a.name = a.name.replace(g, ""), void(dd.resumeBootstrap = function (a) {
            f(a, function (a) {
                d.push(a)
            }), e()
        }))
    }

    function U(a, b) {
        return b = b || "_", a.replace(id, function (a, c) {
            return (c ? b : "") + a.toLowerCase()
        })
    }

    function V(a, b, c) {
        if (!a)throw cd("areq", b || "?", c || "required");
        return a
    }

    function W(a, b, c) {
        return c && fd(a) && (a = a[a.length - 1]), V(x(a), b, "not a function, got " + (a && "object" == typeof a ? a.constructor.name || "Object" : typeof a)), a
    }

    function X(a, b) {
        if ("hasOwnProperty" === a)throw cd("badname", b)
    }

    function Y(a, b, c) {
        if (!b)return a;
        b = b.split(".");
        for (var d, e = a, f = b.length, g = 0; f > g; g++)d = b[g], a && (a = (e = a)[d]);
        return !c && x(a) ? H(e, a) : a
    }

    function Z(a) {
        var b = a[0];
        if (a = a[a.length - 1], b === a)return Tc(b);
        var c = [b];
        do {
            if (b = b.nextSibling, !b)break;
            c.push(b)
        } while (b !== a);
        return Tc(c)
    }

    function $(a) {
        var b = d("$injector"), c = d("ng");
        return a = a.angular || (a.angular = {}), a.$$minErr = a.$$minErr || d, a.module || (a.module = function () {
            var a = {};
            return function (d, e, f) {
                if ("hasOwnProperty" === d)throw c("badname", "module");
                return e && a.hasOwnProperty(d) && (a[d] = null), a[d] || (a[d] = function () {
                    function a(a, b, d) {
                        return function () {
                            return c[d || "push"]([a, b, arguments]), i
                        }
                    }

                    if (!e)throw b("nomod", d);
                    var c = [], g = [], h = a("$injector", "invoke"), i = {
                        _invokeQueue: c,
                        _runBlocks: g,
                        requires: e,
                        name: d,
                        provider: a("$provide", "provider"),
                        factory: a("$provide", "factory"),
                        service: a("$provide", "service"),
                        value: a("$provide", "value"),
                        constant: a("$provide", "constant", "unshift"),
                        animation: a("$animateProvider", "register"),
                        filter: a("$filterProvider", "register"),
                        controller: a("$controllerProvider", "register"),
                        directive: a("$compileProvider", "directive"),
                        config: h,
                        run: function (a) {
                            return g.push(a), this
                        }
                    };
                    return f && h(f), i
                }())
            }
        }())
    }

    function _(b) {
        l(b, {
            bootstrap: T,
            copy: E,
            extend: l,
            equals: G,
            element: Tc,
            forEach: f,
            injector: vb,
            noop: o,
            bind: H,
            toJson: J,
            fromJson: K,
            identity: p,
            isUndefined: r,
            isDefined: s,
            isString: u,
            isFunction: x,
            isObject: t,
            isNumber: v,
            isElement: A,
            isArray: fd,
            version: jd,
            isDate: w,
            lowercase: Yc,
            uppercase: $c,
            callbacks: {counter: 0},
            $$minErr: d,
            $$csp: hd
        }), Vc = $(a);
        try {
            Vc("ngLocale")
        } catch (c) {
            Vc("ngLocale", []).provider("$locale", Rb)
        }
        Vc("ng", ["ngLocale"], ["$provide", function (a) {
            a.provider({$$sanitizeUri: pc}), a.provider("$compile", Cb).directive({
                a: ge,
                input: re,
                textarea: re,
                form: ke,
                script: _e,
                select: cf,
                style: ef,
                option: df,
                ngBind: De,
                ngBindHtml: Fe,
                ngBindTemplate: Ee,
                ngClass: Ge,
                ngClassEven: Ie,
                ngClassOdd: He,
                ngCloak: Je,
                ngController: Ke,
                ngForm: le,
                ngHide: Ve,
                ngIf: Ne,
                ngInclude: Oe,
                ngInit: Qe,
                ngNonBindable: Re,
                ngPluralize: Se,
                ngRepeat: Te,
                ngShow: Ue,
                ngStyle: We,
                ngSwitch: Xe,
                ngSwitchWhen: Ye,
                ngSwitchDefault: Ze,
                ngOptions: bf,
                ngTransclude: $e,
                ngModel: xe,
                ngList: Ae,
                ngChange: ye,
                required: ze,
                ngRequired: ze,
                ngValue: Ce
            }).directive({ngInclude: Pe}).directive(he).directive(Le), a.provider({
                $anchorScroll: wb,
                $animate: Fd,
                $browser: zb,
                $cacheFactory: Ab,
                $controller: Fb,
                $document: Gb,
                $exceptionHandler: Hb,
                $filter: zc,
                $interpolate: Pb,
                $interval: Qb,
                $http: Lb,
                $httpBackend: Nb,
                $location: bc,
                $log: cc,
                $parse: kc,
                $rootScope: oc,
                $q: lc,
                $sce: tc,
                $sceDelegate: sc,
                $sniffer: uc,
                $templateCache: Bb,
                $timeout: vc,
                $window: yc,
                $$rAF: nc,
                $$asyncCallback: xb
            })
        }])
    }

    function ab(a) {
        return a.replace(od, function (a, b, c, d) {
            return d ? c.toUpperCase() : c
        }).replace(pd, "Moz$1")
    }

    function bb(a, b, c, d) {
        function e(a) {
            var e, g, h, i, j, k, l = c && a ? [this.filter(a)] : [this], m = b;
            if (!d || null != a)for (; l.length;)for (e = l.shift(), g = 0, h = e.length; h > g; g++)for (i = Tc(e[g]), m ? i.triggerHandler("$destroy") : m = !m, j = 0, i = (k = i.children()).length; i > j; j++)l.push(Uc(k[j]));
            return f.apply(this, arguments)
        }

        var f = Uc.fn[a], f = f.$original || f;
        e.$original = f, Uc.fn[a] = e
    }

    function cb(a) {
        if (a instanceof cb)return a;
        if (u(a) && (a = gd(a)), !(this instanceof cb)) {
            if (u(a) && "<" != a.charAt(0))throw qd("nosel");
            return new cb(a)
        }
        if (u(a)) {
            var c = a;
            a = b;
            var d;
            if (d = rd.exec(c))a = [a.createElement(d[1])]; else {
                var e, f = a;
                if (a = f.createDocumentFragment(), d = [], sd.test(c)) {
                    for (f = a.appendChild(f.createElement("div")), e = (td.exec(c) || ["", ""])[1].toLowerCase(), e = vd[e] || vd._default, f.innerHTML = "<div>&#160;</div>" + e[1] + c.replace(ud, "<$1></$2>") + e[2], f.removeChild(f.firstChild), c = e[0]; c--;)f = f.lastChild;
                    for (c = 0, e = f.childNodes.length; e > c; ++c)d.push(f.childNodes[c]);
                    f = a.firstChild, f.textContent = ""
                } else d.push(f.createTextNode(c));
                a.textContent = "", a.innerHTML = "", a = d
            }
            mb(this, a), Tc(b.createDocumentFragment()).append(this)
        } else mb(this, a)
    }

    function db(a) {
        return a.cloneNode(!0)
    }

    function eb(a) {
        gb(a);
        var b = 0;
        for (a = a.childNodes || []; b < a.length; b++)eb(a[b])
    }

    function fb(a, b, c, d) {
        if (s(d))throw qd("offargs");
        var e = hb(a, "events");
        hb(a, "handle") && (r(b) ? f(e, function (b, c) {
            nd(a, c, b), delete e[c]
        }) : f(b.split(" "), function (b) {
            r(c) ? (nd(a, b, e[b]), delete e[b]) : D(e[b] || [], c)
        }))
    }

    function gb(a, b) {
        var d = a.ng339, e = kd[d];
        e && (b ? delete kd[d].data[b] : (e.handle && (e.events.$destroy && e.handle({}, "$destroy"), fb(a)), delete kd[d], a.ng339 = c))
    }

    function hb(a, b, c) {
        var d = a.ng339, d = kd[d || -1];
        return s(c) ? (d || (a.ng339 = d = ++ld, d = kd[d] = {}), void(d[b] = c)) : d && d[b]
    }

    function ib(a, b, c) {
        var d = hb(a, "data"), e = s(c), f = !e && s(b), g = f && !t(b);
        if (d || g || hb(a, "data", d = {}), e)d[b] = c; else {
            if (!f)return d;
            if (g)return d && d[b];
            l(d, b)
        }
    }

    function jb(a, b) {
        return a.getAttribute ? -1 < (" " + (a.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").indexOf(" " + b + " ") : !1
    }

    function kb(a, b) {
        b && a.setAttribute && f(b.split(" "), function (b) {
            a.setAttribute("class", gd((" " + (a.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").replace(" " + gd(b) + " ", " ")))
        })
    }

    function lb(a, b) {
        if (b && a.setAttribute) {
            var c = (" " + (a.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ");
            f(b.split(" "), function (a) {
                a = gd(a), -1 === c.indexOf(" " + a + " ") && (c += a + " ")
            }), a.setAttribute("class", gd(c))
        }
    }

    function mb(a, b) {
        if (b) {
            b = b.nodeName || !s(b.length) || z(b) ? [b] : b;
            for (var c = 0; c < b.length; c++)a.push(b[c])
        }
    }

    function nb(a, b) {
        return ob(a, "$" + (b || "ngController") + "Controller")
    }

    function ob(a, b, d) {
        for (9 == a.nodeType && (a = a.documentElement), b = fd(b) ? b : [b]; a;) {
            for (var e = 0, f = b.length; f > e; e++)if ((d = Tc.data(a, b[e])) !== c)return d;
            a = a.parentNode || 11 === a.nodeType && a.host
        }
    }

    function pb(a) {
        for (var b = 0, c = a.childNodes; b < c.length; b++)eb(c[b]);
        for (; a.firstChild;)a.removeChild(a.firstChild)
    }

    function qb(a, b) {
        var c = xd[b.toLowerCase()];
        return c && yd[a.nodeName] && c
    }

    function rb(a, c) {
        var d = function (d, e) {
            if (d.preventDefault || (d.preventDefault = function () {
                    d.returnValue = !1
                }), d.stopPropagation || (d.stopPropagation = function () {
                    d.cancelBubble = !0
                }), d.target || (d.target = d.srcElement || b), r(d.defaultPrevented)) {
                var g = d.preventDefault;
                d.preventDefault = function () {
                    d.defaultPrevented = !0, g.call(d)
                }, d.defaultPrevented = !1
            }
            d.isDefaultPrevented = function () {
                return d.defaultPrevented || !1 === d.returnValue
            };
            var h = F(c[e || d.type] || []);
            f(h, function (b) {
                b.call(a, d)
            }), 8 >= Sc ? (d.preventDefault = null, d.stopPropagation = null, d.isDefaultPrevented = null) : (delete d.preventDefault, delete d.stopPropagation, delete d.isDefaultPrevented)
        };
        return d.elem = a, d
    }

    function sb(a, b) {
        var d, e = typeof a;
        return "function" == e || "object" == e && null !== a ? "function" == typeof(d = a.$$hashKey) ? d = a.$$hashKey() : d === c && (d = a.$$hashKey = (b || j)()) : d = a, e + ":" + d
    }

    function tb(a, b) {
        if (b) {
            var c = 0;
            this.nextUid = function () {
                return ++c
            }
        }
        f(a, this.put, this)
    }

    function ub(a) {
        var b, c;
        return "function" == typeof a ? (b = a.$inject) || (b = [], a.length && (c = a.toString().replace(Cd, ""), c = c.match(zd), f(c[1].split(Ad), function (a) {
            a.replace(Bd, function (a, c, d) {
                b.push(d)
            })
        })), a.$inject = b) : fd(a) ? (c = a.length - 1, W(a[c], "fn"), b = a.slice(0, c)) : W(a, "fn", !0), b
    }

    function vb(a) {
        function b(a) {
            return function (b, c) {
                return t(b) ? void f(b, i(a)) : a(b, c)
            }
        }

        function c(a, b) {
            if (X(a, "service"), (x(b) || fd(b)) && (b = n.instantiate(b)), !b.$get)throw Dd("pget", a);
            return m[a + j] = b
        }

        function d(a, b) {
            return c(a, {$get: b})
        }

        function e(a) {
            var b, c, d, g, h = [];
            return f(a, function (a) {
                if (!l.get(a)) {
                    l.put(a, !0);
                    try {
                        if (u(a))for (b = Vc(a), h = h.concat(e(b.requires)).concat(b._runBlocks), c = b._invokeQueue, d = 0, g = c.length; g > d; d++) {
                            var f = c[d], i = n.get(f[0]);
                            i[f[1]].apply(i, f[2])
                        } else x(a) ? h.push(n.invoke(a)) : fd(a) ? h.push(n.invoke(a)) : W(a, "module")
                    } catch (j) {
                        throw fd(a) && (a = a[a.length - 1]), j.message && j.stack && -1 == j.stack.indexOf(j.message) && (j = j.message + "\n" + j.stack), Dd("modulerr", a, j.stack || j.message || j)
                    }
                }
            }), h
        }

        function g(a, b) {
            function c(c) {
                if (a.hasOwnProperty(c)) {
                    if (a[c] === h)throw Dd("cdep", c + " <- " + k.join(" <- "));
                    return a[c]
                }
                try {
                    return k.unshift(c), a[c] = h, a[c] = b(c)
                } catch (d) {
                    throw a[c] === h && delete a[c], d
                } finally {
                    k.shift()
                }
            }

            function d(a, b, d) {
                var e, f, g, h = [], i = ub(a);
                for (f = 0, e = i.length; e > f; f++) {
                    if (g = i[f], "string" != typeof g)throw Dd("itkn", g);
                    h.push(d && d.hasOwnProperty(g) ? d[g] : c(g))
                }
                return fd(a) && (a = a[e]), a.apply(b, h)
            }

            return {
                invoke: d, instantiate: function (a, b) {
                    var c, e = function () {
                    };
                    return e.prototype = (fd(a) ? a[a.length - 1] : a).prototype, e = new e, c = d(a, e, b), t(c) || x(c) ? c : e
                }, get: c, annotate: ub, has: function (b) {
                    return m.hasOwnProperty(b + j) || a.hasOwnProperty(b)
                }
            }
        }

        var h = {}, j = "Provider", k = [], l = new tb([], !0), m = {
            $provide: {
                provider: b(c),
                factory: b(d),
                service: b(function (a, b) {
                    return d(a, ["$injector", function (a) {
                        return a.instantiate(b)
                    }])
                }),
                value: b(function (a, b) {
                    return d(a, q(b))
                }),
                constant: b(function (a, b) {
                    X(a, "constant"), m[a] = b, p[a] = b
                }),
                decorator: function (a, b) {
                    var c = n.get(a + j), d = c.$get;
                    c.$get = function () {
                        var a = r.invoke(d, c);
                        return r.invoke(b, null, {$delegate: a})
                    }
                }
            }
        }, n = m.$injector = g(m, function () {
            throw Dd("unpr", k.join(" <- "))
        }), p = {}, r = p.$injector = g(p, function (a) {
            return a = n.get(a + j), r.invoke(a.$get, a)
        });
        return f(e(a), function (a) {
            r.invoke(a || o)
        }), r
    }

    function wb() {
        var a = !0;
        this.disableAutoScrolling = function () {
            a = !1
        }, this.$get = ["$window", "$location", "$rootScope", function (b, c, d) {
            function e(a) {
                var b = null;
                return f(a, function (a) {
                    b || "a" !== Yc(a.nodeName) || (b = a)
                }), b
            }

            function g() {
                var a, d = c.hash();
                d ? (a = h.getElementById(d)) ? a.scrollIntoView() : (a = e(h.getElementsByName(d))) ? a.scrollIntoView() : "top" === d && b.scrollTo(0, 0) : b.scrollTo(0, 0)
            }

            var h = b.document;
            return a && d.$watch(function () {
                return c.hash()
            }, function () {
                d.$evalAsync(g)
            }), g
        }]
    }

    function xb() {
        this.$get = ["$$rAF", "$timeout", function (a, b) {
            return a.supported ? function (b) {
                return a(b)
            } : function (a) {
                return b(a, 0, !1)
            }
        }]
    }

    function yb(a, b, d, e) {
        function g(a) {
            try {
                a.apply(null, _c.call(arguments, 1))
            } finally {
                if (s--, 0 === s)for (; t.length;)try {
                    t.pop()()
                } catch (b) {
                    d.error(b)
                }
            }
        }

        function h(a, b) {
            !function c() {
                f(w, function (a) {
                    a()
                }), v = b(c, a)
            }()
        }

        function i() {
            x != j.url() && (x = j.url(), f(A, function (a) {
                a(j.url())
            }))
        }

        var j = this, k = b[0], l = a.location, m = a.history, n = a.setTimeout, p = a.clearTimeout, q = {};
        j.isMock = !1;
        var s = 0, t = [];
        j.$$completeOutstandingRequest = g, j.$$incOutstandingRequestCount = function () {
            s++
        }, j.notifyWhenNoOutstandingRequests = function (a) {
            f(w, function (a) {
                a()
            }), 0 === s ? a() : t.push(a)
        };
        var v, w = [];
        j.addPollFn = function (a) {
            return r(v) && h(100, n), w.push(a), a
        };
        var x = l.href, y = b.find("base"), z = null;
        j.url = function (b, c) {
            if (l !== a.location && (l = a.location), m !== a.history && (m = a.history), !b)return z || l.href.replace(/%27/g, "'");
            if (x != b) {
                var d = x && Wb(x) === Wb(b);
                return x = b, !d && e.history ? c ? m.replaceState(null, "", b) : (m.pushState(null, "", b), y.attr("href", y.attr("href"))) : (d || (z = b), c ? l.replace(b) : l.href = b), j
            }
        };
        var A = [], B = !1;
        j.onUrlChange = function (b) {
            return B || (e.history && Tc(a).on("popstate", i), e.hashchange ? Tc(a).on("hashchange", i) : j.addPollFn(i), B = !0), A.push(b), b
        }, j.$$checkUrlChange = i, j.baseHref = function () {
            var a = y.attr("href");
            return a ? a.replace(/^(https?\:)?\/\/[^\/]*/, "") : ""
        };
        var C = {}, D = "", E = j.baseHref();
        j.cookies = function (a, b) {
            var e, f, g, h;
            if (!a) {
                if (k.cookie !== D)for (D = k.cookie, e = D.split("; "), C = {}, g = 0; g < e.length; g++)f = e[g], h = f.indexOf("="), h > 0 && (a = unescape(f.substring(0, h)), C[a] === c && (C[a] = unescape(f.substring(h + 1))));
                return C
            }
            b === c ? k.cookie = escape(a) + "=;path=" + E + ";expires=Thu, 01 Jan 1970 00:00:00 GMT" : u(b) && (e = (k.cookie = escape(a) + "=" + escape(b) + ";path=" + E).length + 1, e > 4096 && d.warn("Cookie '" + a + "' possibly not set or overflowed because it was too large (" + e + " > 4096 bytes)!"))
        }, j.defer = function (a, b) {
            var c;
            return s++, c = n(function () {
                delete q[c], g(a)
            }, b || 0), q[c] = !0, c
        }, j.defer.cancel = function (a) {
            return q[a] ? (delete q[a], p(a), g(o), !0) : !1
        }
    }

    function zb() {
        this.$get = ["$window", "$log", "$sniffer", "$document", function (a, b, c, d) {
            return new yb(a, d, b, c)
        }]
    }

    function Ab() {
        this.$get = function () {
            function a(a, c) {
                function e(a) {
                    a != m && (n ? n == a && (n = a.n) : n = a, f(a.n, a.p), f(a, m), m = a, m.n = null)
                }

                function f(a, b) {
                    a != b && (a && (a.p = b), b && (b.n = a))
                }

                if (a in b)throw d("$cacheFactory")("iid", a);
                var g = 0, h = l({}, c, {id: a}), i = {}, j = c && c.capacity || Number.MAX_VALUE, k = {}, m = null, n = null;
                return b[a] = {
                    put: function (a, b) {
                        if (j < Number.MAX_VALUE) {
                            var c = k[a] || (k[a] = {key: a});
                            e(c)
                        }
                        return r(b) ? void 0 : (a in i || g++, i[a] = b, g > j && this.remove(n.key), b)
                    }, get: function (a) {
                        if (j < Number.MAX_VALUE) {
                            var b = k[a];
                            if (!b)return;
                            e(b)
                        }
                        return i[a]
                    }, remove: function (a) {
                        if (j < Number.MAX_VALUE) {
                            var b = k[a];
                            if (!b)return;
                            b == m && (m = b.p), b == n && (n = b.n), f(b.n, b.p), delete k[a]
                        }
                        delete i[a], g--
                    }, removeAll: function () {
                        i = {}, g = 0, k = {}, m = n = null
                    }, destroy: function () {
                        k = h = i = null, delete b[a]
                    }, info: function () {
                        return l({}, h, {size: g})
                    }
                }
            }

            var b = {};
            return a.info = function () {
                var a = {};
                return f(b, function (b, c) {
                    a[c] = b.info()
                }), a
            }, a.get = function (a) {
                return b[a]
            }, a
        }
    }

    function Bb() {
        this.$get = ["$cacheFactory", function (a) {
            return a("templates")
        }]
    }

    function Cb(a, d) {
        var e = {}, g = "Directive", h = /^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/, j = /(([\d\w_\-]+)(?:\:([^;]+))?;?)/, k = /^(on[a-z]+|formaction)$/;
        this.directive = function m(b, c) {
            return X(b, "directive"), u(b) ? (V(c, "directiveFactory"), e.hasOwnProperty(b) || (e[b] = [], a.factory(b + g, ["$injector", "$exceptionHandler", function (a, c) {
                var d = [];
                return f(e[b], function (e, f) {
                    try {
                        var g = a.invoke(e);
                        x(g) ? g = {compile: q(g)} : !g.compile && g.link && (g.compile = q(g.link)), g.priority = g.priority || 0, g.index = f, g.name = g.name || b, g.require = g.require || g.controller && g.name, g.restrict = g.restrict || "A", d.push(g)
                    } catch (h) {
                        c(h)
                    }
                }), d
            }])), e[b].push(c)) : f(b, i(m)), this
        }, this.aHrefSanitizationWhitelist = function (a) {
            return s(a) ? (d.aHrefSanitizationWhitelist(a), this) : d.aHrefSanitizationWhitelist()
        }, this.imgSrcSanitizationWhitelist = function (a) {
            return s(a) ? (d.imgSrcSanitizationWhitelist(a), this) : d.imgSrcSanitizationWhitelist()
        }, this.$get = ["$injector", "$interpolate", "$exceptionHandler", "$http", "$templateCache", "$parse", "$controller", "$rootScope", "$document", "$sce", "$animate", "$$sanitizeUri", function (a, d, i, m, o, q, r, s, v, w, y, z) {
            function A(a, b, c, d, e) {
                a instanceof Tc || (a = Tc(a)), f(a, function (b, c) {
                    3 == b.nodeType && b.nodeValue.match(/\S+/) && (a[c] = Tc(b).wrap("<span></span>").parent()[0])
                });
                var g = C(a, b, a, c, d, e);
                return B(a, "ng-scope"), function (b, c, d, e) {
                    V(b, "scope");
                    var h = c ? wd.clone.call(a) : a;
                    f(d, function (a, b) {
                        h.data("$" + b + "Controller", a)
                    }), d = 0;
                    for (var i = h.length; i > d; d++) {
                        var j = h[d].nodeType;
                        1 !== j && 9 !== j || h.eq(d).data("$scope", b)
                    }
                    return c && c(h, b), g && g(b, h, h, e), h
                }
            }

            function B(a, b) {
                try {
                    a.addClass(b)
                } catch (c) {
                }
            }

            function C(a, b, d, e, f, g) {
                function h(a, d, e, f) {
                    var g, h, i, j, k, l, n;
                    g = d.length;
                    var o = Array(g);
                    for (j = 0; g > j; j++)o[j] = d[j];
                    for (l = j = 0, k = m.length; k > j; l++)h = o[l], d = m[j++], g = m[j++], d ? (d.scope ? (i = a.$new(), Tc.data(h, "$scope", i)) : i = a, n = d.transcludeOnThisElement ? D(a, d.transclude, f) : !d.templateOnThisElement && f ? f : !f && b ? D(a, b) : null, d(g, i, h, e, n)) : g && g(a, h.childNodes, c, f)
                }

                for (var i, j, k, l, m = [], n = 0; n < a.length; n++)i = new Y, j = E(a[n], [], i, 0 === n ? e : c, f), (g = j.length ? J(j, a[n], i, b, d, null, [], [], g) : null) && g.scope && B(i.$$element, "ng-scope"), i = g && g.terminal || !(k = a[n].childNodes) || !k.length ? null : C(k, g ? (g.transcludeOnThisElement || !g.templateOnThisElement) && g.transclude : b), m.push(g, i), l = l || g || i, g = null;
                return l ? h : null
            }

            function D(a, b, c) {
                return function (d, e, f) {
                    var g = !1;
                    return d || (d = a.$new(), g = d.$$transcluded = !0), e = b(d, e, f, c), g && e.on("$destroy", function () {
                        d.$destroy()
                    }), e
                }
            }

            function E(a, b, c, d, e) {
                var f, g = c.$attr;
                switch (a.nodeType) {
                    case 1:
                        L(b, Db(Wc(a).toLowerCase()), "E", d, e);
                        for (var i, k, l, m = a.attributes, n = 0, o = m && m.length; o > n; n++) {
                            var p = !1, q = !1;
                            if (i = m[n], !Sc || Sc >= 8 || i.specified) {
                                f = i.name, k = gd(i.value), i = Db(f), (l = ab.test(i)) && (f = U(i.substr(6), "-"));
                                var r = i.replace(/(Start|End)$/, "");
                                i === r + "Start" && (p = f, q = f.substr(0, f.length - 5) + "end", f = f.substr(0, f.length - 6)), i = Db(f.toLowerCase()), g[i] = f, (l || !c.hasOwnProperty(i)) && (c[i] = k, qb(a, i) && (c[i] = !0)), T(a, b, k, i), L(b, i, "A", d, e, p, q)
                            }
                        }
                        if (a = a.className, u(a) && "" !== a)for (; f = j.exec(a);)i = Db(f[2]), L(b, i, "C", d, e) && (c[i] = gd(f[3])), a = a.substr(f.index + f[0].length);
                        break;
                    case 3:
                        R(b, a.nodeValue);
                        break;
                    case 8:
                        try {
                            (f = h.exec(a.nodeValue)) && (i = Db(f[1]), L(b, i, "M", d, e) && (c[i] = gd(f[2])))
                        } catch (s) {
                        }
                }
                return b.sort(P), b
            }

            function H(a, b, c) {
                var d = [], e = 0;
                if (b && a.hasAttribute && a.hasAttribute(b)) {
                    do {
                        if (!a)throw Gd("uterdir", b, c);
                        1 == a.nodeType && (a.hasAttribute(b) && e++, a.hasAttribute(c) && e--), d.push(a), a = a.nextSibling
                    } while (e > 0)
                } else d.push(a);
                return Tc(d)
            }

            function I(a, b, c) {
                return function (d, e, f, g, h) {
                    return e = H(e[0], b, c), a(d, e, f, g, h)
                }
            }

            function J(a, e, g, h, j, k, l, m, n) {
                function o(a, b, c, d) {
                    a && (c && (a = I(a, c, d)), a.require = w.require, a.directiveName = y, (L === w || w.$$isolateScope) && (a = X(a, {isolateScope: !0})), l.push(a)), b && (c && (b = I(b, c, d)), b.require = w.require, b.directiveName = y, (L === w || w.$$isolateScope) && (b = X(b, {isolateScope: !0})), m.push(b))
                }

                function p(a, b, c, d) {
                    var e, g = "data", h = !1;
                    if (u(b)) {
                        for (; "^" == (e = b.charAt(0)) || "?" == e;)b = b.substr(1), "^" == e && (g = "inheritedData"), h = h || "?" == e;
                        if (e = null, d && "data" === g && (e = d[b]), e = e || c[g]("$" + b + "Controller"), !e && !h)throw Gd("ctreq", b, a)
                    } else fd(b) && (e = [], f(b, function (b) {
                        e.push(p(a, b, c, d))
                    }));
                    return e
                }

                function s(a, b, h, j, k) {
                    function n(a, b) {
                        var d;
                        return 2 > arguments.length && (b = a, a = c), U && (d = y), k(a, b, d)
                    }

                    var o, s, t, u, v, w, x, y = {};
                    if (o = e === h ? g : F(g, new Y(Tc(h), g.$attr)), s = o.$$element, L) {
                        var z = /^\s*([@=&])(\??)\s*(\w*)\s*$/;
                        w = b.$new(!0), !P || P !== L && P !== L.$$originalDirective ? s.data("$isolateScopeNoTemplate", w) : s.data("$isolateScope", w), B(s, "ng-isolate-scope"), f(L.scope, function (a, c) {
                            var e, f, g, h, i = a.match(z) || [], j = i[3] || c, k = "?" == i[2], i = i[1];
                            switch (w.$$isolateBindings[c] = i + j, i) {
                                case"@":
                                    o.$observe(j, function (a) {
                                        w[c] = a
                                    }), o.$$observers[j].$$scope = b, o[j] && (w[c] = d(o[j])(b));
                                    break;
                                case"=":
                                    if (k && !o[j])break;
                                    f = q(o[j]), h = f.literal ? G : function (a, b) {
                                        return a === b || a !== a && b !== b
                                    }, g = f.assign || function () {
                                            throw e = w[c] = f(b), Gd("nonassign", o[j], L.name)
                                        }, e = w[c] = f(b), w.$watch(function () {
                                        var a = f(b);
                                        return h(a, w[c]) || (h(a, e) ? g(b, a = w[c]) : w[c] = a), e = a
                                    }, null, f.literal);
                                    break;
                                case"&":
                                    f = q(o[j]), w[c] = function (a) {
                                        return f(b, a)
                                    };
                                    break;
                                default:
                                    throw Gd("iscp", L.name, c, a)
                            }
                        })
                    }
                    for (x = k && n, J && f(J, function (a) {
                        var c, d = {
                            $scope: a === L || a.$$isolateScope ? w : b,
                            $element: s,
                            $attrs: o,
                            $transclude: x
                        };
                        v = a.controller, "@" == v && (v = o[a.name]), c = r(v, d), y[a.name] = c, U || s.data("$" + a.name + "Controller", c), a.controllerAs && (d.$scope[a.controllerAs] = c)
                    }), j = 0, t = l.length; t > j; j++)try {
                        (u = l[j])(u.isolateScope ? w : b, s, o, u.require && p(u.directiveName, u.require, s, y), x)
                    } catch (A) {
                        i(A, M(s))
                    }
                    for (j = b, L && (L.template || null === L.templateUrl) && (j = w), a && a(j, h.childNodes, c, k), j = m.length - 1; j >= 0; j--)try {
                        (u = m[j])(u.isolateScope ? w : b, s, o, u.require && p(u.directiveName, u.require, s, y), x)
                    } catch (C) {
                        i(C, M(s))
                    }
                }

                n = n || {};
                for (var v, w, y, z, C, D = -Number.MAX_VALUE, J = n.controllerDirectives, L = n.newIsolateScopeDirective, P = n.templateDirective, R = n.nonTlbTranscludeDirective, S = !1, T = !1, U = n.hasElementTranscludeDirective, V = g.$$element = Tc(e), Z = h, $ = 0, ab = a.length; ab > $; $++) {
                    w = a[$];
                    var bb = w.$$start, cb = w.$$end;
                    if (bb && (V = H(e, bb, cb)), z = c, D > w.priority)break;
                    if ((z = w.scope) && (v = v || w, w.templateUrl || (Q("new/isolated scope", L, w, V), t(z) && (L = w))), y = w.name, !w.templateUrl && w.controller && (z = w.controller, J = J || {}, Q("'" + y + "' controller", J[y], w, V), J[y] = w), (z = w.transclude) && (S = !0, w.$$tlb || (Q("transclusion", R, w, V), R = w), "element" == z ? (U = !0, D = w.priority, z = V, V = g.$$element = Tc(b.createComment(" " + y + ": " + g[y] + " ")), e = V[0], W(j, _c.call(z, 0), e), Z = A(z, h, D, k && k.name, {nonTlbTranscludeDirective: R})) : (z = Tc(db(e)).contents(), V.empty(), Z = A(z, h))), w.template)if (T = !0, Q("template", P, w, V), P = w, z = x(w.template) ? w.template(V, g) : w.template, z = _(z), w.replace) {
                        if (k = w, z = sd.test(z) ? Tc(gd(z)) : [], e = z[0], 1 != z.length || 1 !== e.nodeType)throw Gd("tplrt", y, "");
                        W(j, V, e), ab = {$attr: {}}, z = E(e, [], ab);
                        var eb = a.splice($ + 1, a.length - ($ + 1));
                        L && K(z), a = a.concat(z).concat(eb), N(g, ab), ab = a.length
                    } else V.html(z);
                    if (w.templateUrl)T = !0, Q("template", P, w, V), P = w, w.replace && (k = w), s = O(a.splice($, a.length - $), V, g, j, S && Z, l, m, {
                        controllerDirectives: J,
                        newIsolateScopeDirective: L,
                        templateDirective: P,
                        nonTlbTranscludeDirective: R
                    }), ab = a.length; else if (w.compile)try {
                        C = w.compile(V, g, Z), x(C) ? o(null, C, bb, cb) : C && o(C.pre, C.post, bb, cb)
                    } catch (fb) {
                        i(fb, M(V))
                    }
                    w.terminal && (s.terminal = !0, D = Math.max(D, w.priority))
                }
                return s.scope = v && !0 === v.scope, s.transcludeOnThisElement = S, s.templateOnThisElement = T, s.transclude = Z, n.hasElementTranscludeDirective = U, s
            }

            function K(a) {
                for (var b = 0, c = a.length; c > b; b++)a[b] = n(a[b], {$$isolateScope: !0})
            }

            function L(b, d, f, h, j, k, l) {
                if (d === j)return null;
                if (j = null, e.hasOwnProperty(d)) {
                    var m;
                    d = a.get(d + g);
                    for (var o = 0, p = d.length; p > o; o++)try {
                        m = d[o], (h === c || h > m.priority) && -1 != m.restrict.indexOf(f) && (k && (m = n(m, {
                            $$start: k,
                            $$end: l
                        })), b.push(m), j = m)
                    } catch (q) {
                        i(q)
                    }
                }
                return j
            }

            function N(a, b) {
                var c = b.$attr, d = a.$attr, e = a.$$element;
                f(a, function (d, e) {
                    "$" != e.charAt(0) && (b[e] && b[e] !== d && (d += ("style" === e ? ";" : " ") + b[e]), a.$set(e, d, !0, c[e]))
                }), f(b, function (b, f) {
                    "class" == f ? (B(e, b), a["class"] = (a["class"] ? a["class"] + " " : "") + b) : "style" == f ? (e.attr("style", e.attr("style") + ";" + b), a.style = (a.style ? a.style + ";" : "") + b) : "$" == f.charAt(0) || a.hasOwnProperty(f) || (a[f] = b, d[f] = c[f])
                })
            }

            function O(a, b, c, d, e, g, h, i) {
                var j, k, n = [], p = b[0], q = a.shift(), r = l({}, q, {
                    templateUrl: null,
                    transclude: null,
                    replace: null,
                    $$originalDirective: q
                }), s = x(q.templateUrl) ? q.templateUrl(b, c) : q.templateUrl;
                return b.empty(), m.get(w.getTrustedResourceUrl(s), {cache: o}).success(function (l) {
                    var m, o;
                    if (l = _(l), q.replace) {
                        if (l = sd.test(l) ? Tc(gd(l)) : [], m = l[0], 1 != l.length || 1 !== m.nodeType)throw Gd("tplrt", q.name, s);
                        l = {$attr: {}}, W(d, b, m);
                        var u = E(m, [], l);
                        t(q.scope) && K(u), a = u.concat(a), N(c, l)
                    } else m = p, b.html(l);
                    for (a.unshift(r), j = J(a, m, c, e, b, q, g, h, i), f(d, function (a, c) {
                        a == m && (d[c] = b[0])
                    }), k = C(b[0].childNodes, e); n.length;) {
                        l = n.shift(), o = n.shift();
                        var v = n.shift(), w = n.shift(), u = b[0];
                        if (o !== p) {
                            var x = o.className;
                            i.hasElementTranscludeDirective && q.replace || (u = db(m)), W(v, Tc(o), u), B(Tc(u), x)
                        }
                        o = j.transcludeOnThisElement ? D(l, j.transclude, w) : w, j(k, l, u, d, o)
                    }
                    n = null
                }).error(function (a, b, c, d) {
                    throw Gd("tpload", d.url)
                }), function (a, b, c, d, e) {
                    a = e, n ? (n.push(b), n.push(c), n.push(d), n.push(a)) : (j.transcludeOnThisElement && (a = D(b, j.transclude, e)), j(k, b, c, d, a))
                }
            }

            function P(a, b) {
                var c = b.priority - a.priority;
                return 0 !== c ? c : a.name !== b.name ? a.name < b.name ? -1 : 1 : a.index - b.index
            }

            function Q(a, b, c, d) {
                if (b)throw Gd("multidir", b.name, c.name, a, M(d))
            }

            function R(a, b) {
                var c = d(b, !0);
                c && a.push({
                    priority: 0, compile: function (a) {
                        var b = a.parent().length;
                        return b && B(a.parent(), "ng-binding"), function (a, d) {
                            var e = d.parent(), f = e.data("$binding") || [];
                            f.push(c), e.data("$binding", f), b || B(e, "ng-binding"), a.$watch(c, function (a) {
                                d[0].nodeValue = a
                            })
                        }
                    }
                })
            }

            function S(a, b) {
                if ("srcdoc" == b)return w.HTML;
                var c = Wc(a);
                return "xlinkHref" == b || "FORM" == c && "action" == b || "IMG" != c && ("src" == b || "ngSrc" == b) ? w.RESOURCE_URL : void 0
            }

            function T(a, b, c, e) {
                var f = d(c, !0);
                if (f) {
                    if ("multiple" === e && "SELECT" === Wc(a))throw Gd("selmulti", M(a));
                    b.push({
                        priority: 100, compile: function () {
                            return {
                                pre: function (b, c, g) {
                                    if (c = g.$$observers || (g.$$observers = {}), k.test(e))throw Gd("nodomevents");
                                    (f = d(g[e], !0, S(a, e))) && (g[e] = f(b), (c[e] || (c[e] = [])).$$inter = !0, (g.$$observers && g.$$observers[e].$$scope || b).$watch(f, function (a, b) {
                                        "class" === e && a != b ? g.$updateClass(a, b) : g.$set(e, a)
                                    }))
                                }
                            }
                        }
                    })
                }
            }

            function W(a, c, d) {
                var e, f, g = c[0], h = c.length, i = g.parentNode;
                if (a)for (e = 0, f = a.length; f > e; e++)if (a[e] == g) {
                    a[e++] = d, f = e + h - 1;
                    for (var j = a.length; j > e; e++, f++)j > f ? a[e] = a[f] : delete a[e];
                    a.length -= h - 1;
                    break
                }
                for (i && i.replaceChild(d, g), a = b.createDocumentFragment(), a.appendChild(g), d[Tc.expando] = g[Tc.expando], g = 1, h = c.length; h > g; g++)i = c[g], Tc(i).remove(), a.appendChild(i), delete c[g];
                c[0] = d, c.length = 1
            }

            function X(a, b) {
                return l(function () {
                    return a.apply(null, arguments)
                }, a, b)
            }

            var Y = function (a, b) {
                this.$$element = a, this.$attr = b || {}
            };
            Y.prototype = {
                $normalize: Db, $addClass: function (a) {
                    a && 0 < a.length && y.addClass(this.$$element, a)
                }, $removeClass: function (a) {
                    a && 0 < a.length && y.removeClass(this.$$element, a)
                }, $updateClass: function (a, b) {
                    var c = Eb(a, b), d = Eb(b, a);
                    0 === c.length ? y.removeClass(this.$$element, d) : 0 === d.length ? y.addClass(this.$$element, c) : y.setClass(this.$$element, c, d)
                }, $set: function (a, b, d, e) {
                    var g = qb(this.$$element[0], a);
                    g && (this.$$element.prop(a, b), e = g), this[a] = b, e ? this.$attr[a] = e : (e = this.$attr[a]) || (this.$attr[a] = e = U(a, "-")), g = Wc(this.$$element), ("A" === g && "href" === a || "IMG" === g && "src" === a) && (this[a] = b = z(b, "src" === a)), !1 !== d && (null === b || b === c ? this.$$element.removeAttr(e) : this.$$element.attr(e, b)), (d = this.$$observers) && f(d[a], function (a) {
                        try {
                            a(b)
                        } catch (c) {
                            i(c)
                        }
                    })
                }, $observe: function (a, b) {
                    var c = this, d = c.$$observers || (c.$$observers = {}), e = d[a] || (d[a] = []);
                    return e.push(b), s.$evalAsync(function () {
                        e.$$inter || b(c[a])
                    }), b
                }
            };
            var Z = d.startSymbol(), $ = d.endSymbol(), _ = "{{" == Z || "}}" == $ ? p : function (a) {
                return a.replace(/\{\{/g, Z).replace(/}}/g, $)
            }, ab = /^ngAttr[A-Z]/;
            return A
        }]
    }

    function Db(a) {
        return ab(a.replace(Hd, ""))
    }

    function Eb(a, b) {
        var c = "", d = a.split(/\s+/), e = b.split(/\s+/), f = 0;
        a:for (; f < d.length; f++) {
            for (var g = d[f], h = 0; h < e.length; h++)if (g == e[h])continue a;
            c += (0 < c.length ? " " : "") + g
        }
        return c
    }

    function Fb() {
        var a = {}, b = /^(\S+)(\s+as\s+(\w+))?$/;
        this.register = function (b, c) {
            X(b, "controller"), t(b) ? l(a, b) : a[b] = c
        }, this.$get = ["$injector", "$window", function (c, e) {
            return function (f, g) {
                var h, i, j;
                if (u(f) && (h = f.match(b), i = h[1], j = h[3], f = a.hasOwnProperty(i) ? a[i] : Y(g.$scope, i, !0) || Y(e, i, !0), W(f, i, !0)), h = c.instantiate(f, g), j) {
                    if (!g || "object" != typeof g.$scope)throw d("$controller")("noscp", i || f.name, j);
                    g.$scope[j] = h
                }
                return h
            }
        }]
    }

    function Gb() {
        this.$get = ["$window", function (a) {
            return Tc(a.document)
        }]
    }

    function Hb() {
        this.$get = ["$log", function (a) {
            return function () {
                a.error.apply(a, arguments)
            }
        }]
    }

    function Ib(a) {
        var b, c, d, e = {};
        return a ? (f(a.split("\n"), function (a) {
            d = a.indexOf(":"), b = Yc(gd(a.substr(0, d))), c = gd(a.substr(d + 1)), b && (e[b] = e[b] ? e[b] + ", " + c : c)
        }), e) : e
    }

    function Jb(a) {
        var b = t(a) ? a : c;
        return function (c) {
            return b || (b = Ib(a)), c ? b[Yc(c)] || null : b
        }
    }

    function Kb(a, b, c) {
        return x(c) ? c(a, b) : (f(c, function (c) {
            a = c(a, b)
        }), a)
    }

    function Lb() {
        var a = /^\s*(\[|\{[^\{])/, b = /[\}\]]\s*$/, d = /^\)\]\}',?\n/, e = {"Content-Type": "application/json;charset=utf-8"}, g = this.defaults = {
            transformResponse: [function (c) {
                return u(c) && (c = c.replace(d, ""), a.test(c) && b.test(c) && (c = K(c))), c
            }],
            transformRequest: [function (a) {
                return t(a) && "[object File]" !== bd.call(a) && "[object Blob]" !== bd.call(a) ? J(a) : a
            }],
            headers: {common: {Accept: "application/json, text/plain, */*"}, post: F(e), put: F(e), patch: F(e)},
            xsrfCookieName: "XSRF-TOKEN",
            xsrfHeaderName: "X-XSRF-TOKEN"
        }, i = this.interceptors = [], j = this.responseInterceptors = [];
        this.$get = ["$httpBackend", "$browser", "$cacheFactory", "$rootScope", "$q", "$injector", function (a, b, d, e, k, m) {
            function n(a) {
                function b(a) {
                    var b = l({}, a, {data: Kb(a.data, a.headers, d.transformResponse)});
                    return 200 <= a.status && 300 > a.status ? b : k.reject(b)
                }

                var d = {
                    method: "get",
                    transformRequest: g.transformRequest,
                    transformResponse: g.transformResponse
                }, e = function (a) {
                    var b, c, d = g.headers, e = l({}, a.headers), d = l({}, d.common, d[Yc(a.method)]);
                    a:for (b in d) {
                        a = Yc(b);
                        for (c in e)if (Yc(c) === a)continue a;
                        e[b] = d[b]
                    }
                    return function (a) {
                        var b;
                        f(a, function (c, d) {
                            x(c) && (b = c(), null != b ? a[d] = b : delete a[d])
                        })
                    }(e), e
                }(a);
                l(d, a), d.headers = e, d.method = $c(d.method);
                var h = [function (a) {
                    e = a.headers;
                    var c = Kb(a.data, Jb(e), a.transformRequest);
                    return r(c) && f(e, function (a, b) {
                        "content-type" === Yc(b) && delete e[b]
                    }), r(a.withCredentials) && !r(g.withCredentials) && (a.withCredentials = g.withCredentials), o(a, c, e).then(b, b)
                }, c], i = k.when(d);
                for (f(v, function (a) {
                    (a.request || a.requestError) && h.unshift(a.request, a.requestError), (a.response || a.responseError) && h.push(a.response, a.responseError)
                }); h.length;) {
                    a = h.shift();
                    var j = h.shift(), i = i.then(a, j)
                }
                return i.success = function (a) {
                    return i.then(function (b) {
                        a(b.data, b.status, b.headers, d)
                    }), i
                }, i.error = function (a) {
                    return i.then(null, function (b) {
                        a(b.data, b.status, b.headers, d)
                    }), i
                }, i
            }

            function o(d, f, h) {
                function i(a, b, c, d) {
                    m && (a >= 200 && 300 > a ? m.put(w, [a, b, Ib(c), d]) : m.remove(w)), j(b, a, c, d), e.$$phase || e.$apply()
                }

                function j(a, b, c, e) {
                    b = Math.max(b, 0), (b >= 200 && 300 > b ? u.resolve : u.reject)({
                        data: a,
                        status: b,
                        headers: Jb(c),
                        config: d,
                        statusText: e
                    })
                }

                function l() {
                    var a = C(n.pendingRequests, d);
                    -1 !== a && n.pendingRequests.splice(a, 1)
                }

                var m, o, u = k.defer(), v = u.promise, w = p(d.url, d.params);
                if (n.pendingRequests.push(d), v.then(l, l), !d.cache && !g.cache || !1 === d.cache || "GET" !== d.method && "JSONP" !== d.method || (m = t(d.cache) ? d.cache : t(g.cache) ? g.cache : q), m)if (o = m.get(w), s(o)) {
                    if (o && x(o.then))return o.then(l, l), o;
                    fd(o) ? j(o[1], o[0], F(o[2]), o[3]) : j(o, 200, {}, "OK")
                } else m.put(w, v);
                return r(o) && ((o = xc(d.url) ? b.cookies()[d.xsrfCookieName || g.xsrfCookieName] : c) && (h[d.xsrfHeaderName || g.xsrfHeaderName] = o), a(d.method, w, f, i, h, d.timeout, d.withCredentials, d.responseType)), v
            }

            function p(a, b) {
                if (!b)return a;
                var c = [];
                return h(b, function (a, b) {
                    null === a || r(a) || (fd(a) || (a = [a]), f(a, function (a) {
                        t(a) && (a = w(a) ? a.toISOString() : J(a)), c.push(R(b) + "=" + R(a))
                    }))
                }), 0 < c.length && (a += (-1 == a.indexOf("?") ? "?" : "&") + c.join("&")), a
            }

            var q = d("$http"), v = [];
            return f(i, function (a) {
                v.unshift(u(a) ? m.get(a) : m.invoke(a))
            }), f(j, function (a, b) {
                var c = u(a) ? m.get(a) : m.invoke(a);
                v.splice(b, 0, {
                    response: function (a) {
                        return c(k.when(a))
                    }, responseError: function (a) {
                        return c(k.reject(a))
                    }
                })
            }), n.pendingRequests = [], function () {
                f(arguments, function (a) {
                    n[a] = function (b, c) {
                        return n(l(c || {}, {method: a, url: b}))
                    }
                })
            }("get", "delete", "head", "jsonp"), function () {
                f(arguments, function (a) {
                    n[a] = function (b, c, d) {
                        return n(l(d || {}, {method: a, url: b, data: c}))
                    }
                })
            }("post", "put", "patch"), n.defaults = g, n
        }]
    }

    function Mb(b) {
        if (8 >= Sc && (!b.match(/^(get|post|head|put|delete|options)$/i) || !a.XMLHttpRequest))return new a.ActiveXObject("Microsoft.XMLHTTP");
        if (a.XMLHttpRequest)return new a.XMLHttpRequest;
        throw d("$httpBackend")("noxhr")
    }

    function Nb() {
        this.$get = ["$browser", "$window", "$document", function (a, b, c) {
            return Ob(a, Mb, a.defer, b.angular.callbacks, c[0])
        }]
    }

    function Ob(a, b, c, d, e) {
        function g(a, b, c) {
            var f = e.createElement("script"), g = null;
            return f.type = "text/javascript", f.src = a, f.async = !0, g = function (a) {
                nd(f, "load", g), nd(f, "error", g), e.body.removeChild(f), f = null;
                var h = -1, i = "unknown";
                a && ("load" !== a.type || d[b].called || (a = {type: "error"}), i = a.type, h = "error" === a.type ? 404 : 200), c && c(h, i)
            }, md(f, "load", g), md(f, "error", g), 8 >= Sc && (f.onreadystatechange = function () {
                u(f.readyState) && /loaded|complete/.test(f.readyState) && (f.onreadystatechange = null, g({type: "load"}))
            }), e.body.appendChild(f), g
        }

        var h = -1;
        return function (e, i, j, k, l, m, n, p) {
            function q() {
                t = h, v && v(), w && w.abort()
            }

            function r(b, d, e, f, g) {
                z && c.cancel(z), v = w = null, 0 === d && (d = e ? 200 : "file" == wc(i).protocol ? 404 : 0), b(1223 === d ? 204 : d, e, f, g || ""), a.$$completeOutstandingRequest(o)
            }

            var t;
            if (a.$$incOutstandingRequestCount(), i = i || a.url(), "jsonp" == Yc(e)) {
                var u = "_" + (d.counter++).toString(36);
                d[u] = function (a) {
                    d[u].data = a, d[u].called = !0
                };
                var v = g(i.replace("JSON_CALLBACK", "angular.callbacks." + u), u, function (a, b) {
                    r(k, a, d[u].data, "", b), d[u] = o
                })
            } else {
                var w = b(e);
                if (w.open(e, i, !0), f(l, function (a, b) {
                        s(a) && w.setRequestHeader(b, a)
                    }), w.onreadystatechange = function () {
                        if (w && 4 == w.readyState) {
                            var a = null, b = null, c = "";
                            t !== h && (a = w.getAllResponseHeaders(), b = "response" in w ? w.response : w.responseText), t === h && 10 > Sc || (c = w.statusText), r(k, t || w.status, b, a, c)
                        }
                    }, n && (w.withCredentials = !0), p)try {
                    w.responseType = p
                } catch (y) {
                    if ("json" !== p)throw y
                }
                w.send(j || null)
            }
            if (m > 0)var z = c(q, m); else m && x(m.then) && m.then(q)
        }
    }

    function Pb() {
        var a = "{{", b = "}}";
        this.startSymbol = function (b) {
            return b ? (a = b, this) : a
        }, this.endSymbol = function (a) {
            return a ? (b = a, this) : b
        }, this.$get = ["$parse", "$exceptionHandler", "$sce", function (c, d, e) {
            function f(f, i, j) {
                for (var k, l, m = 0, n = [], o = f.length, p = !1, q = []; o > m;)-1 != (k = f.indexOf(a, m)) && -1 != (l = f.indexOf(b, k + g)) ? (m != k && n.push(f.substring(m, k)), n.push(m = c(p = f.substring(k + g, l))), m.exp = p, m = l + h, p = !0) : (m != o && n.push(f.substring(m)), m = o);
                if ((o = n.length) || (n.push(""), o = 1), j && 1 < n.length)throw Id("noconcat", f);
                return !i || p ? (q.length = o, m = function (a) {
                    try {
                        for (var b, c = 0, g = o; g > c; c++) {
                            if ("function" == typeof(b = n[c]))if (b = b(a), b = j ? e.getTrusted(j, b) : e.valueOf(b), null == b)b = ""; else switch (typeof b) {
                                case"string":
                                    break;
                                case"number":
                                    b = "" + b;
                                    break;
                                default:
                                    b = J(b)
                            }
                            q[c] = b
                        }
                        return q.join("")
                    } catch (h) {
                        a = Id("interr", f, h.toString()), d(a)
                    }
                }, m.exp = f, m.parts = n, m) : void 0
            }

            var g = a.length, h = b.length;
            return f.startSymbol = function () {
                return a
            }, f.endSymbol = function () {
                return b
            }, f
        }]
    }

    function Qb() {
        this.$get = ["$rootScope", "$window", "$q", function (a, b, c) {
            function d(d, f, g, h) {
                var i = b.setInterval, j = b.clearInterval, k = c.defer(), l = k.promise, m = 0, n = s(h) && !h;
                return g = s(g) ? g : 0, l.then(null, null, d), l.$$intervalId = i(function () {
                    k.notify(m++), g > 0 && m >= g && (k.resolve(m), j(l.$$intervalId), delete e[l.$$intervalId]), n || a.$apply()
                }, f), e[l.$$intervalId] = k, l
            }

            var e = {};
            return d.cancel = function (a) {
                return a && a.$$intervalId in e ? (e[a.$$intervalId].reject("canceled"), b.clearInterval(a.$$intervalId), delete e[a.$$intervalId], !0) : !1
            }, d
        }]
    }

    function Rb() {
        this.$get = function () {
            return {
                id: "en-us",
                NUMBER_FORMATS: {
                    DECIMAL_SEP: ".",
                    GROUP_SEP: ",",
                    PATTERNS: [{
                        minInt: 1,
                        minFrac: 0,
                        maxFrac: 3,
                        posPre: "",
                        posSuf: "",
                        negPre: "-",
                        negSuf: "",
                        gSize: 3,
                        lgSize: 3
                    }, {
                        minInt: 1,
                        minFrac: 2,
                        maxFrac: 2,
                        posPre: "¤",
                        posSuf: "",
                        negPre: "(¤",
                        negSuf: ")",
                        gSize: 3,
                        lgSize: 3
                    }],
                    CURRENCY_SYM: "$"
                },
                DATETIME_FORMATS: {
                    MONTH: "January February March April May June July August September October November December".split(" "),
                    SHORTMONTH: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
                    DAY: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
                    SHORTDAY: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
                    AMPMS: ["AM", "PM"],
                    medium: "MMM d, y h:mm:ss a",
                    "short": "M/d/yy h:mm a",
                    fullDate: "EEEE, MMMM d, y",
                    longDate: "MMMM d, y",
                    mediumDate: "MMM d, y",
                    shortDate: "M/d/yy",
                    mediumTime: "h:mm:ss a",
                    shortTime: "h:mm a"
                },
                pluralCat: function (a) {
                    return 1 === a ? "one" : "other"
                }
            }
        }
    }

    function Sb(a) {
        a = a.split("/");
        for (var b = a.length; b--;)a[b] = Q(a[b]);
        return a.join("/")
    }

    function Tb(a, b, c) {
        a = wc(a, c), b.$$protocol = a.protocol, b.$$host = a.hostname, b.$$port = m(a.port) || Kd[a.protocol] || null
    }

    function Ub(a, b, c) {
        var d = "/" !== a.charAt(0);
        d && (a = "/" + a), a = wc(a, c), b.$$path = decodeURIComponent(d && "/" === a.pathname.charAt(0) ? a.pathname.substring(1) : a.pathname), b.$$search = O(a.search), b.$$hash = decodeURIComponent(a.hash), b.$$path && "/" != b.$$path.charAt(0) && (b.$$path = "/" + b.$$path)
    }

    function Vb(a, b) {
        return 0 === b.indexOf(a) ? b.substr(a.length) : void 0
    }

    function Wb(a) {
        var b = a.indexOf("#");
        return -1 == b ? a : a.substr(0, b)
    }

    function Xb(a) {
        return a.substr(0, Wb(a).lastIndexOf("/") + 1)
    }

    function Yb(a, b) {
        this.$$html5 = !0, b = b || "";
        var d = Xb(a);
        Tb(a, this, a), this.$$parse = function (b) {
            var c = Vb(d, b);
            if (!u(c))throw Ld("ipthprfx", b, d);
            Ub(c, this, a), this.$$path || (this.$$path = "/"), this.$$compose()
        }, this.$$compose = function () {
            var a = P(this.$$search), b = this.$$hash ? "#" + Q(this.$$hash) : "";
            this.$$url = Sb(this.$$path) + (a ? "?" + a : "") + b, this.$$absUrl = d + this.$$url.substr(1)
        }, this.$$parseLinkUrl = function (e) {
            var f, g;
            return (f = Vb(a, e)) !== c ? (g = f, g = (f = Vb(b, f)) !== c ? d + (Vb("/", f) || f) : a + g) : (f = Vb(d, e)) !== c ? g = d + f : d == e + "/" && (g = d), g && this.$$parse(g), !!g
        }
    }

    function Zb(a, b) {
        var c = Xb(a);
        Tb(a, this, a), this.$$parse = function (d) {
            var e = Vb(a, d) || Vb(c, d), e = "#" == e.charAt(0) ? Vb(b, e) : this.$$html5 ? e : "";
            if (!u(e))throw Ld("ihshprfx", d, b);
            Ub(e, this, a), d = this.$$path;
            var f = /^\/[A-Z]:(\/.*)/;
            0 === e.indexOf(a) && (e = e.replace(a, "")), f.exec(e) || (d = (e = f.exec(d)) ? e[1] : d), this.$$path = d, this.$$compose()
        }, this.$$compose = function () {
            var c = P(this.$$search), d = this.$$hash ? "#" + Q(this.$$hash) : "";
            this.$$url = Sb(this.$$path) + (c ? "?" + c : "") + d, this.$$absUrl = a + (this.$$url ? b + this.$$url : "")
        }, this.$$parseLinkUrl = function (b) {
            return Wb(a) == Wb(b) ? (this.$$parse(b), !0) : !1
        }
    }

    function $b(a, b) {
        this.$$html5 = !0, Zb.apply(this, arguments);
        var c = Xb(a);
        this.$$parseLinkUrl = function (d) {
            var e, f;
            return a == Wb(d) ? e = d : (f = Vb(c, d)) ? e = a + b + f : c === d + "/" && (e = c), e && this.$$parse(e), !!e
        }, this.$$compose = function () {
            var c = P(this.$$search), d = this.$$hash ? "#" + Q(this.$$hash) : "";
            this.$$url = Sb(this.$$path) + (c ? "?" + c : "") + d, this.$$absUrl = a + b + this.$$url
        }
    }

    function _b(a) {
        return function () {
            return this[a]
        }
    }

    function ac(a, b) {
        return function (c) {
            return r(c) ? this[a] : (this[a] = b(c), this.$$compose(), this)
        }
    }

    function bc() {
        var b = "", c = !1;
        this.hashPrefix = function (a) {
            return s(a) ? (b = a, this) : b
        }, this.html5Mode = function (a) {
            return s(a) ? (c = a, this) : c
        }, this.$get = ["$rootScope", "$browser", "$sniffer", "$rootElement", function (d, e, f, g) {
            function h(a) {
                d.$broadcast("$locationChangeSuccess", i.absUrl(), a)
            }

            var i, j = e.baseHref(), k = e.url();
            c ? (j = k.substring(0, k.indexOf("/", k.indexOf("//") + 2)) + (j || "/"), f = f.history ? Yb : $b) : (j = Wb(k), f = Zb), i = new f(j, "#" + b), i.$$parseLinkUrl(k, k);
            var l = /^\s*(javascript|mailto):/i;
            g.on("click", function (b) {
                if (!b.ctrlKey && !b.metaKey && 2 != b.which) {
                    for (var c = Tc(b.target); "a" !== Yc(c[0].nodeName);)if (c[0] === g[0] || !(c = c.parent())[0])return;
                    var f = c.prop("href"), h = c.attr("href") || c.attr("xlink:href");
                    t(f) && "[object SVGAnimatedString]" === f.toString() && (f = wc(f.animVal).href), l.test(f) || !f || c.attr("target") || b.isDefaultPrevented() || !i.$$parseLinkUrl(f, h) || (b.preventDefault(), i.absUrl() != e.url() && (d.$apply(), a.angular["ff-684208-preventDefault"] = !0))
                }
            }), i.absUrl() != k && e.url(i.absUrl(), !0), e.onUrlChange(function (a) {
                i.absUrl() != a && (d.$evalAsync(function () {
                    var b = i.absUrl();
                    i.$$parse(a), d.$broadcast("$locationChangeStart", a, b).defaultPrevented ? (i.$$parse(b), e.url(b)) : h(b)
                }), d.$$phase || d.$digest())
            });
            var m = 0;
            return d.$watch(function () {
                var a = e.url(), b = i.$$replace;
                return m && a == i.absUrl() || (m++, d.$evalAsync(function () {
                    d.$broadcast("$locationChangeStart", i.absUrl(), a).defaultPrevented ? i.$$parse(a) : (e.url(i.absUrl(), b), h(a))
                })), i.$$replace = !1, m
            }), i
        }]
    }

    function cc() {
        var a = !0, b = this;
        this.debugEnabled = function (b) {
            return s(b) ? (a = b, this) : a
        }, this.$get = ["$window", function (c) {
            function d(a) {
                return a instanceof Error && (a.stack ? a = a.message && -1 === a.stack.indexOf(a.message) ? "Error: " + a.message + "\n" + a.stack : a.stack : a.sourceURL && (a = a.message + "\n" + a.sourceURL + ":" + a.line)), a
            }

            function e(a) {
                var b = c.console || {}, e = b[a] || b.log || o;
                a = !1;
                try {
                    a = !!e.apply
                } catch (g) {
                }
                return a ? function () {
                    var a = [];
                    return f(arguments, function (b) {
                        a.push(d(b))
                    }), e.apply(b, a)
                } : function (a, b) {
                    e(a, null == b ? "" : b)
                }
            }

            return {
                log: e("log"), info: e("info"), warn: e("warn"), error: e("error"), debug: function () {
                    var c = e("debug");
                    return function () {
                        a && c.apply(b, arguments)
                    }
                }()
            }
        }]
    }

    function dc(a, b) {
        if ("__defineGetter__" === a || "__defineSetter__" === a || "__lookupGetter__" === a || "__lookupSetter__" === a || "__proto__" === a)throw Nd("isecfld", b);
        return a
    }

    function ec(a, b) {
        if (a) {
            if (a.constructor === a)throw Nd("isecfn", b);
            if (a.document && a.location && a.alert && a.setInterval)throw Nd("isecwindow", b);
            if (a.children && (a.nodeName || a.prop && a.attr && a.find))throw Nd("isecdom", b);
            if (a === Object)throw Nd("isecobj", b)
        }
        return a
    }

    function fc(a, b, d, e, f) {
        ec(a, e), f = f || {}, b = b.split(".");
        for (var g, h = 0; 1 < b.length; h++) {
            g = dc(b.shift(), e);
            var i = ec(a[g], e);
            i || (i = {}, a[g] = i), a = i, a.then && f.unwrapPromises && (Md(e), "$$v" in a || function (a) {
                a.then(function (b) {
                    a.$$v = b
                })
            }(a), a.$$v === c && (a.$$v = {}), a = a.$$v)
        }
        return g = dc(b.shift(), e), ec(a[g], e), a[g] = d
    }

    function gc(a) {
        return "constructor" == a
    }

    function hc(a, b, d, e, f, g, h) {
        dc(a, g), dc(b, g), dc(d, g), dc(e, g), dc(f, g);
        var i = function (a) {
            return ec(a, g)
        }, j = h.expensiveChecks, k = j || gc(a) ? i : p, l = j || gc(b) ? i : p, m = j || gc(d) ? i : p, n = j || gc(e) ? i : p, o = j || gc(f) ? i : p;
        return h.unwrapPromises ? function (h, i) {
            var j, p = i && i.hasOwnProperty(a) ? i : h;
            return null == p ? p : ((p = k(p[a])) && p.then && (Md(g), "$$v" in p || (j = p, j.$$v = c, j.then(function (a) {
                j.$$v = k(a)
            })), p = k(p.$$v)), b ? null == p ? c : ((p = l(p[b])) && p.then && (Md(g), "$$v" in p || (j = p, j.$$v = c, j.then(function (a) {
                j.$$v = l(a)
            })), p = l(p.$$v)), d ? null == p ? c : ((p = m(p[d])) && p.then && (Md(g), "$$v" in p || (j = p, j.$$v = c, j.then(function (a) {
                j.$$v = m(a)
            })), p = m(p.$$v)), e ? null == p ? c : ((p = n(p[e])) && p.then && (Md(g), "$$v" in p || (j = p, j.$$v = c, j.then(function (a) {
                j.$$v = n(a)
            })), p = n(p.$$v)), f ? null == p ? c : ((p = o(p[f])) && p.then && (Md(g), "$$v" in p || (j = p, j.$$v = c, j.then(function (a) {
                j.$$v = o(a)
            })), p = o(p.$$v)), p) : p) : p) : p) : p)
        } : function (g, h) {
            var i = h && h.hasOwnProperty(a) ? h : g;
            return null == i ? i : (i = k(i[a]), b ? null == i ? c : (i = l(i[b]), d ? null == i ? c : (i = m(i[d]), e ? null == i ? c : (i = n(i[e]), f ? null == i ? c : i = o(i[f]) : i) : i) : i) : i)
        }
    }

    function ic(a, b) {
        return function (c, d) {
            return a(c, d, Md, ec, b)
        }
    }

    function jc(a, b, d) {
        var e = b.expensiveChecks, g = e ? Xd : Wd;
        if (g.hasOwnProperty(a))return g[a];
        var h, i = a.split("."), j = i.length;
        if (b.csp)h = 6 > j ? hc(i[0], i[1], i[2], i[3], i[4], d, b) : function (a, e) {
            var f, g = 0;
            do f = hc(i[g++], i[g++], i[g++], i[g++], i[g++], d, b)(a, e), e = c, a = f; while (j > g);
            return f
        }; else {
            var k = "var p;\n";
            e && (k += "s = eso(s, fe);\nl = eso(l, fe);\n");
            var l = e;
            f(i, function (a, c) {
                dc(a, d);
                var f = (c ? "s" : '((l&&l.hasOwnProperty("' + a + '"))?l:s)') + '["' + a + '"]', g = e || gc(a);
                g && (f = "eso(" + f + ", fe)", l = !0), k += "if(s == null) return undefined;\ns=" + f + ";\n", b.unwrapPromises && (k += 'if (s && s.then) {\n pw("' + d.replace(/(["\r\n])/g, "\\$1") + '");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=' + (g ? "eso(v)" : "v") + ";});\n}\n s=" + (g ? "eso(s.$$v)" : "s.$$v") + "\n}\n")
            }), k += "return s;", h = new Function("s", "l", "pw", "eso", "fe", k), h.toString = q(k), (l || b.unwrapPromises) && (h = ic(h, d))
        }
        return "hasOwnProperty" !== a && (g[a] = h), h
    }

    function kc() {
        var a = {}, b = {}, c = {csp: !1, unwrapPromises: !1, logPromiseWarnings: !0, expensiveChecks: !1};
        this.unwrapPromises = function (a) {
            return s(a) ? (c.unwrapPromises = !!a, this) : c.unwrapPromises
        }, this.logPromiseWarnings = function (a) {
            return s(a) ? (c.logPromiseWarnings = a, this) : c.logPromiseWarnings
        }, this.$get = ["$filter", "$sniffer", "$log", function (d, e, f) {
            c.csp = e.csp;
            var g = {
                csp: c.csp,
                unwrapPromises: c.unwrapPromises,
                logPromiseWarnings: c.logPromiseWarnings,
                expensiveChecks: !0
            };
            return Md = function (a) {
                c.logPromiseWarnings && !Od.hasOwnProperty(a) && (Od[a] = !0, f.warn("[$parse] Promise found in the expression `" + a + "`. Automatic unwrapping of promises in Angular expressions is deprecated."))
            }, function (e, f) {
                var h;
                switch (typeof e) {
                    case"string":
                        var i = f ? b : a;
                        if (i.hasOwnProperty(e))return i[e];
                        h = f ? g : c;
                        var j = new Ud(h);
                        return h = new Vd(j, d, h).parse(e), "hasOwnProperty" !== e && (i[e] = h), h;
                    case"function":
                        return e;
                    default:
                        return o
                }
            }
        }]
    }

    function lc() {
        this.$get = ["$rootScope", "$exceptionHandler", function (a, b) {
            return mc(function (b) {
                a.$evalAsync(b)
            }, b)
        }]
    }

    function mc(a, b) {
        function d(a) {
            return a
        }

        function e(a) {
            return i(a)
        }

        var g = function () {
            var f, i, k = [];
            return i = {
                resolve: function (b) {
                    if (k) {
                        var d = k;
                        k = c, f = h(b), d.length && a(function () {
                            for (var a, b = 0, c = d.length; c > b; b++)a = d[b], f.then(a[0], a[1], a[2])
                        })
                    }
                }, reject: function (a) {
                    i.resolve(j(a))
                }, notify: function (b) {
                    if (k) {
                        var c = k;
                        k.length && a(function () {
                            for (var a, d = 0, e = c.length; e > d; d++)a = c[d], a[2](b)
                        })
                    }
                }, promise: {
                    then: function (a, c, h) {
                        var i = g(), j = function (c) {
                            try {
                                i.resolve((x(a) ? a : d)(c))
                            } catch (e) {
                                i.reject(e), b(e)
                            }
                        }, l = function (a) {
                            try {
                                i.resolve((x(c) ? c : e)(a))
                            } catch (d) {
                                i.reject(d), b(d)
                            }
                        }, m = function (a) {
                            try {
                                i.notify((x(h) ? h : d)(a))
                            } catch (c) {
                                b(c)
                            }
                        };
                        return k ? k.push([j, l, m]) : f.then(j, l, m), i.promise
                    }, "catch": function (a) {
                        return this.then(null, a)
                    }, "finally": function (a) {
                        function b(a, b) {
                            var c = g();
                            return b ? c.resolve(a) : c.reject(a), c.promise
                        }

                        function c(c, e) {
                            var f = null;
                            try {
                                f = (a || d)()
                            } catch (g) {
                                return b(g, !1)
                            }
                            return f && x(f.then) ? f.then(function () {
                                return b(c, e)
                            }, function (a) {
                                return b(a, !1)
                            }) : b(c, e)
                        }

                        return this.then(function (a) {
                            return c(a, !0)
                        }, function (a) {
                            return c(a, !1)
                        })
                    }
                }
            }
        }, h = function (b) {
            return b && x(b.then) ? b : {
                then: function (c) {
                    var d = g();
                    return a(function () {
                        d.resolve(c(b))
                    }), d.promise
                }
            }
        }, i = function (a) {
            var b = g();
            return b.reject(a), b.promise
        }, j = function (c) {
            return {
                then: function (d, f) {
                    var h = g();
                    return a(function () {
                        try {
                            h.resolve((x(f) ? f : e)(c))
                        } catch (a) {
                            h.reject(a), b(a)
                        }
                    }), h.promise
                }
            }
        };
        return {
            defer: g, reject: i, when: function (c, f, j, k) {
                var l, m = g(), n = function (a) {
                    try {
                        return (x(f) ? f : d)(a)
                    } catch (c) {
                        return b(c), i(c)
                    }
                }, o = function (a) {
                    try {
                        return (x(j) ? j : e)(a)
                    } catch (c) {
                        return b(c), i(c)
                    }
                }, p = function (a) {
                    try {
                        return (x(k) ? k : d)(a)
                    } catch (c) {
                        b(c)
                    }
                };
                return a(function () {
                    h(c).then(function (a) {
                        l || (l = !0, m.resolve(h(a).then(n, o, p)))
                    }, function (a) {
                        l || (l = !0, m.resolve(o(a)))
                    }, function (a) {
                        l || m.notify(p(a))
                    })
                }), m.promise
            }, all: function (a) {
                var b = g(), c = 0, d = fd(a) ? [] : {};
                return f(a, function (a, e) {
                    c++, h(a).then(function (a) {
                        d.hasOwnProperty(e) || (d[e] = a, --c || b.resolve(d))
                    }, function (a) {
                        d.hasOwnProperty(e) || b.reject(a)
                    })
                }), 0 === c && b.resolve(d), b.promise
            }
        }
    }

    function nc() {
        this.$get = ["$window", "$timeout", function (a, b) {
            var c = a.requestAnimationFrame || a.webkitRequestAnimationFrame || a.mozRequestAnimationFrame, d = a.cancelAnimationFrame || a.webkitCancelAnimationFrame || a.mozCancelAnimationFrame || a.webkitCancelRequestAnimationFrame, e = !!c, f = e ? function (a) {
                var b = c(a);
                return function () {
                    d(b)
                }
            } : function (a) {
                var c = b(a, 16.66, !1);
                return function () {
                    b.cancel(c)
                }
            };
            return f.supported = e, f
        }]
    }

    function oc() {
        var a = 10, b = d("$rootScope"), c = null;
        this.digestTtl = function (b) {
            return arguments.length && (a = b), a
        }, this.$get = ["$injector", "$exceptionHandler", "$parse", "$browser", function (d, g, h, i) {
            function k() {
                this.$id = j(), this.$$phase = this.$parent = this.$$watchers = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = null, this["this"] = this.$root = this, this.$$destroyed = !1, this.$$asyncQueue = [], this.$$postDigestQueue = [], this.$$listeners = {}, this.$$listenerCount = {}, this.$$isolateBindings = {}
            }

            function l(a) {
                if (q.$$phase)throw b("inprog", q.$$phase);
                q.$$phase = a
            }

            function m(a, b) {
                var c = h(a);
                return W(c, b), c
            }

            function n(a, b, c) {
                do a.$$listenerCount[c] -= b, 0 === a.$$listenerCount[c] && delete a.$$listenerCount[c]; while (a = a.$parent)
            }

            function p() {
            }

            k.prototype = {
                constructor: k, $new: function (a) {
                    return a ? (a = new k, a.$root = this.$root, a.$$asyncQueue = this.$$asyncQueue, a.$$postDigestQueue = this.$$postDigestQueue) : (this.$$childScopeClass || (this.$$childScopeClass = function () {
                        this.$$watchers = this.$$nextSibling = this.$$childHead = this.$$childTail = null, this.$$listeners = {}, this.$$listenerCount = {}, this.$id = j(), this.$$childScopeClass = null
                    }, this.$$childScopeClass.prototype = this), a = new this.$$childScopeClass), a["this"] = a, a.$parent = this, a.$$prevSibling = this.$$childTail, this.$$childHead ? this.$$childTail = this.$$childTail.$$nextSibling = a : this.$$childHead = this.$$childTail = a, a
                }, $watch: function (a, b, d) {
                    var e = m(a, "watch"), f = this.$$watchers, g = {fn: b, last: p, get: e, exp: a, eq: !!d};
                    if (c = null, !x(b)) {
                        var h = m(b || o, "listener");
                        g.fn = function (a, b, c) {
                            h(c)
                        }
                    }
                    if ("string" == typeof a && e.constant) {
                        var i = g.fn;
                        g.fn = function (a, b, c) {
                            i.call(this, a, b, c), D(f, g)
                        }
                    }
                    return f || (f = this.$$watchers = []), f.unshift(g), function () {
                        D(f, g), c = null
                    }
                }, $watchCollection: function (a, b) {
                    var c, d, f, g = this, i = 1 < b.length, j = 0, k = h(a), l = [], m = {}, n = !0, o = 0;
                    return this.$watch(function () {
                        c = k(g);
                        var a, b, f;
                        if (t(c))if (e(c))for (d !== l && (d = l, o = d.length = 0, j++), a = c.length, o !== a && (j++, d.length = o = a), b = 0; a > b; b++)f = d[b] !== d[b] && c[b] !== c[b], f || d[b] === c[b] || (j++, d[b] = c[b]); else {
                            d !== m && (d = m = {}, o = 0, j++), a = 0;
                            for (b in c)c.hasOwnProperty(b) && (a++, d.hasOwnProperty(b) ? (f = d[b] !== d[b] && c[b] !== c[b], f || d[b] === c[b] || (j++, d[b] = c[b])) : (o++, d[b] = c[b], j++));
                            if (o > a)for (b in j++, d)d.hasOwnProperty(b) && !c.hasOwnProperty(b) && (o--, delete d[b])
                        } else d !== c && (d = c, j++);
                        return j
                    }, function () {
                        if (n ? (n = !1, b(c, c, g)) : b(c, f, g), i)if (t(c))if (e(c)) {
                            f = Array(c.length);
                            for (var a = 0; a < c.length; a++)f[a] = c[a]
                        } else for (a in f = {}, c)Zc.call(c, a) && (f[a] = c[a]); else f = c
                    })
                }, $digest: function () {
                    var d, e, f, h, j, k, m, n, o, r, s = this.$$asyncQueue, t = this.$$postDigestQueue, u = a, v = [];
                    l("$digest"), i.$$checkUrlChange(), c = null;
                    do {
                        for (k = !1, m = this; s.length;) {
                            try {
                                r = s.shift(), r.scope.$eval(r.expression)
                            } catch (w) {
                                q.$$phase = null, g(w)
                            }
                            c = null
                        }
                        a:do {
                            if (h = m.$$watchers)for (j = h.length; j--;)try {
                                if (d = h[j])if ((e = d.get(m)) === (f = d.last) || (d.eq ? G(e, f) : "number" == typeof e && "number" == typeof f && isNaN(e) && isNaN(f))) {
                                    if (d === c) {
                                        k = !1;
                                        break a
                                    }
                                } else k = !0, c = d, d.last = d.eq ? E(e, null) : e, d.fn(e, f === p ? e : f, m), 5 > u && (n = 4 - u, v[n] || (v[n] = []), o = x(d.exp) ? "fn: " + (d.exp.name || d.exp.toString()) : d.exp, o += "; newVal: " + J(e) + "; oldVal: " + J(f), v[n].push(o))
                            } catch (y) {
                                q.$$phase = null, g(y)
                            }
                            if (!(h = m.$$childHead || m !== this && m.$$nextSibling))for (; m !== this && !(h = m.$$nextSibling);)m = m.$parent
                        } while (m = h);
                        if ((k || s.length) && !u--)throw q.$$phase = null, b("infdig", a, J(v))
                    } while (k || s.length);
                    for (q.$$phase = null; t.length;)try {
                        t.shift()()
                    } catch (z) {
                        g(z)
                    }
                }, $destroy: function () {
                    if (!this.$$destroyed) {
                        var a = this.$parent;
                        this.$broadcast("$destroy"), this.$$destroyed = !0, this !== q && (f(this.$$listenerCount, H(null, n, this)), a.$$childHead == this && (a.$$childHead = this.$$nextSibling), a.$$childTail == this && (a.$$childTail = this.$$prevSibling), this.$$prevSibling && (this.$$prevSibling.$$nextSibling = this.$$nextSibling), this.$$nextSibling && (this.$$nextSibling.$$prevSibling = this.$$prevSibling), this.$parent = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = this.$root = null, this.$$listeners = {}, this.$$watchers = this.$$asyncQueue = this.$$postDigestQueue = [], this.$destroy = this.$digest = this.$apply = o, this.$on = this.$watch = function () {
                            return o
                        })
                    }
                }, $eval: function (a, b) {
                    return h(a)(this, b)
                }, $evalAsync: function (a) {
                    q.$$phase || q.$$asyncQueue.length || i.defer(function () {
                        q.$$asyncQueue.length && q.$digest()
                    }), this.$$asyncQueue.push({scope: this, expression: a})
                }, $$postDigest: function (a) {
                    this.$$postDigestQueue.push(a)
                }, $apply: function (a) {
                    try {
                        return l("$apply"), this.$eval(a)
                    } catch (b) {
                        g(b)
                    } finally {
                        q.$$phase = null;
                        try {
                            q.$digest()
                        } catch (c) {
                            throw g(c), c
                        }
                    }
                }, $on: function (a, b) {
                    var c = this.$$listeners[a];
                    c || (this.$$listeners[a] = c = []), c.push(b);
                    var d = this;
                    do d.$$listenerCount[a] || (d.$$listenerCount[a] = 0), d.$$listenerCount[a]++; while (d = d.$parent);
                    var e = this;
                    return function () {
                        var d = C(c, b);
                        -1 !== d && (c[d] = null, n(e, 1, a))
                    }
                }, $emit: function (a) {
                    var b, c, d, e = [], f = this, h = !1, i = {
                        name: a, targetScope: f, stopPropagation: function () {
                            h = !0
                        }, preventDefault: function () {
                            i.defaultPrevented = !0
                        }, defaultPrevented: !1
                    }, j = [i].concat(_c.call(arguments, 1));
                    do {
                        for (b = f.$$listeners[a] || e, i.currentScope = f, c = 0, d = b.length; d > c; c++)if (b[c])try {
                            b[c].apply(null, j)
                        } catch (k) {
                            g(k)
                        } else b.splice(c, 1), c--, d--;
                        if (h)break;
                        f = f.$parent
                    } while (f);
                    return i
                }, $broadcast: function (a) {
                    for (var b, c, d = this, e = this, f = {
                        name: a, targetScope: this, preventDefault: function () {
                            f.defaultPrevented = !0
                        }, defaultPrevented: !1
                    }, h = [f].concat(_c.call(arguments, 1)); d = e;) {
                        for (f.currentScope = d, e = d.$$listeners[a] || [], b = 0, c = e.length; c > b; b++)if (e[b])try {
                            e[b].apply(null, h)
                        } catch (i) {
                            g(i)
                        } else e.splice(b, 1), b--, c--;
                        if (!(e = d.$$listenerCount[a] && d.$$childHead || d !== this && d.$$nextSibling))for (; d !== this && !(e = d.$$nextSibling);)d = d.$parent
                    }
                    return f
                }
            };
            var q = new k;
            return q
        }]
    }

    function pc() {
        var a = /^\s*(https?|ftp|mailto|tel|file):/, b = /^\s*((https?|ftp|file):|data:image\/)/;
        this.aHrefSanitizationWhitelist = function (b) {
            return s(b) ? (a = b, this) : a
        }, this.imgSrcSanitizationWhitelist = function (a) {
            return s(a) ? (b = a, this) : b
        }, this.$get = function () {
            return function (c, d) {
                var e, f = d ? b : a;
                return Sc && !(Sc >= 8) || (e = wc(c).href, "" === e || e.match(f)) ? c : "unsafe:" + e
            }
        }
    }

    function qc(a) {
        if ("self" === a)return a;
        if (u(a)) {
            if (-1 < a.indexOf("***"))throw Yd("iwcard", a);
            return a = a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08").replace("\\*\\*", ".*").replace("\\*", "[^:/.?&;]*"), RegExp("^" + a + "$")
        }
        if (y(a))return RegExp("^" + a.source + "$");
        throw Yd("imatcher")
    }

    function rc(a) {
        var b = [];
        return s(a) && f(a, function (a) {
            b.push(qc(a))
        }), b
    }

    function sc() {
        this.SCE_CONTEXTS = Zd;
        var a = ["self"], b = [];
        this.resourceUrlWhitelist = function (b) {
            return arguments.length && (a = rc(b)), a
        }, this.resourceUrlBlacklist = function (a) {
            return arguments.length && (b = rc(a)), b
        }, this.$get = ["$injector", function (d) {
            function e(a) {
                var b = function (a) {
                    this.$$unwrapTrustedValue = function () {
                        return a
                    }
                };
                return a && (b.prototype = new a), b.prototype.valueOf = function () {
                    return this.$$unwrapTrustedValue()
                }, b.prototype.toString = function () {
                    return this.$$unwrapTrustedValue().toString()
                }, b
            }

            var f = function () {
                throw Yd("unsafe")
            };
            d.has("$sanitize") && (f = d.get("$sanitize"));
            var g = e(), h = {};
            return h[Zd.HTML] = e(g), h[Zd.CSS] = e(g), h[Zd.URL] = e(g), h[Zd.JS] = e(g), h[Zd.RESOURCE_URL] = e(h[Zd.URL]), {
                trustAs: function (a, b) {
                    var d = h.hasOwnProperty(a) ? h[a] : null;
                    if (!d)throw Yd("icontext", a, b);
                    if (null === b || b === c || "" === b)return b;
                    if ("string" != typeof b)throw Yd("itype", a);
                    return new d(b)
                }, getTrusted: function (d, e) {
                    if (null === e || e === c || "" === e)return e;
                    var g = h.hasOwnProperty(d) ? h[d] : null;
                    if (g && e instanceof g)return e.$$unwrapTrustedValue();
                    if (d === Zd.RESOURCE_URL) {
                        var i, j, g = wc(e.toString()), k = !1;
                        for (i = 0, j = a.length; j > i; i++)if ("self" === a[i] ? xc(g) : a[i].exec(g.href)) {
                            k = !0;
                            break
                        }
                        if (k)for (i = 0, j = b.length; j > i; i++)if ("self" === b[i] ? xc(g) : b[i].exec(g.href)) {
                            k = !1;
                            break
                        }
                        if (k)return e;
                        throw Yd("insecurl", e.toString())
                    }
                    if (d === Zd.HTML)return f(e);
                    throw Yd("unsafe")
                }, valueOf: function (a) {
                    return a instanceof g ? a.$$unwrapTrustedValue() : a
                }
            }
        }]
    }

    function tc() {
        var a = !0;
        this.enabled = function (b) {
            return arguments.length && (a = !!b), a
        }, this.$get = ["$parse", "$sniffer", "$sceDelegate", function (b, c, d) {
            if (a && c.msie && 8 > c.msieDocumentMode)throw Yd("iequirks");
            var e = F(Zd);
            e.isEnabled = function () {
                return a
            }, e.trustAs = d.trustAs, e.getTrusted = d.getTrusted, e.valueOf = d.valueOf, a || (e.trustAs = e.getTrusted = function (a, b) {
                return b
            }, e.valueOf = p), e.parseAs = function (a, c) {
                var d = b(c);
                return d.literal && d.constant ? d : function (b, c) {
                    return e.getTrusted(a, d(b, c))
                }
            };
            var g = e.parseAs, h = e.getTrusted, i = e.trustAs;
            return f(Zd, function (a, b) {
                var c = Yc(b);
                e[ab("parse_as_" + c)] = function (b) {
                    return g(a, b)
                }, e[ab("get_trusted_" + c)] = function (b) {
                    return h(a, b)
                }, e[ab("trust_as_" + c)] = function (b) {
                    return i(a, b)
                }
            }), e
        }]
    }

    function uc() {
        this.$get = ["$window", "$document", function (a, b) {
            var c, d = {}, e = m((/android (\d+)/.exec(Yc((a.navigator || {}).userAgent)) || [])[1]), f = /Boxee/i.test((a.navigator || {}).userAgent), g = b[0] || {}, h = g.documentMode, i = /^(Moz|webkit|O|ms)(?=[A-Z])/, j = g.body && g.body.style, k = !1, l = !1;
            if (j) {
                for (var n in j)if (k = i.exec(n)) {
                    c = k[0], c = c.substr(0, 1).toUpperCase() + c.substr(1);
                    break
                }
                c || (c = "WebkitOpacity" in j && "webkit"), k = !!("transition" in j || c + "Transition" in j), l = !!("animation" in j || c + "Animation" in j), !e || k && l || (k = u(g.body.style.webkitTransition), l = u(g.body.style.webkitAnimation))
            }
            return {
                history: !(!a.history || !a.history.pushState || 4 > e || f),
                hashchange: "onhashchange" in a && (!h || h > 7),
                hasEvent: function (a) {
                    if ("input" == a && 9 == Sc)return !1;
                    if (r(d[a])) {
                        var b = g.createElement("div");
                        d[a] = "on" + a in b
                    }
                    return d[a]
                },
                csp: hd(),
                vendorPrefix: c,
                transitions: k,
                animations: l,
                android: e,
                msie: Sc,
                msieDocumentMode: h
            }
        }]
    }

    function vc() {
        this.$get = ["$rootScope", "$browser", "$q", "$exceptionHandler", function (a, b, c, d) {
            function e(e, g, h) {
                var i = c.defer(), j = i.promise, k = s(h) && !h;
                return g = b.defer(function () {
                    try {
                        i.resolve(e())
                    } catch (b) {
                        i.reject(b), d(b)
                    } finally {
                        delete f[j.$$timeoutId]
                    }
                    k || a.$apply()
                }, g), j.$$timeoutId = g, f[g] = i, j
            }

            var f = {};
            return e.cancel = function (a) {
                return a && a.$$timeoutId in f ? (f[a.$$timeoutId].reject("canceled"), delete f[a.$$timeoutId], b.defer.cancel(a.$$timeoutId)) : !1
            }, e
        }]
    }

    function wc(a) {
        var b = a;
        return Sc && ($d.setAttribute("href", b), b = $d.href), $d.setAttribute("href", b), {
            href: $d.href,
            protocol: $d.protocol ? $d.protocol.replace(/:$/, "") : "",
            host: $d.host,
            search: $d.search ? $d.search.replace(/^\?/, "") : "",
            hash: $d.hash ? $d.hash.replace(/^#/, "") : "",
            hostname: $d.hostname,
            port: $d.port,
            pathname: "/" === $d.pathname.charAt(0) ? $d.pathname : "/" + $d.pathname
        }
    }

    function xc(a) {
        return a = u(a) ? wc(a) : a, a.protocol === _d.protocol && a.host === _d.host
    }

    function yc() {
        this.$get = q(a)
    }

    function zc(a) {
        function b(d, e) {
            if (t(d)) {
                var g = {};
                return f(d, function (a, c) {
                    g[c] = b(c, a)
                }), g
            }
            return a.factory(d + c, e)
        }

        var c = "Filter";
        this.register = b, this.$get = ["$injector", function (a) {
            return function (b) {
                return a.get(b + c)
            }
        }], b("currency", Bc), b("date", Hc), b("filter", Ac), b("json", Ic), b("limitTo", Jc), b("lowercase", ee), b("number", Cc), b("orderBy", Kc), b("uppercase", fe)
    }

    function Ac() {
        return function (a, b, c) {
            if (!fd(a))return a;
            var d = typeof c, e = [];
            e.check = function (a) {
                for (var b = 0; b < e.length; b++)if (!e[b](a))return !1;
                return !0
            }, "function" !== d && (c = "boolean" === d && c ? function (a, b) {
                return dd.equals(a, b)
            } : function (a, b) {
                if (a && b && "object" == typeof a && "object" == typeof b) {
                    for (var d in a)if ("$" !== d.charAt(0) && Zc.call(a, d) && c(a[d], b[d]))return !0;
                    return !1
                }
                return b = ("" + b).toLowerCase(), -1 < ("" + a).toLowerCase().indexOf(b)
            });
            var f = function (a, b) {
                if ("string" == typeof b && "!" === b.charAt(0))return !f(a, b.substr(1));
                switch (typeof a) {
                    case"boolean":
                    case"number":
                    case"string":
                        return c(a, b);
                    case"object":
                        switch (typeof b) {
                            case"object":
                                return c(a, b);
                            default:
                                for (var d in a)if ("$" !== d.charAt(0) && f(a[d], b))return !0
                        }
                        return !1;
                    case"array":
                        for (d = 0; d < a.length; d++)if (f(a[d], b))return !0;
                        return !1;
                    default:
                        return !1
                }
            };
            switch (typeof b) {
                case"boolean":
                case"number":
                case"string":
                    b = {$: b};
                case"object":
                    for (var g in b)(function (a) {
                        "undefined" != typeof b[a] && e.push(function (c) {
                            return f("$" == a ? c : c && c[a], b[a])
                        })
                    })(g);
                    break;
                case"function":
                    e.push(b);
                    break;
                default:
                    return a
            }
            for (d = [], g = 0; g < a.length; g++) {
                var h = a[g];
                e.check(h) && d.push(h)
            }
            return d
        }
    }

    function Bc(a) {
        var b = a.NUMBER_FORMATS;
        return function (a, c) {
            return r(c) && (c = b.CURRENCY_SYM), Dc(a, b.PATTERNS[1], b.GROUP_SEP, b.DECIMAL_SEP, 2).replace(/\u00A4/g, c)
        }
    }

    function Cc(a) {
        var b = a.NUMBER_FORMATS;
        return function (a, c) {
            return Dc(a, b.PATTERNS[0], b.GROUP_SEP, b.DECIMAL_SEP, c)
        }
    }

    function Dc(a, b, c, d, e) {
        if (null == a || !isFinite(a) || t(a))return "";
        var f = 0 > a;
        a = Math.abs(a);
        var g = a + "", h = "", i = [], j = !1;
        if (-1 !== g.indexOf("e")) {
            var k = g.match(/([\d\.]+)e(-?)(\d+)/);
            k && "-" == k[2] && k[3] > e + 1 ? (g = "0", a = 0) : (h = g, j = !0)
        }
        if (j)e > 0 && a > -1 && 1 > a && (h = a.toFixed(e)); else {
            g = (g.split(ae)[1] || "").length, r(e) && (e = Math.min(Math.max(b.minFrac, g), b.maxFrac)), a = +(Math.round(+(a.toString() + "e" + e)).toString() + "e" + -e), 0 === a && (f = !1), a = ("" + a).split(ae), g = a[0], a = a[1] || "";
            var k = 0, l = b.lgSize, m = b.gSize;
            if (g.length >= l + m)for (k = g.length - l, j = 0; k > j; j++)0 === (k - j) % m && 0 !== j && (h += c), h += g.charAt(j);
            for (j = k; j < g.length; j++)0 === (g.length - j) % l && 0 !== j && (h += c), h += g.charAt(j);
            for (; a.length < e;)a += "0";
            e && "0" !== e && (h += d + a.substr(0, e))
        }
        return i.push(f ? b.negPre : b.posPre), i.push(h), i.push(f ? b.negSuf : b.posSuf), i.join("")
    }

    function Ec(a, b, c) {
        var d = "";
        for (0 > a && (d = "-", a = -a), a = "" + a; a.length < b;)a = "0" + a;
        return c && (a = a.substr(a.length - b)), d + a
    }

    function Fc(a, b, c, d) {
        return c = c || 0, function (e) {
            return e = e["get" + a](), (c > 0 || e > -c) && (e += c), 0 === e && -12 == c && (e = 12), Ec(e, b, d)
        }
    }

    function Gc(a, b) {
        return function (c, d) {
            var e = c["get" + a](), f = $c(b ? "SHORT" + a : a);
            return d[f][e]
        }
    }

    function Hc(a) {
        function b(a) {
            var b;
            if (b = a.match(c)) {
                a = new Date(0);
                var d = 0, e = 0, f = b[8] ? a.setUTCFullYear : a.setFullYear, g = b[8] ? a.setUTCHours : a.setHours;
                b[9] && (d = m(b[9] + b[10]), e = m(b[9] + b[11])), f.call(a, m(b[1]), m(b[2]) - 1, m(b[3])), d = m(b[4] || 0) - d, e = m(b[5] || 0) - e, f = m(b[6] || 0), b = Math.round(1e3 * parseFloat("0." + (b[7] || 0))), g.call(a, d, e, f, b)
            }
            return a
        }

        var c = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
        return function (c, d) {
            var e, g, h = "", i = [];
            if (d = d || "mediumDate", d = a.DATETIME_FORMATS[d] || d, u(c) && (c = de.test(c) ? m(c) : b(c)), v(c) && (c = new Date(c)), !w(c))return c;
            for (; d;)(g = ce.exec(d)) ? (i = i.concat(_c.call(g, 1)), d = i.pop()) : (i.push(d), d = null);
            return f(i, function (b) {
                e = be[b], h += e ? e(c, a.DATETIME_FORMATS) : b.replace(/(^'|'$)/g, "").replace(/''/g, "'")
            }), h
        }
    }

    function Ic() {
        return function (a) {
            return J(a, !0)
        }
    }

    function Jc() {
        return function (a, b) {
            if (!fd(a) && !u(a))return a;
            if (b = 1 / 0 === Math.abs(Number(b)) ? Number(b) : m(b), u(a))return b ? b >= 0 ? a.slice(0, b) : a.slice(b, a.length) : "";
            var c, d, e = [];
            for (b > a.length ? b = a.length : b < -a.length && (b = -a.length), b > 0 ? (c = 0, d = b) : (c = a.length + b, d = a.length); d > c; c++)e.push(a[c]);
            return e
        }
    }

    function Kc(a) {
        return function (b, c, d) {
            function f(a, b) {
                return L(b) ? function (b, c) {
                    return a(c, b)
                } : a
            }

            function g(a, b) {
                var c = typeof a, d = typeof b;
                return c == d ? (w(a) && w(b) && (a = a.valueOf(), b = b.valueOf()), "string" == c && (a = a.toLowerCase(), b = b.toLowerCase()), a === b ? 0 : b > a ? -1 : 1) : d > c ? -1 : 1
            }

            return e(b) ? (c = fd(c) ? c : [c], 0 === c.length && (c = ["+"]), c = B(c, function (b) {
                var c = !1, d = b || p;
                if (u(b)) {
                    if (("+" == b.charAt(0) || "-" == b.charAt(0)) && (c = "-" == b.charAt(0), b = b.substring(1)), "" === b)return f(function (a, b) {
                        return g(a, b)
                    }, c);
                    if (d = a(b), d.constant) {
                        var e = d();
                        return f(function (a, b) {
                            return g(a[e], b[e])
                        }, c)
                    }
                }
                return f(function (a, b) {
                    return g(d(a), d(b))
                }, c)
            }), _c.call(b).sort(f(function (a, b) {
                for (var d = 0; d < c.length; d++) {
                    var e = c[d](a, b);
                    if (0 !== e)return e
                }
                return 0
            }, d))) : b
        }
    }

    function Lc(a) {
        return x(a) && (a = {link: a}), a.restrict = a.restrict || "AC", q(a)
    }

    function Mc(a, b, c, d) {
        function e(b, c) {
            c = c ? "-" + U(c, "-") : "", d.setClass(a, (b ? se : te) + c, (b ? te : se) + c)
        }

        var g = this, h = a.parent().controller("form") || ie, i = 0, j = g.$error = {}, k = [];
        g.$name = b.name || b.ngForm, g.$dirty = !1, g.$pristine = !0, g.$valid = !0, g.$invalid = !1, h.$addControl(g), a.addClass(ue), e(!0), g.$addControl = function (a) {
            X(a.$name, "input"), k.push(a), a.$name && (g[a.$name] = a)
        }, g.$removeControl = function (a) {
            a.$name && g[a.$name] === a && delete g[a.$name], f(j, function (b, c) {
                g.$setValidity(c, !0, a)
            }), D(k, a)
        }, g.$setValidity = function (a, b, c) {
            var d = j[a];
            if (b)d && (D(d, c), d.length || (i--, i || (e(b), g.$valid = !0, g.$invalid = !1), j[a] = !1, e(!0, a), h.$setValidity(a, !0, g))); else {
                if (i || e(b), d) {
                    if (-1 != C(d, c))return
                } else j[a] = d = [], i++, e(!1, a), h.$setValidity(a, !1, g);
                d.push(c), g.$valid = !1, g.$invalid = !0
            }
        }, g.$setDirty = function () {
            d.removeClass(a, ue), d.addClass(a, ve), g.$dirty = !0, g.$pristine = !1, h.$setDirty()
        }, g.$setPristine = function () {
            d.removeClass(a, ve), d.addClass(a, ue), g.$dirty = !1, g.$pristine = !0, f(k, function (a) {
                a.$setPristine()
            })
        }
    }

    function Nc(a, b, d, e) {
        return a.$setValidity(b, d), d ? e : c
    }

    function Oc(a, b) {
        var c, d;
        if (b)for (c = 0; c < b.length; ++c)if (d = b[c], a[d])return !0;
        return !1
    }

    function Pc(a, b, c, d, e) {
        t(e) && (a.$$hasNativeValidators = !0, a.$parsers.push(function (f) {
            return a.$error[b] || Oc(e, d) || !Oc(e, c) ? f : void a.$setValidity(b, !1)
        }))
    }

    function Qc(a, b, c, e, f, g) {
        var h = b.prop(Xc), i = b[0].placeholder, j = {}, k = Yc(b[0].type);
        if (e.$$validityState = h, !f.android) {
            var l = !1;
            b.on("compositionstart", function () {
                l = !0
            }), b.on("compositionend", function () {
                l = !1, n()
            })
        }
        var n = function (d) {
            if (!l) {
                var f = b.val();
                Sc && "input" === (d || j).type && b[0].placeholder !== i ? i = b[0].placeholder : ("password" !== k && L(c.ngTrim || "T") && (f = gd(f)), d = h && e.$$hasNativeValidators, (e.$viewValue !== f || "" === f && d) && (a.$root.$$phase ? e.$setViewValue(f) : a.$apply(function () {
                    e.$setViewValue(f)
                })))
            }
        };
        if (f.hasEvent("input"))b.on("input", n); else {
            var o, p = function () {
                o || (o = g.defer(function () {
                    n(), o = null
                }))
            };
            b.on("keydown", function (a) {
                a = a.keyCode, 91 === a || a > 15 && 19 > a || a >= 37 && 40 >= a || p()
            }), f.hasEvent("paste") && b.on("paste cut", p)
        }
        b.on("change", n), e.$render = function () {
            b.val(e.$isEmpty(e.$viewValue) ? "" : e.$viewValue)
        };
        var q = c.ngPattern;
        if (q && ((f = q.match(/^\/(.*)\/([gim]*)$/)) ? (q = RegExp(f[1], f[2]), f = function (a) {
                return Nc(e, "pattern", e.$isEmpty(a) || q.test(a), a)
            }) : f = function (c) {
                var f = a.$eval(q);
                if (!f || !f.test)throw d("ngPattern")("noregexp", q, f, M(b));
                return Nc(e, "pattern", e.$isEmpty(c) || f.test(c), c)
            }, e.$formatters.push(f), e.$parsers.push(f)), c.ngMinlength) {
            var r = m(c.ngMinlength);
            f = function (a) {
                return Nc(e, "minlength", e.$isEmpty(a) || a.length >= r, a)
            }, e.$parsers.push(f), e.$formatters.push(f)
        }
        if (c.ngMaxlength) {
            var s = m(c.ngMaxlength);
            f = function (a) {
                return Nc(e, "maxlength", e.$isEmpty(a) || a.length <= s, a)
            }, e.$parsers.push(f), e.$formatters.push(f)
        }
    }

    function Rc(a, b) {
        return a = "ngClass" + a, ["$animate", function (c) {
            function d(a, b) {
                var c = [], d = 0;
                a:for (; d < a.length; d++) {
                    for (var e = a[d], f = 0; f < b.length; f++)if (e == b[f])continue a;
                    c.push(e)
                }
                return c
            }

            function e(a) {
                if (!fd(a)) {
                    if (u(a))return a.split(" ");
                    if (t(a)) {
                        var b = [];
                        return f(a, function (a, c) {
                            a && (b = b.concat(c.split(" ")))
                        }), b
                    }
                }
                return a
            }

            return {
                restrict: "AC", link: function (g, h, i) {
                    function j(a, b) {
                        var c = h.data("$classCounts") || {}, d = [];
                        return f(a, function (a) {
                            (b > 0 || c[a]) && (c[a] = (c[a] || 0) + b, c[a] === +(b > 0) && d.push(a))
                        }), h.data("$classCounts", c), d.join(" ")
                    }

                    function k(a) {
                        if (!0 === b || g.$index % 2 === b) {
                            var f = e(a || []);
                            if (l) {
                                if (!G(a, l)) {
                                    var k = e(l), m = d(f, k), f = d(k, f), f = j(f, -1), m = j(m, 1);
                                    0 === m.length ? c.removeClass(h, f) : 0 === f.length ? c.addClass(h, m) : c.setClass(h, m, f)
                                }
                            } else {
                                var m = j(f, 1);
                                i.$addClass(m)
                            }
                        }
                        l = F(a)
                    }

                    var l;
                    g.$watch(i[a], k, !0), i.$observe("class", function () {
                        k(g.$eval(i[a]))
                    }), "ngClass" !== a && g.$watch("$index", function (c, d) {
                        var f = 1 & c;
                        if (f !== (1 & d)) {
                            var h = e(g.$eval(i[a]));
                            f === b ? (f = j(h, 1), i.$addClass(f)) : (f = j(h, -1), i.$removeClass(f))
                        }
                    })
                }
            }
        }]
    }

    var Sc, Tc, Uc, Vc, Wc, Xc = "validity", Yc = function (a) {
        return u(a) ? a.toLowerCase() : a
    }, Zc = Object.prototype.hasOwnProperty, $c = function (a) {
        return u(a) ? a.toUpperCase() : a
    }, _c = [].slice, ad = [].push, bd = Object.prototype.toString, cd = d("ng"), dd = a.angular || (a.angular = {}), ed = ["0", "0", "0"];
    Sc = m((/msie (\d+)/.exec(Yc(navigator.userAgent)) || [])[1]), isNaN(Sc) && (Sc = m((/trident\/.*; rv:(\d+)/.exec(Yc(navigator.userAgent)) || [])[1])), o.$inject = [], p.$inject = [];
    var fd = function () {
        return x(Array.isArray) ? Array.isArray : function (a) {
            return "[object Array]" === bd.call(a)
        }
    }(), gd = function () {
        return String.prototype.trim ? function (a) {
            return u(a) ? a.trim() : a
        } : function (a) {
            return u(a) ? a.replace(/^\s\s*/, "").replace(/\s\s*$/, "") : a
        }
    }();
    Wc = 9 > Sc ? function (a) {
        return a = a.nodeName ? a : a[0], a.scopeName && "HTML" != a.scopeName ? $c(a.scopeName + ":" + a.nodeName) : a.nodeName
    } : function (a) {
        return a.nodeName ? a.nodeName : a[0].nodeName
    };
    var hd = function () {
        if (s(hd.isActive_))return hd.isActive_;
        var a = !(!b.querySelector("[ng-csp]") && !b.querySelector("[data-ng-csp]"));
        if (!a)try {
            new Function("")
        } catch (c) {
            a = !0
        }
        return hd.isActive_ = a
    }, id = /[A-Z]/g, jd = {full: "1.2.27", major: 1, minor: 2, dot: 27, codeName: "prime-factorization"};
    cb.expando = "ng339";
    var kd = cb.cache = {}, ld = 1, md = a.document.addEventListener ? function (a, b, c) {
        a.addEventListener(b, c, !1)
    } : function (a, b, c) {
        a.attachEvent("on" + b, c)
    }, nd = a.document.removeEventListener ? function (a, b, c) {
        a.removeEventListener(b, c, !1)
    } : function (a, b, c) {
        a.detachEvent("on" + b, c)
    };
    cb._data = function (a) {
        return this.cache[a[this.expando]] || {}
    };
    var od = /([\:\-\_]+(.))/g, pd = /^moz([A-Z])/, qd = d("jqLite"), rd = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, sd = /<|&#?\w+;/, td = /<([\w:]+)/, ud = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, vd = {
        option: [1, '<select multiple="multiple">', "</select>"],
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    };
    vd.optgroup = vd.option, vd.tbody = vd.tfoot = vd.colgroup = vd.caption = vd.thead, vd.th = vd.td;
    var wd = cb.prototype = {
        ready: function (c) {
            function d() {
                e || (e = !0, c())
            }

            var e = !1;
            "complete" === b.readyState ? setTimeout(d) : (this.on("DOMContentLoaded", d), cb(a).on("load", d))
        }, toString: function () {
            var a = [];
            return f(this, function (b) {
                a.push("" + b)
            }), "[" + a.join(", ") + "]"
        }, eq: function (a) {
            return Tc(a >= 0 ? this[a] : this[this.length + a])
        }, length: 0, push: ad, sort: [].sort, splice: [].splice
    }, xd = {};
    f("multiple selected checked disabled readOnly required open".split(" "), function (a) {
        xd[Yc(a)] = a
    });
    var yd = {};
    f("input select option textarea button form details".split(" "), function (a) {
        yd[$c(a)] = !0
    }), f({data: ib, removeData: gb}, function (a, b) {
        cb[b] = a
    }), f({
        data: ib, inheritedData: ob, scope: function (a) {
            return Tc.data(a, "$scope") || ob(a.parentNode || a, ["$isolateScope", "$scope"])
        }, isolateScope: function (a) {
            return Tc.data(a, "$isolateScope") || Tc.data(a, "$isolateScopeNoTemplate")
        }, controller: nb, injector: function (a) {
            return ob(a, "$injector")
        }, removeAttr: function (a, b) {
            a.removeAttribute(b)
        }, hasClass: jb, css: function (a, b, d) {
            if (b = ab(b), !s(d)) {
                var e;
                return 8 >= Sc && (e = a.currentStyle && a.currentStyle[b], "" === e && (e = "auto")), e = e || a.style[b], 8 >= Sc && (e = "" === e ? c : e), e
            }
            a.style[b] = d
        }, attr: function (a, b, d) {
            var e = Yc(b);
            if (xd[e]) {
                if (!s(d))return a[b] || (a.attributes.getNamedItem(b) || o).specified ? e : c;
                d ? (a[b] = !0, a.setAttribute(b, e)) : (a[b] = !1, a.removeAttribute(e))
            } else if (s(d))a.setAttribute(b, d); else if (a.getAttribute)return a = a.getAttribute(b, 2), null === a ? c : a
        }, prop: function (a, b, c) {
            return s(c) ? void(a[b] = c) : a[b]
        }, text: function () {
            function a(a, c) {
                var d = b[a.nodeType];
                return r(c) ? d ? a[d] : "" : void(a[d] = c)
            }

            var b = [];
            return 9 > Sc ? (b[1] = "innerText", b[3] = "nodeValue") : b[1] = b[3] = "textContent", a.$dv = "", a
        }(), val: function (a, b) {
            if (r(b)) {
                if ("SELECT" === Wc(a) && a.multiple) {
                    var c = [];
                    return f(a.options, function (a) {
                        a.selected && c.push(a.value || a.text)
                    }), 0 === c.length ? null : c
                }
                return a.value
            }
            a.value = b
        }, html: function (a, b) {
            if (r(b))return a.innerHTML;
            for (var c = 0, d = a.childNodes; c < d.length; c++)eb(d[c]);
            a.innerHTML = b
        }, empty: pb
    }, function (a, b) {
        cb.prototype[b] = function (b, d) {
            var e, f, g = this.length;
            if (a !== pb && (2 == a.length && a !== jb && a !== nb ? b : d) === c) {
                if (t(b)) {
                    for (e = 0; g > e; e++)if (a === ib)a(this[e], b); else for (f in b)a(this[e], f, b[f]);
                    return this
                }
                for (e = a.$dv, g = e === c ? Math.min(g, 1) : g, f = 0; g > f; f++) {
                    var h = a(this[f], b, d);
                    e = e ? e + h : h
                }
                return e
            }
            for (e = 0; g > e; e++)a(this[e], b, d);
            return this
        }
    }), f({
        removeData: gb, dealoc: eb, on: function ff(a, c, d, e) {
            if (s(e))throw qd("onargs");
            var g = hb(a, "events"), h = hb(a, "handle");
            g || hb(a, "events", g = {}), h || hb(a, "handle", h = rb(a, g)), f(c.split(" "), function (c) {
                var e = g[c];
                if (!e) {
                    if ("mouseenter" == c || "mouseleave" == c) {
                        var f = b.body.contains || b.body.compareDocumentPosition ? function (a, b) {
                            var c = 9 === a.nodeType ? a.documentElement : a, d = b && b.parentNode;
                            return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
                        } : function (a, b) {
                            if (b)for (; b = b.parentNode;)if (b === a)return !0;
                            return !1
                        };
                        g[c] = [], ff(a, {mouseleave: "mouseout", mouseenter: "mouseover"}[c], function (a) {
                            var b = a.relatedTarget;
                            b && (b === this || f(this, b)) || h(a, c)
                        })
                    } else md(a, c, h), g[c] = [];
                    e = g[c]
                }
                e.push(d)
            })
        }, off: fb, one: function (a, b, c) {
            a = Tc(a), a.on(b, function d() {
                a.off(b, c), a.off(b, d)
            }), a.on(b, c)
        }, replaceWith: function (a, b) {
            var c, d = a.parentNode;
            eb(a), f(new cb(b), function (b) {
                c ? d.insertBefore(b, c.nextSibling) : d.replaceChild(b, a), c = b
            })
        }, children: function (a) {
            var b = [];
            return f(a.childNodes, function (a) {
                1 === a.nodeType && b.push(a)
            }), b
        }, contents: function (a) {
            return a.contentDocument || a.childNodes || []
        }, append: function (a, b) {
            f(new cb(b), function (b) {
                1 !== a.nodeType && 11 !== a.nodeType || a.appendChild(b)
            })
        }, prepend: function (a, b) {
            if (1 === a.nodeType) {
                var c = a.firstChild;
                f(new cb(b), function (b) {
                    a.insertBefore(b, c)
                })
            }
        }, wrap: function (a, b) {
            b = Tc(b)[0];
            var c = a.parentNode;
            c && c.replaceChild(b, a), b.appendChild(a)
        }, remove: function (a) {
            eb(a);
            var b = a.parentNode;
            b && b.removeChild(a)
        }, after: function (a, b) {
            var c = a, d = a.parentNode;
            f(new cb(b), function (a) {
                d.insertBefore(a, c.nextSibling), c = a
            })
        }, addClass: lb, removeClass: kb, toggleClass: function (a, b, c) {
            b && f(b.split(" "), function (b) {
                var d = c;
                r(d) && (d = !jb(a, b)), (d ? lb : kb)(a, b)
            })
        }, parent: function (a) {
            return (a = a.parentNode) && 11 !== a.nodeType ? a : null
        }, next: function (a) {
            if (a.nextElementSibling)return a.nextElementSibling;
            for (a = a.nextSibling; null != a && 1 !== a.nodeType;)a = a.nextSibling;
            return a
        }, find: function (a, b) {
            return a.getElementsByTagName ? a.getElementsByTagName(b) : []
        }, clone: db, triggerHandler: function (a, b, c) {
            var d, e;
            d = b.type || b;
            var g = (hb(a, "events") || {})[d];
            g && (d = {
                preventDefault: function () {
                    this.defaultPrevented = !0
                }, isDefaultPrevented: function () {
                    return !0 === this.defaultPrevented
                }, stopPropagation: o, type: d, target: a
            }, b.type && (d = l(d, b)), b = F(g), e = c ? [d].concat(c) : [d], f(b, function (b) {
                b.apply(a, e)
            }))
        }
    }, function (a, b) {
        cb.prototype[b] = function (b, c, d) {
            for (var e, f = 0; f < this.length; f++)r(e) ? (e = a(this[f], b, c, d), s(e) && (e = Tc(e))) : mb(e, a(this[f], b, c, d));
            return s(e) ? e : this
        }, cb.prototype.bind = cb.prototype.on, cb.prototype.unbind = cb.prototype.off
    }), tb.prototype = {
        put: function (a, b) {
            this[sb(a, this.nextUid)] = b
        }, get: function (a) {
            return this[sb(a, this.nextUid)]
        }, remove: function (a) {
            var b = this[a = sb(a, this.nextUid)];
            return delete this[a], b
        }
    };
    var zd = /^function\s*[^\(]*\(\s*([^\)]*)\)/m, Ad = /,/, Bd = /^\s*(_?)(\S+?)\1\s*$/, Cd = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm, Dd = d("$injector"), Ed = d("$animate"), Fd = ["$provide", function (a) {
        this.$$selectors = {}, this.register = function (b, c) {
            var d = b + "-animation";
            if (b && "." != b.charAt(0))throw Ed("notcsel", b);
            this.$$selectors[b.substr(1)] = d, a.factory(d, c)
        }, this.classNameFilter = function (a) {
            return 1 === arguments.length && (this.$$classNameFilter = a instanceof RegExp ? a : null), this.$$classNameFilter
        }, this.$get = ["$timeout", "$$asyncCallback", function (a, b) {
            return {
                enter: function (a, c, d, e) {
                    d ? d.after(a) : (c && c[0] || (c = d.parent()), c.append(a)), e && b(e)
                }, leave: function (a, c) {
                    a.remove(), c && b(c)
                }, move: function (a, b, c, d) {
                    this.enter(a, b, c, d)
                }, addClass: function (a, c, d) {
                    c = u(c) ? c : fd(c) ? c.join(" ") : "", f(a, function (a) {
                        lb(a, c)
                    }), d && b(d)
                }, removeClass: function (a, c, d) {
                    c = u(c) ? c : fd(c) ? c.join(" ") : "", f(a, function (a) {
                        kb(a, c)
                    }), d && b(d)
                }, setClass: function (a, c, d, e) {
                    f(a, function (a) {
                        lb(a, c), kb(a, d)
                    }), e && b(e)
                }, enabled: o
            }
        }]
    }], Gd = d("$compile");
    Cb.$inject = ["$provide", "$$sanitizeUriProvider"];
    var Hd = /^(x[\:\-_]|data[\:\-_])/i, Id = d("$interpolate"), Jd = /^([^\?#]*)(\?([^#]*))?(#(.*))?$/, Kd = {
        http: 80,
        https: 443,
        ftp: 21
    }, Ld = d("$location");
    $b.prototype = Zb.prototype = Yb.prototype = {
        $$html5: !1,
        $$replace: !1,
        absUrl: _b("$$absUrl"),
        url: function (a) {
            return r(a) ? this.$$url : (a = Jd.exec(a), a[1] && this.path(decodeURIComponent(a[1])), (a[2] || a[1]) && this.search(a[3] || ""), this.hash(a[5] || ""), this)
        },
        protocol: _b("$$protocol"),
        host: _b("$$host"),
        port: _b("$$port"),
        path: ac("$$path", function (a) {
            return a = null !== a ? a.toString() : "", "/" == a.charAt(0) ? a : "/" + a
        }),
        search: function (a, b) {
            switch (arguments.length) {
                case 0:
                    return this.$$search;
                case 1:
                    if (u(a) || v(a))a = a.toString(), this.$$search = O(a); else {
                        if (!t(a))throw Ld("isrcharg");
                        f(a, function (b, c) {
                            null == b && delete a[c]
                        }), this.$$search = a
                    }
                    break;
                default:
                    r(b) || null === b ? delete this.$$search[a] : this.$$search[a] = b
            }
            return this.$$compose(), this
        },
        hash: ac("$$hash", function (a) {
            return null !== a ? a.toString() : ""
        }),
        replace: function () {
            return this.$$replace = !0, this
        }
    };
    var Md, Nd = d("$parse"), Od = {}, Pd = Function.prototype.call, Qd = Function.prototype.apply, Rd = Function.prototype.bind, Sd = {
        "null": function () {
            return null
        }, "true": function () {
            return !0
        }, "false": function () {
            return !1
        }, undefined: o, "+": function (a, b, d, e) {
            return d = d(a, b), e = e(a, b), s(d) ? s(e) ? d + e : d : s(e) ? e : c
        }, "-": function (a, b, c, d) {
            return c = c(a, b), d = d(a, b), (s(c) ? c : 0) - (s(d) ? d : 0)
        }, "*": function (a, b, c, d) {
            return c(a, b) * d(a, b)
        }, "/": function (a, b, c, d) {
            return c(a, b) / d(a, b)
        }, "%": function (a, b, c, d) {
            return c(a, b) % d(a, b)
        }, "^": function (a, b, c, d) {
            return c(a, b) ^ d(a, b)
        }, "=": o, "===": function (a, b, c, d) {
            return c(a, b) === d(a, b)
        }, "!==": function (a, b, c, d) {
            return c(a, b) !== d(a, b)
        }, "==": function (a, b, c, d) {
            return c(a, b) == d(a, b)
        }, "!=": function (a, b, c, d) {
            return c(a, b) != d(a, b)
        }, "<": function (a, b, c, d) {
            return c(a, b) < d(a, b)
        }, ">": function (a, b, c, d) {
            return c(a, b) > d(a, b)
        }, "<=": function (a, b, c, d) {
            return c(a, b) <= d(a, b)
        }, ">=": function (a, b, c, d) {
            return c(a, b) >= d(a, b)
        }, "&&": function (a, b, c, d) {
            return c(a, b) && d(a, b)
        }, "||": function (a, b, c, d) {
            return c(a, b) || d(a, b)
        }, "&": function (a, b, c, d) {
            return c(a, b) & d(a, b)
        }, "|": function (a, b, c, d) {
            return d(a, b)(a, b, c(a, b))
        }, "!": function (a, b, c) {
            return !c(a, b)
        }
    }, Td = {n: "\n", f: "\f", r: "\r", t: "	", v: "", "'": "'", '"': '"'}, Ud = function (a) {
        this.options = a
    };
    Ud.prototype = {
        constructor: Ud, lex: function (a) {
            for (this.text = a, this.index = 0, this.ch = c, this.lastCh = ":", this.tokens = []; this.index < this.text.length;) {
                if (this.ch = this.text.charAt(this.index), this.is("\"'"))this.readString(this.ch); else if (this.isNumber(this.ch) || this.is(".") && this.isNumber(this.peek()))this.readNumber(); else if (this.isIdent(this.ch))this.readIdent(); else if (this.is("(){}[].,;:?"))this.tokens.push({
                    index: this.index,
                    text: this.ch
                }), this.index++; else {
                    if (this.isWhitespace(this.ch)) {
                        this.index++;
                        continue
                    }
                    a = this.ch + this.peek();
                    var b = a + this.peek(2), d = Sd[this.ch], e = Sd[a], f = Sd[b];
                    f ? (this.tokens.push({
                        index: this.index,
                        text: b,
                        fn: f
                    }), this.index += 3) : e ? (this.tokens.push({
                        index: this.index,
                        text: a,
                        fn: e
                    }), this.index += 2) : d ? (this.tokens.push({
                        index: this.index,
                        text: this.ch,
                        fn: d
                    }), this.index += 1) : this.throwError("Unexpected next character ", this.index, this.index + 1)
                }
                this.lastCh = this.ch
            }
            return this.tokens
        }, is: function (a) {
            return -1 !== a.indexOf(this.ch)
        }, was: function (a) {
            return -1 !== a.indexOf(this.lastCh)
        }, peek: function (a) {
            return a = a || 1, this.index + a < this.text.length ? this.text.charAt(this.index + a) : !1
        }, isNumber: function (a) {
            return a >= "0" && "9" >= a
        }, isWhitespace: function (a) {
            return " " === a || "\r" === a || "	" === a || "\n" === a || "" === a || " " === a
        }, isIdent: function (a) {
            return a >= "a" && "z" >= a || a >= "A" && "Z" >= a || "_" === a || "$" === a
        }, isExpOperator: function (a) {
            return "-" === a || "+" === a || this.isNumber(a)
        }, throwError: function (a, b, c) {
            throw c = c || this.index, b = s(b) ? "s " + b + "-" + this.index + " [" + this.text.substring(b, c) + "]" : " " + c, Nd("lexerr", a, b, this.text)
        }, readNumber: function () {
            for (var a = "", b = this.index; this.index < this.text.length;) {
                var c = Yc(this.text.charAt(this.index));
                if ("." == c || this.isNumber(c))a += c; else {
                    var d = this.peek();
                    if ("e" == c && this.isExpOperator(d))a += c; else if (this.isExpOperator(c) && d && this.isNumber(d) && "e" == a.charAt(a.length - 1))a += c; else {
                        if (!this.isExpOperator(c) || d && this.isNumber(d) || "e" != a.charAt(a.length - 1))break;
                        this.throwError("Invalid exponent")
                    }
                }
                this.index++
            }
            a *= 1, this.tokens.push({
                index: b, text: a, literal: !0, constant: !0, fn: function () {
                    return a
                }
            })
        }, readIdent: function () {
            for (var a, b, c, d, e = this, f = "", g = this.index; this.index < this.text.length && (d = this.text.charAt(this.index), "." === d || this.isIdent(d) || this.isNumber(d));)"." === d && (a = this.index), f += d, this.index++;
            if (a)for (b = this.index; b < this.text.length;) {
                if (d = this.text.charAt(b), "(" === d) {
                    c = f.substr(a - g + 1), f = f.substr(0, a - g), this.index = b;
                    break
                }
                if (!this.isWhitespace(d))break;
                b++
            }
            if (g = {index: g, text: f}, Sd.hasOwnProperty(f))g.fn = Sd[f], g.literal = !0, g.constant = !0; else {
                var h = jc(f, this.options, this.text);
                g.fn = l(function (a, b) {
                    return h(a, b)
                }, {
                    assign: function (a, b) {
                        return fc(a, f, b, e.text, e.options)
                    }
                })
            }
            this.tokens.push(g), c && (this.tokens.push({index: a, text: "."}), this.tokens.push({
                index: a + 1,
                text: c
            }))
        }, readString: function (a) {
            var b = this.index;
            this.index++;
            for (var c = "", d = a, e = !1; this.index < this.text.length;) {
                var f = this.text.charAt(this.index), d = d + f;
                if (e)"u" === f ? (e = this.text.substring(this.index + 1, this.index + 5), e.match(/[\da-f]{4}/i) || this.throwError("Invalid unicode escape [\\u" + e + "]"), this.index += 4, c += String.fromCharCode(parseInt(e, 16))) : c += Td[f] || f, e = !1; else if ("\\" === f)e = !0; else {
                    if (f === a)return this.index++, void this.tokens.push({
                        index: b,
                        text: d,
                        string: c,
                        literal: !0,
                        constant: !0,
                        fn: function () {
                            return c
                        }
                    });
                    c += f
                }
                this.index++
            }
            this.throwError("Unterminated quote", b)
        }
    };
    var Vd = function (a, b, c) {
        this.lexer = a, this.$filter = b, this.options = c
    };
    Vd.ZERO = l(function () {
        return 0
    }, {constant: !0}), Vd.prototype = {
        constructor: Vd, parse: function (a) {
            return this.text = a, this.tokens = this.lexer.lex(a), a = this.statements(), 0 !== this.tokens.length && this.throwError("is an unexpected token", this.tokens[0]), a.literal = !!a.literal, a.constant = !!a.constant, a
        }, primary: function () {
            var a;
            if (this.expect("("))a = this.filterChain(), this.consume(")"); else if (this.expect("["))a = this.arrayDeclaration(); else if (this.expect("{"))a = this.object(); else {
                var b = this.expect();
                (a = b.fn) || this.throwError("not a primary expression", b), a.literal = !!b.literal, a.constant = !!b.constant
            }
            for (var c; b = this.expect("(", "[", ".");)"(" === b.text ? (a = this.functionCall(a, c), c = null) : "[" === b.text ? (c = a, a = this.objectIndex(a)) : "." === b.text ? (c = a, a = this.fieldAccess(a)) : this.throwError("IMPOSSIBLE");
            return a
        }, throwError: function (a, b) {
            throw Nd("syntax", b.text, a, b.index + 1, this.text, this.text.substring(b.index))
        }, peekToken: function () {
            if (0 === this.tokens.length)throw Nd("ueoe", this.text);
            return this.tokens[0]
        }, peek: function (a, b, c, d) {
            if (0 < this.tokens.length) {
                var e = this.tokens[0], f = e.text;
                if (f === a || f === b || f === c || f === d || !(a || b || c || d))return e
            }
            return !1
        }, expect: function (a, b, c, d) {
            return (a = this.peek(a, b, c, d)) ? (this.tokens.shift(), a) : !1
        }, consume: function (a) {
            this.expect(a) || this.throwError("is unexpected, expecting [" + a + "]", this.peek())
        }, unaryFn: function (a, b) {
            return l(function (c, d) {
                return a(c, d, b)
            }, {constant: b.constant})
        }, ternaryFn: function (a, b, c) {
            return l(function (d, e) {
                return a(d, e) ? b(d, e) : c(d, e)
            }, {constant: a.constant && b.constant && c.constant})
        }, binaryFn: function (a, b, c) {
            return l(function (d, e) {
                return b(d, e, a, c)
            }, {constant: a.constant && c.constant})
        }, statements: function () {
            for (var a = []; ;)if (0 < this.tokens.length && !this.peek("}", ")", ";", "]") && a.push(this.filterChain()), !this.expect(";"))return 1 === a.length ? a[0] : function (b, c) {
                for (var d, e = 0; e < a.length; e++) {
                    var f = a[e];
                    f && (d = f(b, c))
                }
                return d
            }
        }, filterChain: function () {
            for (var a, b = this.expression(); ;) {
                if (!(a = this.expect("|")))return b;
                b = this.binaryFn(b, a.fn, this.filter())
            }
        }, filter: function () {
            for (var a = this.expect(), b = this.$filter(a.text), c = []; ;) {
                if (!(a = this.expect(":"))) {
                    var d = function (a, d, e) {
                        e = [e];
                        for (var f = 0; f < c.length; f++)e.push(c[f](a, d));
                        return b.apply(a, e)
                    };
                    return function () {
                        return d
                    }
                }
                c.push(this.expression())
            }
        }, expression: function () {
            return this.assignment()
        }, assignment: function () {
            var a, b, c = this.ternary();
            return (b = this.expect("=")) ? (c.assign || this.throwError("implies assignment but [" + this.text.substring(0, b.index) + "] can not be assigned to", b), a = this.ternary(), function (b, d) {
                return c.assign(b, a(b, d), d)
            }) : c
        }, ternary: function () {
            var a, b, c = this.logicalOR();
            return this.expect("?") ? (a = this.assignment(), (b = this.expect(":")) ? this.ternaryFn(c, a, this.assignment()) : void this.throwError("expected :", b)) : c
        }, logicalOR: function () {
            for (var a, b = this.logicalAND(); ;) {
                if (!(a = this.expect("||")))return b;
                b = this.binaryFn(b, a.fn, this.logicalAND())
            }
        }, logicalAND: function () {
            var a, b = this.equality();
            return (a = this.expect("&&")) && (b = this.binaryFn(b, a.fn, this.logicalAND())), b
        }, equality: function () {
            var a, b = this.relational();
            return (a = this.expect("==", "!=", "===", "!==")) && (b = this.binaryFn(b, a.fn, this.equality())), b
        }, relational: function () {
            var a, b = this.additive();
            return (a = this.expect("<", ">", "<=", ">=")) && (b = this.binaryFn(b, a.fn, this.relational())), b
        }, additive: function () {
            for (var a, b = this.multiplicative(); a = this.expect("+", "-");)b = this.binaryFn(b, a.fn, this.multiplicative());
            return b
        }, multiplicative: function () {
            for (var a, b = this.unary(); a = this.expect("*", "/", "%");)b = this.binaryFn(b, a.fn, this.unary());
            return b
        }, unary: function () {
            var a;
            return this.expect("+") ? this.primary() : (a = this.expect("-")) ? this.binaryFn(Vd.ZERO, a.fn, this.unary()) : (a = this.expect("!")) ? this.unaryFn(a.fn, this.unary()) : this.primary()
        }, fieldAccess: function (a) {
            var b = this, c = this.expect().text, d = jc(c, this.options, this.text);
            return l(function (b, c, e) {
                return d(e || a(b, c))
            }, {
                assign: function (d, e, f) {
                    return (f = a(d, f)) || a.assign(d, f = {}), fc(f, c, e, b.text, b.options)
                }
            })
        }, objectIndex: function (a) {
            var b = this, d = this.expression();
            return this.consume("]"), l(function (e, f) {
                var g, h = a(e, f), i = d(e, f);
                return dc(i, b.text), h ? ((h = ec(h[i], b.text)) && h.then && b.options.unwrapPromises && (g = h, "$$v" in h || (g.$$v = c, g.then(function (a) {
                    g.$$v = a
                })), h = h.$$v), h) : c
            }, {
                assign: function (c, e, f) {
                    var g = dc(d(c, f), b.text);
                    return (f = ec(a(c, f), b.text)) || a.assign(c, f = {}), f[g] = e
                }
            })
        }, functionCall: function (a, b) {
            var c = [];
            if (")" !== this.peekToken().text)do c.push(this.expression()); while (this.expect(","));
            this.consume(")");
            var d = this;
            return function (e, f) {
                for (var g = [], h = b ? b(e, f) : e, i = 0; i < c.length; i++)g.push(ec(c[i](e, f), d.text));
                i = a(e, f, h) || o, ec(h, d.text);
                var j = d.text;
                if (i) {
                    if (i.constructor === i)throw Nd("isecfn", j);
                    if (i === Pd || i === Qd || Rd && i === Rd)throw Nd("isecff", j)
                }
                return g = i.apply ? i.apply(h, g) : i(g[0], g[1], g[2], g[3], g[4]), ec(g, d.text)
            }
        }, arrayDeclaration: function () {
            var a = [], b = !0;
            if ("]" !== this.peekToken().text)do {
                if (this.peek("]"))break;
                var c = this.expression();
                a.push(c), c.constant || (b = !1)
            } while (this.expect(","));
            return this.consume("]"), l(function (b, c) {
                for (var d = [], e = 0; e < a.length; e++)d.push(a[e](b, c));
                return d
            }, {literal: !0, constant: b})
        }, object: function () {
            var a = [], b = !0;
            if ("}" !== this.peekToken().text)do {
                if (this.peek("}"))break;
                var c = this.expect(), c = c.string || c.text;
                this.consume(":");
                var d = this.expression();
                a.push({key: c, value: d}), d.constant || (b = !1)
            } while (this.expect(","));
            return this.consume("}"), l(function (b, c) {
                for (var d = {}, e = 0; e < a.length; e++) {
                    var f = a[e];
                    d[f.key] = f.value(b, c)
                }
                return d
            }, {literal: !0, constant: b})
        }
    };
    var Wd = {}, Xd = {}, Yd = d("$sce"), Zd = {
        HTML: "html",
        CSS: "css",
        URL: "url",
        RESOURCE_URL: "resourceUrl",
        JS: "js"
    }, $d = b.createElement("a"), _d = wc(a.location.href, !0);
    zc.$inject = ["$provide"], Bc.$inject = ["$locale"], Cc.$inject = ["$locale"];
    var ae = ".", be = {
        yyyy: Fc("FullYear", 4),
        yy: Fc("FullYear", 2, 0, !0),
        y: Fc("FullYear", 1),
        MMMM: Gc("Month"),
        MMM: Gc("Month", !0),
        MM: Fc("Month", 2, 1),
        M: Fc("Month", 1, 1),
        dd: Fc("Date", 2),
        d: Fc("Date", 1),
        HH: Fc("Hours", 2),
        H: Fc("Hours", 1),
        hh: Fc("Hours", 2, -12),
        h: Fc("Hours", 1, -12),
        mm: Fc("Minutes", 2),
        m: Fc("Minutes", 1),
        ss: Fc("Seconds", 2),
        s: Fc("Seconds", 1),
        sss: Fc("Milliseconds", 3),
        EEEE: Gc("Day"),
        EEE: Gc("Day", !0),
        a: function (a, b) {
            return 12 > a.getHours() ? b.AMPMS[0] : b.AMPMS[1]
        },
        Z: function (a) {
            return a = -1 * a.getTimezoneOffset(), a = (a >= 0 ? "+" : "") + (Ec(Math[a > 0 ? "floor" : "ceil"](a / 60), 2) + Ec(Math.abs(a % 60), 2))
        }
    }, ce = /((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/, de = /^\-?\d+$/;
    Hc.$inject = ["$locale"];
    var ee = q(Yc), fe = q($c);
    Kc.$inject = ["$parse"];
    var ge = q({
        restrict: "E", compile: function (a, c) {
            return 8 >= Sc && (c.href || c.name || c.$set("href", ""), a.append(b.createComment("IE fix"))), c.href || c.xlinkHref || c.name ? void 0 : function (a, b) {
                var c = "[object SVGAnimatedString]" === bd.call(b.prop("href")) ? "xlink:href" : "href";
                b.on("click", function (a) {
                    b.attr(c) || a.preventDefault()
                })
            }
        }
    }), he = {};
    f(xd, function (a, b) {
        if ("multiple" != a) {
            var c = Db("ng-" + b);
            he[c] = function () {
                return {
                    priority: 100, link: function (a, d, e) {
                        a.$watch(e[c], function (a) {
                            e.$set(b, !!a)
                        })
                    }
                }
            }
        }
    }), f(["src", "srcset", "href"], function (a) {
        var b = Db("ng-" + a);
        he[b] = function () {
            return {
                priority: 99, link: function (c, d, e) {
                    var f = a, g = a;
                    "href" === a && "[object SVGAnimatedString]" === bd.call(d.prop("href")) && (g = "xlinkHref", e.$attr[g] = "xlink:href", f = null), e.$observe(b, function (b) {
                        b ? (e.$set(g, b), Sc && f && d.prop(f, e[g])) : "href" === a && e.$set(g, null)
                    })
                }
            }
        }
    });
    var ie = {$addControl: o, $removeControl: o, $setValidity: o, $setDirty: o, $setPristine: o};
    Mc.$inject = ["$element", "$attrs", "$scope", "$animate"];
    var je = function (a) {
        return ["$timeout", function (b) {
            return {
                name: "form", restrict: a ? "EAC" : "E", controller: Mc, compile: function () {
                    return {
                        pre: function (a, d, e, f) {
                            if (!e.action) {
                                var g = function (a) {
                                    a.preventDefault ? a.preventDefault() : a.returnValue = !1
                                };
                                md(d[0], "submit", g), d.on("$destroy", function () {
                                    b(function () {
                                        nd(d[0], "submit", g)
                                    }, 0, !1)
                                })
                            }
                            var h = d.parent().controller("form"), i = e.name || e.ngForm;
                            i && fc(a, i, f, i), h && d.on("$destroy", function () {
                                h.$removeControl(f), i && fc(a, i, c, i), l(f, ie)
                            })
                        }
                    }
                }
            }
        }]
    }, ke = je(), le = je(!0), me = /^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/, ne = /^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i, oe = /^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/, pe = {
        text: Qc,
        number: function (a, b, d, e, f, g) {
            Qc(a, b, d, e, f, g), e.$parsers.push(function (a) {
                var b = e.$isEmpty(a);
                return b || oe.test(a) ? (e.$setValidity("number", !0), "" === a ? null : b ? a : parseFloat(a)) : (e.$setValidity("number", !1), c)
            }), Pc(e, "number", qe, null, e.$$validityState), e.$formatters.push(function (a) {
                return e.$isEmpty(a) ? "" : "" + a
            }), d.min && (a = function (a) {
                var b = parseFloat(d.min);
                return Nc(e, "min", e.$isEmpty(a) || a >= b, a)
            }, e.$parsers.push(a), e.$formatters.push(a)), d.max && (a = function (a) {
                var b = parseFloat(d.max);
                return Nc(e, "max", e.$isEmpty(a) || b >= a, a)
            }, e.$parsers.push(a), e.$formatters.push(a)), e.$formatters.push(function (a) {
                return Nc(e, "number", e.$isEmpty(a) || v(a), a)
            })
        },
        url: function (a, b, c, d, e, f) {
            Qc(a, b, c, d, e, f), a = function (a) {
                return Nc(d, "url", d.$isEmpty(a) || me.test(a), a)
            }, d.$formatters.push(a), d.$parsers.push(a)
        },
        email: function (a, b, c, d, e, f) {
            Qc(a, b, c, d, e, f), a = function (a) {
                return Nc(d, "email", d.$isEmpty(a) || ne.test(a), a)
            }, d.$formatters.push(a), d.$parsers.push(a)
        },
        radio: function (a, b, c, d) {
            r(c.name) && b.attr("name", j()), b.on("click", function () {
                b[0].checked && a.$apply(function () {
                    d.$setViewValue(c.value)
                })
            }), d.$render = function () {
                b[0].checked = c.value == d.$viewValue
            }, c.$observe("value", d.$render)
        },
        checkbox: function (a, b, c, d) {
            var e = c.ngTrueValue, f = c.ngFalseValue;
            u(e) || (e = !0), u(f) || (f = !1), b.on("click", function () {
                a.$apply(function () {
                    d.$setViewValue(b[0].checked)
                })
            }), d.$render = function () {
                b[0].checked = d.$viewValue
            }, d.$isEmpty = function (a) {
                return a !== e
            }, d.$formatters.push(function (a) {
                return a === e
            }), d.$parsers.push(function (a) {
                return a ? e : f
            })
        },
        hidden: o,
        button: o,
        submit: o,
        reset: o,
        file: o
    }, qe = ["badInput"], re = ["$browser", "$sniffer", function (a, b) {
        return {
            restrict: "E", require: "?ngModel", link: function (c, d, e, f) {
                f && (pe[Yc(e.type)] || pe.text)(c, d, e, f, b, a)
            }
        }
    }], se = "ng-valid", te = "ng-invalid", ue = "ng-pristine", ve = "ng-dirty", we = ["$scope", "$exceptionHandler", "$attrs", "$element", "$parse", "$animate", function (a, b, c, e, g, h) {
        function i(a, b) {
            b = b ? "-" + U(b, "-") : "", h.removeClass(e, (a ? te : se) + b), h.addClass(e, (a ? se : te) + b)
        }

        this.$modelValue = this.$viewValue = Number.NaN, this.$parsers = [], this.$formatters = [], this.$viewChangeListeners = [], this.$pristine = !0, this.$dirty = !1, this.$valid = !0, this.$invalid = !1, this.$name = c.name;
        var j = g(c.ngModel), k = j.assign;
        if (!k)throw d("ngModel")("nonassign", c.ngModel, M(e));
        this.$render = o, this.$isEmpty = function (a) {
            return r(a) || "" === a || null === a || a !== a
        };
        var l = e.inheritedData("$formController") || ie, m = 0, n = this.$error = {};
        e.addClass(ue), i(!0), this.$setValidity = function (a, b) {
            n[a] !== !b && (b ? (n[a] && m--, m || (i(!0), this.$valid = !0, this.$invalid = !1)) : (i(!1), this.$invalid = !0, this.$valid = !1, m++), n[a] = !b, i(b, a), l.$setValidity(a, b, this))
        }, this.$setPristine = function () {
            this.$dirty = !1, this.$pristine = !0, h.removeClass(e, ve), h.addClass(e, ue)
        }, this.$setViewValue = function (c) {
            this.$viewValue = c, this.$pristine && (this.$dirty = !0, this.$pristine = !1, h.removeClass(e, ue), h.addClass(e, ve), l.$setDirty()), f(this.$parsers, function (a) {
                c = a(c)
            }), this.$modelValue !== c && (this.$modelValue = c, k(a, c), f(this.$viewChangeListeners, function (a) {
                try {
                    a()
                } catch (c) {
                    b(c)
                }
            }))
        };
        var p = this;
        a.$watch(function () {
            var b = j(a);
            if (p.$modelValue !== b) {
                var c = p.$formatters, d = c.length;
                for (p.$modelValue = b; d--;)b = c[d](b);
                p.$viewValue !== b && (p.$viewValue = b, p.$render())
            }
            return b
        })
    }], xe = function () {
        return {
            require: ["ngModel", "^?form"], controller: we, link: function (a, b, c, d) {
                var e = d[0], f = d[1] || ie;
                f.$addControl(e), a.$on("$destroy", function () {
                    f.$removeControl(e)
                })
            }
        }
    }, ye = q({
        require: "ngModel", link: function (a, b, c, d) {
            d.$viewChangeListeners.push(function () {
                a.$eval(c.ngChange)
            })
        }
    }), ze = function () {
        return {
            require: "?ngModel", link: function (a, b, c, d) {
                if (d) {
                    c.required = !0;
                    var e = function (a) {
                        return c.required && d.$isEmpty(a) ? void d.$setValidity("required", !1) : (d.$setValidity("required", !0), a)
                    };
                    d.$formatters.push(e), d.$parsers.unshift(e), c.$observe("required", function () {
                        e(d.$viewValue)
                    })
                }
            }
        }
    }, Ae = function () {
        return {
            require: "ngModel", link: function (a, b, d, e) {
                var g = (a = /\/(.*)\//.exec(d.ngList)) && RegExp(a[1]) || d.ngList || ",";
                e.$parsers.push(function (a) {
                    if (!r(a)) {
                        var b = [];
                        return a && f(a.split(g), function (a) {
                            a && b.push(gd(a))
                        }), b
                    }
                }), e.$formatters.push(function (a) {
                    return fd(a) ? a.join(", ") : c
                }), e.$isEmpty = function (a) {
                    return !a || !a.length
                }
            }
        }
    }, Be = /^(true|false|\d+)$/, Ce = function () {
        return {
            priority: 100, compile: function (a, b) {
                return Be.test(b.ngValue) ? function (a, b, c) {
                    c.$set("value", a.$eval(c.ngValue))
                } : function (a, b, c) {
                    a.$watch(c.ngValue, function (a) {
                        c.$set("value", a)
                    })
                }
            }
        }
    }, De = Lc({
        compile: function (a) {
            return a.addClass("ng-binding"), function (a, b, d) {
                b.data("$binding", d.ngBind), a.$watch(d.ngBind, function (a) {
                    b.text(a == c ? "" : a)
                })
            }
        }
    }), Ee = ["$interpolate", function (a) {
        return function (b, c, d) {
            b = a(c.attr(d.$attr.ngBindTemplate)), c.addClass("ng-binding").data("$binding", b), d.$observe("ngBindTemplate", function (a) {
                c.text(a)
            })
        }
    }], Fe = ["$sce", "$parse", function (a, b) {
        return {
            compile: function (c) {
                return c.addClass("ng-binding"), function (c, d, e) {
                    d.data("$binding", e.ngBindHtml);
                    var f = b(e.ngBindHtml);
                    c.$watch(function () {
                        return (f(c) || "").toString()
                    }, function () {
                        d.html(a.getTrustedHtml(f(c)) || "")
                    })
                }
            }
        }
    }], Ge = Rc("", !0), He = Rc("Odd", 0), Ie = Rc("Even", 1), Je = Lc({
        compile: function (a, b) {
            b.$set("ngCloak", c), a.removeClass("ng-cloak")
        }
    }), Ke = [function () {
        return {scope: !0, controller: "@", priority: 500}
    }], Le = {}, Me = {blur: !0, focus: !0};
    f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "), function (a) {
        var b = Db("ng-" + a);
        Le[b] = ["$parse", "$rootScope", function (c, d) {
            return {
                compile: function (e, f) {
                    var g = c(f[b], !0);
                    return function (b, c) {
                        c.on(a, function (c) {
                            var e = function () {
                                g(b, {$event: c})
                            };
                            Me[a] && d.$$phase ? b.$evalAsync(e) : b.$apply(e)
                        })
                    }
                }
            }
        }]
    });
    var Ne = ["$animate", function (a) {
        return {
            transclude: "element",
            priority: 600,
            terminal: !0,
            restrict: "A",
            $$tlb: !0,
            link: function (c, d, e, f, g) {
                var h, i, j;
                c.$watch(e.ngIf, function (f) {
                    L(f) ? i || (i = c.$new(), g(i, function (c) {
                        c[c.length++] = b.createComment(" end ngIf: " + e.ngIf + " "), h = {clone: c}, a.enter(c, d.parent(), d)
                    })) : (j && (j.remove(), j = null), i && (i.$destroy(), i = null), h && (j = Z(h.clone), a.leave(j, function () {
                        j = null
                    }), h = null))
                })
            }
        }
    }], Oe = ["$http", "$templateCache", "$anchorScroll", "$animate", "$sce", function (a, b, c, d, e) {
        return {
            restrict: "ECA",
            priority: 400,
            terminal: !0,
            transclude: "element",
            controller: dd.noop,
            compile: function (f, g) {
                var h = g.ngInclude || g.src, i = g.onload || "", j = g.autoscroll;
                return function (f, g, k, l, m) {
                    var n, o, p, q = 0, r = function () {
                        o && (o.remove(), o = null), n && (n.$destroy(), n = null), p && (d.leave(p, function () {
                            o = null
                        }), o = p, p = null)
                    };
                    f.$watch(e.parseAsResourceUrl(h), function (e) {
                        var h = function () {
                            !s(j) || j && !f.$eval(j) || c()
                        }, k = ++q;
                        e ? (a.get(e, {cache: b}).success(function (a) {
                            if (k === q) {
                                var b = f.$new();
                                l.template = a, a = m(b, function (a) {
                                    r(), d.enter(a, null, g, h)
                                }), n = b, p = a, n.$emit("$includeContentLoaded"), f.$eval(i)
                            }
                        }).error(function () {
                            k === q && r()
                        }), f.$emit("$includeContentRequested")) : (r(), l.template = null)
                    })
                }
            }
        }
    }], Pe = ["$compile", function (a) {
        return {
            restrict: "ECA", priority: -400, require: "ngInclude", link: function (b, c, d, e) {
                c.html(e.template), a(c.contents())(b)
            }
        }
    }], Qe = Lc({
        priority: 450, compile: function () {
            return {
                pre: function (a, b, c) {
                    a.$eval(c.ngInit)
                }
            }
        }
    }), Re = Lc({terminal: !0, priority: 1e3}), Se = ["$locale", "$interpolate", function (a, b) {
        var c = /{}/g;
        return {
            restrict: "EA", link: function (d, e, g) {
                var h = g.count, i = g.$attr.when && e.attr(g.$attr.when), j = g.offset || 0, k = d.$eval(i) || {}, l = {}, m = b.startSymbol(), n = b.endSymbol(), o = /^when(Minus)?(.+)$/;
                f(g, function (a, b) {
                    o.test(b) && (k[Yc(b.replace("when", "").replace("Minus", "-"))] = e.attr(g.$attr[b]))
                }), f(k, function (a, d) {
                    l[d] = b(a.replace(c, m + h + "-" + j + n))
                }), d.$watch(function () {
                    var b = parseFloat(d.$eval(h));
                    return isNaN(b) ? "" : (b in k || (b = a.pluralCat(b - j)), l[b](d, e, !0))
                }, function (a) {
                    e.text(a)
                })
            }
        }
    }], Te = ["$parse", "$animate", function (a, c) {
        var g = d("ngRepeat");
        return {
            transclude: "element", priority: 1e3, terminal: !0, $$tlb: !0, link: function (d, h, i, j, k) {
                var l, m, n, o, p, q, r = i.ngRepeat, s = r.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/), t = {$id: sb};
                if (!s)throw g("iexp", r);
                if (i = s[1], j = s[2], (s = s[3]) ? (l = a(s), m = function (a, b, c) {
                        return q && (t[q] = a), t[p] = b, t.$index = c, l(d, t)
                    }) : (n = function (a, b) {
                        return sb(b)
                    }, o = function (a) {
                        return a
                    }), s = i.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/), !s)throw g("iidexp", i);
                p = s[3] || s[1], q = s[2];
                var u = {};
                d.$watchCollection(j, function (a) {
                    var i, j, l, s, t, v, w, x, y, z, A = h[0], B = {}, C = [];
                    if (e(a))y = a, x = m || n; else {
                        x = m || o, y = [];
                        for (v in a)a.hasOwnProperty(v) && "$" != v.charAt(0) && y.push(v);
                        y.sort()
                    }
                    for (s = y.length, j = C.length = y.length, i = 0; j > i; i++)if (v = a === y ? i : y[i], w = a[v], l = x(v, w, i), X(l, "`track by` id"), u.hasOwnProperty(l))z = u[l], delete u[l], B[l] = z, C[i] = z; else {
                        if (B.hasOwnProperty(l))throw f(C, function (a) {
                            a && a.scope && (u[a.id] = a)
                        }), g("dupes", r, l, J(w));
                        C[i] = {id: l}, B[l] = !1
                    }
                    for (v in u)u.hasOwnProperty(v) && (z = u[v], i = Z(z.clone), c.leave(i), f(i, function (a) {
                        a.$$NG_REMOVED = !0
                    }), z.scope.$destroy());
                    for (i = 0, j = y.length; j > i; i++) {
                        if (v = a === y ? i : y[i], w = a[v], z = C[i], C[i - 1] && (A = C[i - 1].clone[C[i - 1].clone.length - 1]), z.scope) {
                            t = z.scope, l = A;
                            do l = l.nextSibling; while (l && l.$$NG_REMOVED);
                            z.clone[0] != l && c.move(Z(z.clone), null, Tc(A)), A = z.clone[z.clone.length - 1]
                        } else t = d.$new();
                        t[p] = w, q && (t[q] = v), t.$index = i, t.$first = 0 === i, t.$last = i === s - 1, t.$middle = !(t.$first || t.$last), t.$odd = !(t.$even = 0 === (1 & i)), z.scope || k(t, function (a) {
                            a[a.length++] = b.createComment(" end ngRepeat: " + r + " "), c.enter(a, null, Tc(A)), A = a, z.scope = t, z.clone = a, B[z.id] = z
                        })
                    }
                    u = B
                })
            }
        }
    }], Ue = ["$animate", function (a) {
        return function (b, c, d) {
            b.$watch(d.ngShow, function (b) {
                a[L(b) ? "removeClass" : "addClass"](c, "ng-hide")
            })
        }
    }], Ve = ["$animate", function (a) {
        return function (b, c, d) {
            b.$watch(d.ngHide, function (b) {
                a[L(b) ? "addClass" : "removeClass"](c, "ng-hide")
            })
        }
    }], We = Lc(function (a, b, c) {
        a.$watch(c.ngStyle, function (a, c) {
            c && a !== c && f(c, function (a, c) {
                b.css(c, "")
            }), a && b.css(a)
        }, !0)
    }), Xe = ["$animate", function (a) {
        return {
            restrict: "EA", require: "ngSwitch", controller: ["$scope", function () {
                this.cases = {}
            }], link: function (b, c, d, e) {
                var g = [], h = [], i = [], j = [];
                b.$watch(d.ngSwitch || d.on, function (c) {
                    var k, l;
                    for (k = 0, l = i.length; l > k; ++k)i[k].remove();
                    for (k = i.length = 0, l = j.length; l > k; ++k) {
                        var m = h[k];
                        j[k].$destroy(), i[k] = m, a.leave(m, function () {
                            i.splice(k, 1)
                        })
                    }
                    h.length = 0, j.length = 0, (g = e.cases["!" + c] || e.cases["?"]) && (b.$eval(d.change), f(g, function (c) {
                        var d = b.$new();
                        j.push(d), c.transclude(d, function (b) {
                            var d = c.element;
                            h.push(b), a.enter(b, d.parent(), d)
                        })
                    }))
                })
            }
        }
    }], Ye = Lc({
        transclude: "element", priority: 800, require: "^ngSwitch", link: function (a, b, c, d, e) {
            d.cases["!" + c.ngSwitchWhen] = d.cases["!" + c.ngSwitchWhen] || [], d.cases["!" + c.ngSwitchWhen].push({
                transclude: e,
                element: b
            })
        }
    }), Ze = Lc({
        transclude: "element", priority: 800, require: "^ngSwitch", link: function (a, b, c, d, e) {
            d.cases["?"] = d.cases["?"] || [], d.cases["?"].push({transclude: e, element: b})
        }
    }), $e = Lc({
        link: function (a, b, c, e, f) {
            if (!f)throw d("ngTransclude")("orphan", M(b));
            f(function (a) {
                b.empty(), b.append(a)
            })
        }
    }), _e = ["$templateCache", function (a) {
        return {
            restrict: "E", terminal: !0, compile: function (b, c) {
                "text/ng-template" == c.type && a.put(c.id, b[0].text)
            }
        }
    }], af = d("ngOptions"), bf = q({terminal: !0}), cf = ["$compile", "$parse", function (a, d) {
        var e = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/, h = {$setViewValue: o};
        return {
            restrict: "E",
            require: ["select", "?ngModel"],
            controller: ["$element", "$scope", "$attrs", function (a, b, c) {
                var d, e = this, f = {}, g = h;
                e.databound = c.ngModel, e.init = function (a, b, c) {
                    g = a, d = c
                }, e.addOption = function (b) {
                    X(b, '"option value"'), f[b] = !0, g.$viewValue == b && (a.val(b), d.parent() && d.remove())
                }, e.removeOption = function (a) {
                    this.hasOption(a) && (delete f[a], g.$viewValue == a && this.renderUnknownOption(a))
                }, e.renderUnknownOption = function (b) {
                    b = "? " + sb(b) + " ?", d.val(b), a.prepend(d), a.val(b), d.prop("selected", !0)
                }, e.hasOption = function (a) {
                    return f.hasOwnProperty(a)
                }, b.$on("$destroy", function () {
                    e.renderUnknownOption = o
                })
            }],
            link: function (h, i, j, k) {
                function l(a, b, c, d) {
                    c.$render = function () {
                        var a = c.$viewValue;
                        d.hasOption(a) ? (x.parent() && x.remove(), b.val(a), "" === a && p.prop("selected", !0)) : r(a) && p ? b.val("") : d.renderUnknownOption(a)
                    }, b.on("change", function () {
                        a.$apply(function () {
                            x.parent() && x.remove(), c.$setViewValue(b.val())
                        })
                    })
                }

                function m(a, b, c) {
                    var d;
                    c.$render = function () {
                        var a = new tb(c.$viewValue);
                        f(b.find("option"), function (b) {
                            b.selected = s(a.get(b.value))
                        })
                    }, a.$watch(function () {
                        G(d, c.$viewValue) || (d = F(c.$viewValue), c.$render())
                    }), b.on("change", function () {
                        a.$apply(function () {
                            var a = [];
                            f(b.find("option"), function (b) {
                                b.selected && a.push(b.value)
                            }), c.$setViewValue(a)
                        })
                    })
                }

                function n(b, f, h) {
                    function i() {
                        var a, c, d, e, i, j = {"": []}, t = [""];
                        d = h.$modelValue, e = r(b) || [];
                        var z, A, B, C = m ? g(e) : e;
                        if (A = {}, B = !1, q)if (c = h.$modelValue, x && fd(c))for (B = new tb([]), a = {}, i = 0; i < c.length; i++)a[l] = c[i], B.put(x(b, a), c[i]); else B = new tb(c);
                        i = B;
                        var D, E;
                        for (B = 0; z = C.length, z > B; B++) {
                            if (c = B, m) {
                                if (c = C[B], "$" === c.charAt(0))continue;
                                A[m] = c
                            }
                            A[l] = e[c], a = n(b, A) || "", (c = j[a]) || (c = j[a] = [], t.push(a)), q ? a = s(i.remove(x ? x(b, A) : p(b, A))) : (x ? (a = {}, a[l] = d, a = x(b, a) === x(b, A)) : a = d === p(b, A), i = i || a), D = k(b, A), D = s(D) ? D : "", c.push({
                                id: x ? x(b, A) : m ? C[B] : B,
                                label: D,
                                selected: a
                            })
                        }
                        for (q || (u || null === d ? j[""].unshift({
                            id: "",
                            label: "",
                            selected: !i
                        }) : i || j[""].unshift({id: "?", label: "", selected: !0})), A = 0, C = t.length; C > A; A++) {
                            for (a = t[A], c = j[a], y.length <= A ? (d = {
                                element: w.clone().attr("label", a),
                                label: c.label
                            }, e = [d], y.push(e), f.append(d.element)) : (e = y[A], d = e[0], d.label != a && d.element.attr("label", d.label = a)), D = null, B = 0, z = c.length; z > B; B++)a = c[B], (i = e[B + 1]) ? (D = i.element, i.label !== a.label && (D.text(i.label = a.label), D.prop("label", i.label)), i.id !== a.id && D.val(i.id = a.id), D[0].selected !== a.selected && (D.prop("selected", i.selected = a.selected), Sc && D.prop("selected", i.selected))) : ("" === a.id && u ? E = u : (E = v.clone()).val(a.id).prop("selected", a.selected).attr("selected", a.selected).prop("label", a.label).text(a.label), e.push({
                                element: E,
                                label: a.label,
                                id: a.id,
                                selected: a.selected
                            }), o.addOption(a.label, E), D ? D.after(E) : d.element.append(E), D = E);
                            for (B++; e.length > B;)a = e.pop(), o.removeOption(a.label), a.element.remove()
                        }
                        for (; y.length > A;)y.pop()[0].element.remove()
                    }

                    var j;
                    if (!(j = t.match(e)))throw af("iexp", t, M(f));
                    var k = d(j[2] || j[1]), l = j[4] || j[6], m = j[5], n = d(j[3] || ""), p = d(j[2] ? j[1] : l), r = d(j[7]), x = j[8] ? d(j[8]) : null, y = [[{
                        element: f,
                        label: ""
                    }]];
                    u && (a(u)(b), u.removeClass("ng-scope"), u.remove()), f.empty(), f.on("change", function () {
                        b.$apply(function () {
                            var a, d, e, g, j, k, n, o, s = r(b) || [], t = {};
                            if (q) {
                                for (e = [], j = 0, n = y.length; n > j; j++)for (a = y[j], g = 1, k = a.length; k > g; g++)if ((d = a[g].element)[0].selected) {
                                    if (d = d.val(), m && (t[m] = d), x)for (o = 0; o < s.length && (t[l] = s[o], x(b, t) != d); o++); else t[l] = s[d];
                                    e.push(p(b, t))
                                }
                            } else if (d = f.val(), "?" == d)e = c; else if ("" === d)e = null; else if (x) {
                                for (o = 0; o < s.length; o++)if (t[l] = s[o], x(b, t) == d) {
                                    e = p(b, t);
                                    break
                                }
                            } else t[l] = s[d], m && (t[m] = d), e = p(b, t);
                            h.$setViewValue(e), i()
                        })
                    }), h.$render = i, b.$watchCollection(r, i), b.$watchCollection(function () {
                        var a = {}, c = r(b);
                        if (c) {
                            for (var d = Array(c.length), e = 0, f = c.length; f > e; e++)a[l] = c[e], d[e] = k(b, a);
                            return d
                        }
                    }, i), q && b.$watchCollection(function () {
                        return h.$modelValue
                    }, i)
                }

                if (k[1]) {
                    var o = k[0];
                    k = k[1];
                    var p, q = j.multiple, t = j.ngOptions, u = !1, v = Tc(b.createElement("option")), w = Tc(b.createElement("optgroup")), x = v.clone();
                    j = 0;
                    for (var y = i.children(), z = y.length; z > j; j++)if ("" === y[j].value) {
                        p = u = y.eq(j);
                        break
                    }
                    o.init(k, u, x), q && (k.$isEmpty = function (a) {
                        return !a || 0 === a.length
                    }), t ? n(h, i, k) : q ? m(h, i, k) : l(h, i, k, o)
                }
            }
        }
    }], df = ["$interpolate", function (a) {
        var b = {addOption: o, removeOption: o};
        return {
            restrict: "E", priority: 100, compile: function (c, d) {
                if (r(d.value)) {
                    var e = a(c.text(), !0);
                    e || d.$set("value", c.text())
                }
                return function (a, c, d) {
                    var f = c.parent(), g = f.data("$selectController") || f.parent().data("$selectController");
                    g && g.databound ? c.prop("selected", !1) : g = b, e ? a.$watch(e, function (a, b) {
                        d.$set("value", a), a !== b && g.removeOption(b), g.addOption(a)
                    }) : g.addOption(d.value), c.on("$destroy", function () {
                        g.removeOption(d.value)
                    })
                }
            }
        }
    }], ef = q({restrict: "E", terminal: !0});
    a.angular.bootstrap ? console.log("WARNING: Tried to load angular more than once.") : ((Uc = a.jQuery) && Uc.fn.on ? (Tc = Uc, l(Uc.fn, {
        scope: wd.scope,
        isolateScope: wd.isolateScope,
        controller: wd.controller,
        injector: wd.injector,
        inheritedData: wd.inheritedData
    }), bb("remove", !0, !0, !1), bb("empty", !1, !1, !1), bb("html", !1, !1, !0)) : Tc = cb, dd.element = Tc, _(dd), Tc(b).ready(function () {
        S(b, T)
    }))
}(window, document), !window.angular.$$csp() && window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'), function (a, b) {
    "use strict";
    function c(a, c, d) {
        return {
            restrict: "ECA", terminal: !0, priority: 400, transclude: "element", link: function (e, f, g, h, i) {
                function j() {
                    n && (n.remove(), n = null), l && (l.$destroy(), l = null), m && (d.leave(m, function () {
                        n = null
                    }), n = m, m = null)
                }

                function k() {
                    var g = a.current && a.current.locals;
                    if (b.isDefined(g && g.$template)) {
                        var g = e.$new(), h = a.current;
                        m = i(g, function (a) {
                            d.enter(a, null, m || f, function () {
                                !b.isDefined(o) || o && !e.$eval(o) || c()
                            }), j()
                        }), l = h.scope = g, l.$emit("$viewContentLoaded"), l.$eval(p)
                    } else j()
                }

                var l, m, n, o = g.autoscroll, p = g.onload || "";
                e.$on("$routeChangeSuccess", k), k()
            }
        }
    }

    function d(a, b, c) {
        return {
            restrict: "ECA", priority: -400, link: function (d, e) {
                var f = c.current, g = f.locals;
                e.html(g.$template);
                var h = a(e.contents());
                f.controller && (g.$scope = d, g = b(f.controller, g), f.controllerAs && (d[f.controllerAs] = g), e.data("$ngControllerController", g), e.children().data("$ngControllerController", g)), h(d)
            }
        }
    }

    a = b.module("ngRoute", ["ng"]).provider("$route", function () {
        function a(a, c) {
            return b.extend(new (b.extend(function () {
            }, {prototype: a})), c)
        }

        function c(a, b) {
            var c = b.caseInsensitiveMatch, d = {originalPath: a, regexp: a}, e = d.keys = [];
            return a = a.replace(/([().])/g, "\\$1").replace(/(\/)?:(\w+)([\?\*])?/g, function (a, b, c, d) {
                return a = "?" === d ? d : null, d = "*" === d ? d : null, e.push({
                    name: c,
                    optional: !!a
                }), b = b || "", "" + (a ? "" : b) + "(?:" + (a ? b : "") + (d && "(.+?)" || "([^/]+)") + (a || "") + ")" + (a || "")
            }).replace(/([\/$\*])/g, "\\$1"), d.regexp = RegExp("^" + a + "$", c ? "i" : ""), d
        }

        var d = {};
        this.when = function (a, e) {
            if (d[a] = b.extend({reloadOnSearch: !0}, e, a && c(a, e)), a) {
                var f = "/" == a[a.length - 1] ? a.substr(0, a.length - 1) : a + "/";
                d[f] = b.extend({redirectTo: a}, c(f, e))
            }
            return this
        }, this.otherwise = function (a) {
            return this.when(null, a), this
        }, this.$get = ["$rootScope", "$location", "$routeParams", "$q", "$injector", "$http", "$templateCache", "$sce", function (c, e, f, g, h, i, j, k) {
            function l() {
                var a = m(), d = p.current;
                a && d && a.$$route === d.$$route && b.equals(a.pathParams, d.pathParams) && !a.reloadOnSearch && !o ? (d.params = a.params, b.copy(d.params, f), c.$broadcast("$routeUpdate", d)) : (a || d) && (o = !1, c.$broadcast("$routeChangeStart", a, d), (p.current = a) && a.redirectTo && (b.isString(a.redirectTo) ? e.path(n(a.redirectTo, a.params)).search(a.params).replace() : e.url(a.redirectTo(a.pathParams, e.path(), e.search())).replace()), g.when(a).then(function () {
                    if (a) {
                        var c, d, e = b.extend({}, a.resolve);
                        return b.forEach(e, function (a, c) {
                            e[c] = b.isString(a) ? h.get(a) : h.invoke(a)
                        }), b.isDefined(c = a.template) ? b.isFunction(c) && (c = c(a.params)) : b.isDefined(d = a.templateUrl) && (b.isFunction(d) && (d = d(a.params)), d = k.getTrustedResourceUrl(d), b.isDefined(d) && (a.loadedTemplateUrl = d, c = i.get(d, {cache: j}).then(function (a) {
                            return a.data
                        }))), b.isDefined(c) && (e.$template = c), g.all(e)
                    }
                }).then(function (e) {
                    a == p.current && (a && (a.locals = e, b.copy(a.params, f)), c.$broadcast("$routeChangeSuccess", a, d))
                }, function (b) {
                    a == p.current && c.$broadcast("$routeChangeError", a, d, b)
                }))
            }

            function m() {
                var c, f;
                return b.forEach(d, function (d) {
                    var g;
                    if (g = !f) {
                        var h = e.path();
                        g = d.keys;
                        var i = {};
                        if (d.regexp)if (h = d.regexp.exec(h)) {
                            for (var j = 1, k = h.length; k > j; ++j) {
                                var l = g[j - 1], m = h[j];
                                l && m && (i[l.name] = m)
                            }
                            g = i
                        } else g = null; else g = null;
                        g = c = g
                    }
                    g && (f = a(d, {params: b.extend({}, e.search(), c), pathParams: c}), f.$$route = d)
                }), f || d[null] && a(d[null], {params: {}, pathParams: {}})
            }

            function n(a, c) {
                var d = [];
                return b.forEach((a || "").split(":"), function (a, b) {
                    if (0 === b)d.push(a); else {
                        var e = a.match(/(\w+)(?:[?*])?(.*)/), f = e[1];
                        d.push(c[f]), d.push(e[2] || ""), delete c[f]
                    }
                }), d.join("")
            }

            var o = !1, p = {
                routes: d, reload: function () {
                    o = !0, c.$evalAsync(l)
                }
            };
            return c.$on("$locationChangeSuccess", l), p
        }]
    }), a.provider("$routeParams", function () {
        this.$get = function () {
            return {}
        }
    }), a.directive("ngView", c), a.directive("ngView", d), c.$inject = ["$route", "$anchorScroll", "$animate"], d.$inject = ["$compile", "$controller", "$route"]
}(window, window.angular), function (a, b, c) {
    "use strict";
    function d(a, c) {
        c = c || {}, b.forEach(c, function (a, b) {
            delete c[b]
        });
        for (var d in a)!a.hasOwnProperty(d) || "$" === d.charAt(0) && "$" === d.charAt(1) || (c[d] = a[d]);
        return c
    }

    var e = b.$$minErr("$resource"), f = /^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;
    b.module("ngResource", ["ng"]).factory("$resource", ["$http", "$q", function (a, g) {
        function h(a, b) {
            this.template = a, this.defaults = b || {}, this.urlParams = {}
        }

        function i(p, q, r) {
            function s(a, b) {
                var d = {};
                return b = m({}, q, b), l(b, function (b, g) {
                    o(b) && (b = b());
                    var h;
                    if (b && b.charAt && "@" == b.charAt(0)) {
                        h = a;
                        var i = b.substr(1);
                        if (null == i || "" === i || "hasOwnProperty" === i || !f.test("." + i))throw e("badmember", i);
                        for (var i = i.split("."), j = 0, k = i.length; k > j && h !== c; j++) {
                            var l = i[j];
                            h = null !== h ? h[l] : c
                        }
                    } else h = b;
                    d[g] = h
                }), d
            }

            function t(a) {
                return a.resource
            }

            function u(a) {
                d(a || {}, this)
            }

            var v = new h(p);
            return r = m({}, j, r), l(r, function (f, h) {
                var i = /^(POST|PUT|PATCH)$/i.test(f.method);
                u[h] = function (h, j, p, q) {
                    var r, w, x, y = {};
                    switch (arguments.length) {
                        case 4:
                            x = q, w = p;
                        case 3:
                        case 2:
                            if (!o(j)) {
                                y = h, r = j, w = p;
                                break
                            }
                            if (o(h)) {
                                w = h, x = j;
                                break
                            }
                            w = j, x = p;
                        case 1:
                            o(h) ? w = h : i ? r = h : y = h;
                            break;
                        case 0:
                            break;
                        default:
                            throw e("badargs", arguments.length)
                    }
                    var z = this instanceof u, A = z ? r : f.isArray ? [] : new u(r), B = {}, C = f.interceptor && f.interceptor.response || t, D = f.interceptor && f.interceptor.responseError || c;
                    return l(f, function (a, b) {
                        "params" != b && "isArray" != b && "interceptor" != b && (B[b] = n(a))
                    }), i && (B.data = r), v.setUrlParams(B, m({}, s(r, f.params || {}), y), f.url), y = a(B).then(function (a) {
                        var c = a.data, g = A.$promise;
                        if (c) {
                            if (b.isArray(c) !== !!f.isArray)throw e("badcfg", f.isArray ? "array" : "object", b.isArray(c) ? "array" : "object");
                            f.isArray ? (A.length = 0, l(c, function (a) {
                                A.push("object" == typeof a ? new u(a) : a)
                            })) : (d(c, A), A.$promise = g)
                        }
                        return A.$resolved = !0, a.resource = A, a
                    }, function (a) {
                        return A.$resolved = !0, (x || k)(a), g.reject(a)
                    }), y = y.then(function (a) {
                        var b = C(a);
                        return (w || k)(b, a.headers), b
                    }, D), z ? y : (A.$promise = y, A.$resolved = !1, A)
                }, u.prototype["$" + h] = function (a, b, c) {
                    return o(a) && (c = b, b = a, a = {}), a = u[h].call(this, a, this, b, c), a.$promise || a
                }
            }), u.bind = function (a) {
                return i(p, m({}, q, a), r)
            }, u
        }

        var j = {
            get: {method: "GET"},
            save: {method: "POST"},
            query: {method: "GET", isArray: !0},
            remove: {method: "DELETE"},
            "delete": {method: "DELETE"}
        }, k = b.noop, l = b.forEach, m = b.extend, n = b.copy, o = b.isFunction;
        return h.prototype = {
            setUrlParams: function (a, c, d) {
                var f, g, h = this, i = d || h.template, j = h.urlParams = {};
                l(i.split(/\W/), function (a) {
                    if ("hasOwnProperty" === a)throw e("badname");
                    !/^\d+$/.test(a) && a && RegExp("(^|[^\\\\]):" + a + "(\\W|$)").test(i) && (j[a] = !0)
                }), i = i.replace(/\\:/g, ":"), c = c || {}, l(h.urlParams, function (a, d) {
                    f = c.hasOwnProperty(d) ? c[d] : h.defaults[d], b.isDefined(f) && null !== f ? (g = encodeURIComponent(f).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "%20").replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+"), i = i.replace(RegExp(":" + d + "(\\W|$)", "g"), function (a, b) {
                        return g + b
                    })) : i = i.replace(RegExp("(/?):" + d + "(\\W|$)", "g"), function (a, b, c) {
                        return "/" == c.charAt(0) ? c : b + c
                    })
                }), i = i.replace(/\/+$/, "") || "/", i = i.replace(/\/\.(?=\w+($|\?))/, "."), a.url = i.replace(/\/\\\./, "/."), l(c, function (b, c) {
                    h.urlParams[c] || (a.params = a.params || {}, a.params[c] = b)
                })
            }
        }, i
    }])
}(window, window.angular), function (a, b, c) {
    "use strict";
    b.module("ngCookies", ["ng"]).factory("$cookies", ["$rootScope", "$browser", function (a, d) {
        var e, f = {}, g = {}, h = !1, i = b.copy, j = b.isUndefined;
        return d.addPollFn(function () {
            var b = d.cookies();
            e != b && (e = b, i(b, g), i(b, f), h && a.$apply())
        })(), h = !0, a.$watch(function () {
            var a, e, h;
            for (a in g)j(f[a]) && d.cookies(a, c);
            for (a in f)e = f[a], b.isString(e) || (e = "" + e, f[a] = e), e !== g[a] && (d.cookies(a, e), h = !0);
            if (h)for (a in e = d.cookies(), f)f[a] !== e[a] && (j(e[a]) ? delete f[a] : f[a] = e[a])
        }), f
    }]).factory("$cookieStore", ["$cookies", function (a) {
        return {
            get: function (c) {
                return (c = a[c]) ? b.fromJson(c) : c
            }, put: function (c, d) {
                a[c] = b.toJson(d)
            }, remove: function (b) {
                delete a[b]
            }
        }
    }])
}(window, window.angular), function (a, b, c) {
    "use strict";
    function d(a) {
        var c = [];
        return i(c, b.noop).chars(a), c.join("")
    }

    function e(a) {
        var b = {};
        a = a.split(",");
        var c;
        for (c = 0; c < a.length; c++)b[a[c]] = !0;
        return b
    }

    function f(a, c) {
        function d(a, d, f, h) {
            if (d = b.lowercase(d), w[d])for (; s.last() && x[s.last()];)e("", s.last());
            v[d] && s.last() == d && e("", d), (h = u[d] || !!h) || s.push(d);
            var i = {};
            f.replace(m, function (a, b, c, d, e) {
                i[b] = g(c || d || e || "")
            }), c.start && c.start(d, i, h)
        }

        function e(a, d) {
            var e, f = 0;
            if (d = b.lowercase(d))for (f = s.length - 1; f >= 0 && s[f] != d; f--);
            if (f >= 0) {
                for (e = s.length - 1; e >= f; e--)c.end && c.end(s[e]);
                s.length = f
            }
        }

        "string" != typeof a && (a = null === a || "undefined" == typeof a ? "" : "" + a);
        var f, h, i, s = [], t = a;
        for (s.last = function () {
            return s[s.length - 1]
        }; a;) {
            if (i = "", h = !0, s.last() && y[s.last()] ? (a = a.replace(RegExp("(.*)<\\s*\\/\\s*" + s.last() + "[^>]*>", "i"), function (a, b) {
                    return b = b.replace(p, "$1").replace(r, "$1"), c.chars && c.chars(g(b)), ""
                }), e("", s.last())) : (0 === a.indexOf("<!--") ? (f = a.indexOf("--", 4), f >= 0 && a.lastIndexOf("-->", f) === f && (c.comment && c.comment(a.substring(4, f)), a = a.substring(f + 3), h = !1)) : q.test(a) ? (f = a.match(q)) && (a = a.replace(f[0], ""), h = !1) : o.test(a) ? (f = a.match(l)) && (a = a.substring(f[0].length), f[0].replace(l, e), h = !1) : n.test(a) && ((f = a.match(k)) ? (f[4] && (a = a.substring(f[0].length), f[0].replace(k, d)), h = !1) : (i += "<", a = a.substring(1))), h && (f = a.indexOf("<"), i += 0 > f ? a : a.substring(0, f), a = 0 > f ? "" : a.substring(f), c.chars && c.chars(g(i)))), a == t)throw j("badparse", a);
            t = a
        }
        e()
    }

    function g(a) {
        if (!a)return "";
        var b = D.exec(a);
        a = b[1];
        var c = b[3];
        return (b = b[2]) && (C.innerHTML = b.replace(/</g, "&lt;"), b = "textContent" in C ? C.textContent : C.innerText), a + b + c
    }

    function h(a) {
        return a.replace(/&/g, "&amp;").replace(s, function (a) {
            var b = a.charCodeAt(0);
            return a = a.charCodeAt(1), "&#" + (1024 * (b - 55296) + (a - 56320) + 65536) + ";"
        }).replace(t, function (a) {
            return "&#" + a.charCodeAt(0) + ";"
        }).replace(/</g, "&lt;").replace(/>/g, "&gt;")
    }

    function i(a, c) {
        var d = !1, e = b.bind(a, a.push);
        return {
            start: function (a, f, g) {
                a = b.lowercase(a), !d && y[a] && (d = a), d || !0 !== z[a] || (e("<"), e(a), b.forEach(f, function (d, f) {
                    var g = b.lowercase(f), i = "img" === a && "src" === g || "background" === g;
                    !0 !== B[g] || !0 === A[g] && !c(d, i) || (e(" "), e(f), e('="'), e(h(d)), e('"'))
                }), e(g ? "/>" : ">"))
            }, end: function (a) {
                a = b.lowercase(a), d || !0 !== z[a] || (e("</"), e(a), e(">")), a == d && (d = !1)
            }, chars: function (a) {
                d || e(h(a))
            }
        }
    }

    var j = b.$$minErr("$sanitize"), k = /^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/, l = /^<\/\s*([\w:-]+)[^>]*>/, m = /([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g, n = /^</, o = /^<\//, p = /\x3c!--(.*?)--\x3e/g, q = /<!DOCTYPE([^>]*?)>/i, r = /<!\[CDATA\[(.*?)]]\x3e/g, s = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, t = /([^\#-~| |!])/g, u = e("area,br,col,hr,img,wbr");
    a = e("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"), c = e("rp,rt");
    var v = b.extend({}, c, a), w = b.extend({}, a, e("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")), x = b.extend({}, c, e("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")), y = e("script,style"), z = b.extend({}, u, w, x, v), A = e("background,cite,href,longdesc,src,usemap"), B = b.extend({}, A, e("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")), C = document.createElement("pre"), D = /^(\s*)([\s\S]*?)(\s*)$/;
    b.module("ngSanitize", []).provider("$sanitize", function () {
        this.$get = ["$$sanitizeUri", function (a) {
            return function (b) {
                var c = [];
                return f(b, i(c, function (b, c) {
                    return !/^unsafe/.test(a(b, c))
                })), c.join("")
            }
        }]
    }), b.module("ngSanitize").filter("linky", ["$sanitize", function (a) {
        var c = /((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/, e = /^mailto:/;
        return function (f, g) {
            function h(a) {
                a && n.push(d(a))
            }

            function i(a, c) {
                n.push("<a "), b.isDefined(g) && (n.push('target="'), n.push(g), n.push('" ')), n.push('href="', a.replace('"', "&quot;"), '">'), h(c), n.push("</a>")
            }

            if (!f)return f;
            for (var j, k, l, m = f, n = []; j = m.match(c);)k = j[0], j[2] == j[3] && (k = "mailto:" + k), l = j.index, h(m.substr(0, l)), i(k, j[0].replace(e, "")), m = m.substring(l + j[0].length);
            return h(m), a(n.join(""))
        }
    }])
}(window, window.angular), function (a) {
    if ("object" == typeof exports && "object" == typeof module)module.exports = a(); else {
        if ("function" == typeof define && define.amd)return define([], a);
        this.CodeMirror = a()
    }
}(function () {
    "use strict";
    function a(c, d) {
        if (!(this instanceof a))return new a(c, d);
        this.options = d = d ? rf(d) : {}, rf(Gg, d, !1), n(d);
        var e = d.value;
        "string" == typeof e && (e = new ch(e, d.mode)), this.doc = e;
        var f = this.display = new b(c, e);
        f.wrapper.CodeMirror = this, j(this), h(this), d.lineWrapping && (this.display.wrapper.className += " CodeMirror-wrap"), d.autofocus && !jg && yc(this), this.state = {
            keyMaps: [],
            overlays: [],
            modeGen: 0,
            overwrite: !1,
            focused: !1,
            suppressEdits: !1,
            pasteIncoming: !1,
            cutIncoming: !1,
            draggingText: !1,
            highlight: new kf,
            keySeq: null
        }, $f && 11 > _f && setTimeout(sf(xc, this, !0), 20), Bc(this), Ef(), $b(this), this.curOp.forceUpdate = !0, Ee(this, e), d.autofocus && !jg || Af() == f.input ? setTimeout(sf(Zc, this), 20) : $c(this);
        for (var g in Hg)Hg.hasOwnProperty(g) && Hg[g](this, d[g], Ig);
        t(this);
        for (var i = 0; i < Mg.length; ++i)Mg[i](this);
        ac(this)
    }

    function b(a, b) {
        var c = this, d = c.input = wf("textarea", null, null, "position: absolute; padding: 0; width: 1px; height: 1em; outline: none");
        ag ? d.style.width = "1000px" : d.setAttribute("wrap", "off"), ig && (d.style.border = "1px solid black"), d.setAttribute("autocorrect", "off"), d.setAttribute("autocapitalize", "off"), d.setAttribute("spellcheck", "false"), c.inputDiv = wf("div", [d], null, "overflow: hidden; position: relative; width: 3px; height: 0px;"), c.scrollbarH = wf("div", [wf("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar"), c.scrollbarV = wf("div", [wf("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar"), c.scrollbarFiller = wf("div", null, "CodeMirror-scrollbar-filler"), c.gutterFiller = wf("div", null, "CodeMirror-gutter-filler"), c.lineDiv = wf("div", null, "CodeMirror-code"), c.selectionDiv = wf("div", null, null, "position: relative; z-index: 1"), c.cursorDiv = wf("div", null, "CodeMirror-cursors"), c.measure = wf("div", null, "CodeMirror-measure"), c.lineMeasure = wf("div", null, "CodeMirror-measure"), c.lineSpace = wf("div", [c.measure, c.lineMeasure, c.selectionDiv, c.cursorDiv, c.lineDiv], null, "position: relative; outline: none"), c.mover = wf("div", [wf("div", [c.lineSpace], "CodeMirror-lines")], null, "position: relative"), c.sizer = wf("div", [c.mover], "CodeMirror-sizer"), c.heightForcer = wf("div", null, null, "position: absolute; height: " + mh + "px; width: 1px;"), c.gutters = wf("div", null, "CodeMirror-gutters"), c.lineGutter = null, c.scroller = wf("div", [c.sizer, c.heightForcer, c.gutters], "CodeMirror-scroll"), c.scroller.setAttribute("tabIndex", "-1"), c.wrapper = wf("div", [c.inputDiv, c.scrollbarH, c.scrollbarV, c.scrollbarFiller, c.gutterFiller, c.scroller], "CodeMirror"), $f && 8 > _f && (c.gutters.style.zIndex = -1, c.scroller.style.paddingRight = 0), ig && (d.style.width = "0px"), ag || (c.scroller.draggable = !0), fg && (c.inputDiv.style.height = "1px", c.inputDiv.style.position = "absolute"), $f && 8 > _f && (c.scrollbarH.style.minHeight = c.scrollbarV.style.minWidth = "18px"), a && (a.appendChild ? a.appendChild(c.wrapper) : a(c.wrapper)), c.viewFrom = c.viewTo = b.first, c.view = [], c.externalMeasured = null, c.viewOffset = 0, c.lastWrapHeight = c.lastWrapWidth = 0, c.updateLineNumbers = null, c.lineNumWidth = c.lineNumInnerWidth = c.lineNumChars = null, c.prevInput = "", c.alignWidgets = !1, c.pollingFast = !1, c.poll = new kf, c.cachedCharWidth = c.cachedTextHeight = c.cachedPaddingH = null, c.inaccurateSelection = !1, c.maxLine = null, c.maxLineLength = 0, c.maxLineChanged = !1, c.wheelDX = c.wheelDY = c.wheelStartX = c.wheelStartY = null, c.shift = !1, c.selForContextMenu = null
    }

    function c(b) {
        b.doc.mode = a.getMode(b.options, b.doc.modeOption), d(b)
    }

    function d(a) {
        a.doc.iter(function (a) {
            a.stateAfter && (a.stateAfter = null), a.styles && (a.styles = null)
        }), a.doc.frontier = a.doc.first, vb(a, 100), a.state.modeGen++, a.curOp && nc(a)
    }

    function e(a) {
        a.options.lineWrapping ? (Ch(a.display.wrapper, "CodeMirror-wrap"), a.display.sizer.style.minWidth = "") : (Bh(a.display.wrapper, "CodeMirror-wrap"), m(a)), g(a), nc(a), Nb(a), setTimeout(function () {
            q(a)
        }, 100)
    }

    function f(a) {
        var b = Yb(a.display), c = a.options.lineWrapping, d = c && Math.max(5, a.display.scroller.clientWidth / Zb(a.display) - 3);
        return function (e) {
            if (ce(a.doc, e))return 0;
            var f = 0;
            if (e.widgets)for (var g = 0; g < e.widgets.length; g++)e.widgets[g].height && (f += e.widgets[g].height);
            return c ? f + (Math.ceil(e.text.length / d) || 1) * b : f + b
        }
    }

    function g(a) {
        var b = a.doc, c = f(a);
        b.iter(function (a) {
            var b = c(a);
            b != a.height && Ie(a, b)
        })
    }

    function h(a) {
        a.display.wrapper.className = a.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") + a.options.theme.replace(/(^|\s)\s*/g, " cm-s-"), Nb(a)
    }

    function i(a) {
        j(a), nc(a), setTimeout(function () {
            s(a)
        }, 20)
    }

    function j(a) {
        var b = a.display.gutters, c = a.options.gutters;
        xf(b);
        for (var d = 0; d < c.length; ++d) {
            var e = c[d], f = b.appendChild(wf("div", null, "CodeMirror-gutter " + e));
            "CodeMirror-linenumbers" == e && (a.display.lineGutter = f, f.style.width = (a.display.lineNumWidth || 1) + "px")
        }
        b.style.display = d ? "" : "none", k(a)
    }

    function k(a) {
        var b = a.display.gutters.offsetWidth;
        a.display.sizer.style.marginLeft = b + "px", a.display.scrollbarH.style.left = a.options.fixedGutter ? b + "px" : 0
    }

    function l(a) {
        if (0 == a.height)return 0;
        for (var b, c = a.text.length, d = a; b = Xd(d);) {
            var e = b.find(0, !0);
            d = e.from.line, c += e.from.ch - e.to.ch
        }
        for (d = a; b = Yd(d);) {
            var e = b.find(0, !0);
            c -= d.text.length - e.from.ch, d = e.to.line, c += d.text.length - e.to.ch
        }
        return c
    }

    function m(a) {
        var b = a.display, c = a.doc;
        b.maxLine = Fe(c, c.first), b.maxLineLength = l(b.maxLine), b.maxLineChanged = !0, c.iter(function (a) {
            var c = l(a);
            c > b.maxLineLength && (b.maxLineLength = c, b.maxLine = a)
        })
    }

    function n(a) {
        var b = of(a.gutters, "CodeMirror-linenumbers");
        -1 == b && a.lineNumbers ? a.gutters = a.gutters.concat(["CodeMirror-linenumbers"]) : b > -1 && !a.lineNumbers && (a.gutters = a.gutters.slice(0), a.gutters.splice(b, 1))
    }

    function o(a) {
        return a.display.scroller.clientHeight - a.display.wrapper.clientHeight < mh - 3
    }

    function p(a) {
        var b = a.display.scroller;
        return {
            clientHeight: b.clientHeight,
            barHeight: a.display.scrollbarV.clientHeight,
            scrollWidth: b.scrollWidth,
            clientWidth: b.clientWidth,
            hScrollbarTakesSpace: o(a),
            barWidth: a.display.scrollbarH.clientWidth,
            docHeight: Math.round(a.doc.height + Ab(a.display))
        }
    }

    function q(a, b) {
        b || (b = p(a));
        var c = a.display, d = Gf(c.measure), e = b.docHeight + mh, f = b.scrollWidth > b.clientWidth;
        f && b.scrollWidth <= b.clientWidth + 1 && d > 0 && !b.hScrollbarTakesSpace && (f = !1);
        var g = e > b.clientHeight;
        if (g ? (c.scrollbarV.style.display = "block", c.scrollbarV.style.bottom = f ? d + "px" : "0", c.scrollbarV.firstChild.style.height = Math.max(0, e - b.clientHeight + (b.barHeight || c.scrollbarV.clientHeight)) + "px") : (c.scrollbarV.style.display = "", c.scrollbarV.firstChild.style.height = "0"), f ? (c.scrollbarH.style.display = "block", c.scrollbarH.style.right = g ? d + "px" : "0", c.scrollbarH.firstChild.style.width = b.scrollWidth - b.clientWidth + (b.barWidth || c.scrollbarH.clientWidth) + "px") : (c.scrollbarH.style.display = "", c.scrollbarH.firstChild.style.width = "0"), f && g ? (c.scrollbarFiller.style.display = "block", c.scrollbarFiller.style.height = c.scrollbarFiller.style.width = d + "px") : c.scrollbarFiller.style.display = "", f && a.options.coverGutterNextToScrollbar && a.options.fixedGutter ? (c.gutterFiller.style.display = "block", c.gutterFiller.style.height = d + "px", c.gutterFiller.style.width = c.gutters.offsetWidth + "px") : c.gutterFiller.style.display = "", !a.state.checkedOverlayScrollbar && b.clientHeight > 0) {
            if (0 === d) {
                var h = kg && !gg ? "12px" : "18px";
                c.scrollbarV.style.minWidth = c.scrollbarH.style.minHeight = h;
                var i = function (b) {
                    bf(b) != c.scrollbarV && bf(b) != c.scrollbarH && ic(a, Fc)(b)
                };
                ih(c.scrollbarV, "mousedown", i), ih(c.scrollbarH, "mousedown", i)
            }
            a.state.checkedOverlayScrollbar = !0
        }
    }

    function r(a, b, c) {
        var d = c && null != c.top ? Math.max(0, c.top) : a.scroller.scrollTop;
        d = Math.floor(d - zb(a));
        var e = c && null != c.bottom ? c.bottom : d + a.wrapper.clientHeight, f = Ke(b, d), g = Ke(b, e);
        if (c && c.ensure) {
            var h = c.ensure.from.line, i = c.ensure.to.line;
            if (f > h)return {from: h, to: Ke(b, Le(Fe(b, h)) + a.wrapper.clientHeight)};
            if (Math.min(i, b.lastLine()) >= g)return {from: Ke(b, Le(Fe(b, i)) - a.wrapper.clientHeight), to: i}
        }
        return {from: f, to: Math.max(g, f + 1)}
    }

    function s(a) {
        var b = a.display, c = b.view;
        if (b.alignWidgets || b.gutters.firstChild && a.options.fixedGutter) {
            for (var d = v(b) - b.scroller.scrollLeft + a.doc.scrollLeft, e = b.gutters.offsetWidth, f = d + "px", g = 0; g < c.length; g++)if (!c[g].hidden) {
                a.options.fixedGutter && c[g].gutter && (c[g].gutter.style.left = f);
                var h = c[g].alignable;
                if (h)for (var i = 0; i < h.length; i++)h[i].style.left = f
            }
            a.options.fixedGutter && (b.gutters.style.left = d + e + "px")
        }
    }

    function t(a) {
        if (!a.options.lineNumbers)return !1;
        var b = a.doc, c = u(a.options, b.first + b.size - 1), d = a.display;
        if (c.length != d.lineNumChars) {
            var e = d.measure.appendChild(wf("div", [wf("div", c)], "CodeMirror-linenumber CodeMirror-gutter-elt")), f = e.firstChild.offsetWidth, g = e.offsetWidth - f;
            return d.lineGutter.style.width = "", d.lineNumInnerWidth = Math.max(f, d.lineGutter.offsetWidth - g), d.lineNumWidth = d.lineNumInnerWidth + g, d.lineNumChars = d.lineNumInnerWidth ? c.length : -1, d.lineGutter.style.width = d.lineNumWidth + "px", k(a), !0
        }
        return !1
    }

    function u(a, b) {
        return String(a.lineNumberFormatter(b + a.firstLineNumber))
    }

    function v(a) {
        return a.scroller.getBoundingClientRect().left - a.sizer.getBoundingClientRect().left
    }

    function w(a, b, c) {
        var d = a.display;
        this.viewport = b, this.visible = r(d, a.doc, b), this.editorIsHidden = !d.wrapper.offsetWidth, this.wrapperHeight = d.wrapper.clientHeight, this.wrapperWidth = d.wrapper.clientWidth, this.oldViewFrom = d.viewFrom, this.oldViewTo = d.viewTo, this.oldScrollerWidth = d.scroller.clientWidth, this.force = c, this.dims = E(a)
    }

    function x(a, b) {
        var c = a.display, d = a.doc;
        if (b.editorIsHidden)return pc(a), !1;
        if (!b.force && b.visible.from >= c.viewFrom && b.visible.to <= c.viewTo && (null == c.updateLineNumbers || c.updateLineNumbers >= c.viewTo) && 0 == tc(a))return !1;
        t(a) && (pc(a), b.dims = E(a));
        var e = d.first + d.size, f = Math.max(b.visible.from - a.options.viewportMargin, d.first), g = Math.min(e, b.visible.to + a.options.viewportMargin);
        c.viewFrom < f && f - c.viewFrom < 20 && (f = Math.max(d.first, c.viewFrom)), c.viewTo > g && c.viewTo - g < 20 && (g = Math.min(e, c.viewTo)), qg && (f = ae(a.doc, f), g = be(a.doc, g));
        var h = f != c.viewFrom || g != c.viewTo || c.lastWrapHeight != b.wrapperHeight || c.lastWrapWidth != b.wrapperWidth;
        sc(a, f, g), c.viewOffset = Le(Fe(a.doc, c.viewFrom)), a.display.mover.style.top = c.viewOffset + "px";
        var i = tc(a);
        if (!h && 0 == i && !b.force && (null == c.updateLineNumbers || c.updateLineNumbers >= c.viewTo))return !1;
        var j = Af();
        return i > 4 && (c.lineDiv.style.display = "none"), F(a, c.updateLineNumbers, b.dims), i > 4 && (c.lineDiv.style.display = ""), j && Af() != j && j.offsetHeight && j.focus(), xf(c.cursorDiv), xf(c.selectionDiv), h && (c.lastWrapHeight = b.wrapperHeight, c.lastWrapWidth = b.wrapperWidth, vb(a, 400)), c.updateLineNumbers = null, !0
    }

    function y(a, b) {
        for (var c = b.force, d = b.viewport, e = !0; ; e = !1) {
            if (e && a.options.lineWrapping && b.oldScrollerWidth != a.display.scroller.clientWidth)c = !0; else if (c = !1, d && null != d.top && (d = {top: Math.min(a.doc.height + Ab(a.display) - mh - a.display.scroller.clientHeight, d.top)}), b.visible = r(a.display, a.doc, d), b.visible.from >= a.display.viewFrom && b.visible.to <= a.display.viewTo)break;
            if (!x(a, b))break;
            C(a);
            var f = p(a);
            rb(a), A(a, f), q(a, f)
        }
        df(a, "update", a), (a.display.viewFrom != b.oldViewFrom || a.display.viewTo != b.oldViewTo) && df(a, "viewportChange", a, a.display.viewFrom, a.display.viewTo)
    }

    function z(a, b) {
        var c = new w(a, b);
        if (x(a, c)) {
            C(a), y(a, c);
            var d = p(a);
            rb(a), A(a, d), q(a, d)
        }
    }

    function A(a, b) {
        a.display.sizer.style.minHeight = a.display.heightForcer.style.top = b.docHeight + "px", a.display.gutters.style.height = Math.max(b.docHeight, b.clientHeight - mh) + "px"
    }

    function B(a, b) {
        a.display.sizer.offsetWidth + a.display.gutters.offsetWidth < a.display.scroller.clientWidth - 1 && (a.display.sizer.style.minHeight = a.display.heightForcer.style.top = "0px", a.display.gutters.style.height = b.docHeight + "px")
    }

    function C(a) {
        for (var b = a.display, c = b.lineDiv.offsetTop, d = 0; d < b.view.length; d++) {
            var e, f = b.view[d];
            if (!f.hidden) {
                if ($f && 8 > _f) {
                    var g = f.node.offsetTop + f.node.offsetHeight;
                    e = g - c, c = g
                } else {
                    var h = f.node.getBoundingClientRect();
                    e = h.bottom - h.top
                }
                var i = f.line.height - e;
                if (2 > e && (e = Yb(b)), (i > .001 || -.001 > i) && (Ie(f.line, e), D(f.line), f.rest))for (var j = 0; j < f.rest.length; j++)D(f.rest[j])
            }
        }
    }

    function D(a) {
        if (a.widgets)for (var b = 0; b < a.widgets.length; ++b)a.widgets[b].height = a.widgets[b].node.offsetHeight
    }

    function E(a) {
        for (var b = a.display, c = {}, d = {}, e = b.gutters.clientLeft, f = b.gutters.firstChild, g = 0; f; f = f.nextSibling, ++g)c[a.options.gutters[g]] = f.offsetLeft + f.clientLeft + e, d[a.options.gutters[g]] = f.clientWidth;
        return {
            fixedPos: v(b),
            gutterTotalWidth: b.gutters.offsetWidth,
            gutterLeft: c,
            gutterWidth: d,
            wrapperWidth: b.wrapper.clientWidth
        }
    }

    function F(a, b, c) {
        function d(b) {
            var c = b.nextSibling;
            return ag && kg && a.display.currentWheelTarget == b ? b.style.display = "none" : b.parentNode.removeChild(b), c
        }

        for (var e = a.display, f = a.options.lineNumbers, g = e.lineDiv, h = g.firstChild, i = e.view, j = e.viewFrom, k = 0; k < i.length; k++) {
            var l = i[k];
            if (l.hidden); else if (l.node) {
                for (; h != l.node;)h = d(h);
                var m = f && null != b && j >= b && l.lineNumber;
                l.changes && (of(l.changes, "gutter") > -1 && (m = !1), G(a, l, j, c)), m && (xf(l.lineNumber), l.lineNumber.appendChild(document.createTextNode(u(a.options, j)))), h = l.node.nextSibling
            } else {
                var n = O(a, l, j, c);
                g.insertBefore(n, h)
            }
            j += l.size
        }
        for (; h;)h = d(h)
    }

    function G(a, b, c, d) {
        for (var e = 0; e < b.changes.length; e++) {
            var f = b.changes[e];
            "text" == f ? K(a, b) : "gutter" == f ? M(a, b, c, d) : "class" == f ? L(b) : "widget" == f && N(b, d)
        }
        b.changes = null
    }

    function H(a) {
        return a.node == a.text && (a.node = wf("div", null, null, "position: relative"), a.text.parentNode && a.text.parentNode.replaceChild(a.node, a.text), a.node.appendChild(a.text), $f && 8 > _f && (a.node.style.zIndex = 2)), a.node
    }

    function I(a) {
        var b = a.bgClass ? a.bgClass + " " + (a.line.bgClass || "") : a.line.bgClass;
        if (b && (b += " CodeMirror-linebackground"), a.background)b ? a.background.className = b : (a.background.parentNode.removeChild(a.background), a.background = null); else if (b) {
            var c = H(a);
            a.background = c.insertBefore(wf("div", null, b), c.firstChild)
        }
    }

    function J(a, b) {
        var c = a.display.externalMeasured;
        return c && c.line == b.line ? (a.display.externalMeasured = null, b.measure = c.measure, c.built) : se(a, b)
    }

    function K(a, b) {
        var c = b.text.className, d = J(a, b);
        b.text == b.node && (b.node = d.pre), b.text.parentNode.replaceChild(d.pre, b.text), b.text = d.pre, d.bgClass != b.bgClass || d.textClass != b.textClass ? (b.bgClass = d.bgClass, b.textClass = d.textClass, L(b)) : c && (b.text.className = c)
    }

    function L(a) {
        I(a), a.line.wrapClass ? H(a).className = a.line.wrapClass : a.node != a.text && (a.node.className = "");
        var b = a.textClass ? a.textClass + " " + (a.line.textClass || "") : a.line.textClass;
        a.text.className = b || ""
    }

    function M(a, b, c, d) {
        b.gutter && (b.node.removeChild(b.gutter), b.gutter = null);
        var e = b.line.gutterMarkers;
        if (a.options.lineNumbers || e) {
            var f = H(b), g = b.gutter = f.insertBefore(wf("div", null, "CodeMirror-gutter-wrapper", "left: " + (a.options.fixedGutter ? d.fixedPos : -d.gutterTotalWidth) + "px; width: " + d.gutterTotalWidth + "px"), b.text);
            if (b.line.gutterClass && (g.className += " " + b.line.gutterClass), !a.options.lineNumbers || e && e["CodeMirror-linenumbers"] || (b.lineNumber = g.appendChild(wf("div", u(a.options, c), "CodeMirror-linenumber CodeMirror-gutter-elt", "left: " + d.gutterLeft["CodeMirror-linenumbers"] + "px; width: " + a.display.lineNumInnerWidth + "px"))), e)for (var h = 0; h < a.options.gutters.length; ++h) {
                var i = a.options.gutters[h], j = e.hasOwnProperty(i) && e[i];
                j && g.appendChild(wf("div", [j], "CodeMirror-gutter-elt", "left: " + d.gutterLeft[i] + "px; width: " + d.gutterWidth[i] + "px"))
            }
        }
    }

    function N(a, b) {
        a.alignable && (a.alignable = null);
        for (var c, d = a.node.firstChild; d; d = c) {
            var c = d.nextSibling;
            "CodeMirror-linewidget" == d.className && a.node.removeChild(d)
        }
        P(a, b)
    }

    function O(a, b, c, d) {
        var e = J(a, b);
        return b.text = b.node = e.pre, e.bgClass && (b.bgClass = e.bgClass), e.textClass && (b.textClass = e.textClass), L(b), M(a, b, c, d), P(b, d), b.node
    }

    function P(a, b) {
        if (Q(a.line, a, b, !0), a.rest)for (var c = 0; c < a.rest.length; c++)Q(a.rest[c], a, b, !1)
    }

    function Q(a, b, c, d) {
        if (a.widgets)for (var e = H(b), f = 0, g = a.widgets; f < g.length; ++f) {
            var h = g[f], i = wf("div", [h.node], "CodeMirror-linewidget");
            h.handleMouseEvents || (i.ignoreEvents = !0), R(h, i, b, c), d && h.above ? e.insertBefore(i, b.gutter || b.text) : e.appendChild(i), df(h, "redraw")
        }
    }

    function R(a, b, c, d) {
        if (a.noHScroll) {
            (c.alignable || (c.alignable = [])).push(b);
            var e = d.wrapperWidth;
            b.style.left = d.fixedPos + "px", a.coverGutter || (e -= d.gutterTotalWidth, b.style.paddingLeft = d.gutterTotalWidth + "px"), b.style.width = e + "px"
        }
        a.coverGutter && (b.style.zIndex = 5, b.style.position = "relative", a.noHScroll || (b.style.marginLeft = -d.gutterTotalWidth + "px"))
    }

    function S(a) {
        return rg(a.line, a.ch)
    }

    function T(a, b) {
        return sg(a, b) < 0 ? b : a
    }

    function U(a, b) {
        return sg(a, b) < 0 ? a : b
    }

    function V(a, b) {
        this.ranges = a, this.primIndex = b
    }

    function W(a, b) {
        this.anchor = a, this.head = b
    }

    function X(a, b) {
        var c = a[b];
        a.sort(function (a, b) {
            return sg(a.from(), b.from())
        }), b = of(a, c);
        for (var d = 1; d < a.length; d++) {
            var e = a[d], f = a[d - 1];
            if (sg(f.to(), e.from()) >= 0) {
                var g = U(f.from(), e.from()), h = T(f.to(), e.to()), i = f.empty() ? e.from() == e.head : f.from() == f.head;
                b >= d && --b, a.splice(--d, 2, new W(i ? h : g, i ? g : h))
            }
        }
        return new V(a, b)
    }

    function Y(a, b) {
        return new V([new W(a, b || a)], 0)
    }

    function Z(a, b) {
        return Math.max(a.first, Math.min(b, a.first + a.size - 1))
    }

    function $(a, b) {
        if (b.line < a.first)return rg(a.first, 0);
        var c = a.first + a.size - 1;
        return b.line > c ? rg(c, Fe(a, c).text.length) : _(b, Fe(a, b.line).text.length)
    }

    function _(a, b) {
        var c = a.ch;
        return null == c || c > b ? rg(a.line, b) : 0 > c ? rg(a.line, 0) : a
    }

    function ab(a, b) {
        return b >= a.first && b < a.first + a.size
    }

    function bb(a, b) {
        for (var c = [], d = 0; d < b.length; d++)c[d] = $(a, b[d]);
        return c
    }

    function cb(a, b, c, d) {
        if (a.cm && a.cm.display.shift || a.extend) {
            var e = b.anchor;
            if (d) {
                var f = sg(c, e) < 0;
                f != sg(d, e) < 0 ? (e = c, c = d) : f != sg(c, d) < 0 && (c = d)
            }
            return new W(e, c)
        }
        return new W(d || c, c)
    }

    function db(a, b, c, d) {
        jb(a, new V([cb(a, a.sel.primary(), b, c)], 0), d)
    }

    function eb(a, b, c) {
        for (var d = [], e = 0; e < a.sel.ranges.length; e++)d[e] = cb(a, a.sel.ranges[e], b[e], null);
        var f = X(d, a.sel.primIndex);
        jb(a, f, c)
    }

    function fb(a, b, c, d) {
        var e = a.sel.ranges.slice(0);
        e[b] = c, jb(a, X(e, a.sel.primIndex), d)
    }

    function gb(a, b, c, d) {
        jb(a, Y(b, c), d)
    }

    function hb(a, b) {
        var c = {
            ranges: b.ranges, update: function (b) {
                this.ranges = [];
                for (var c = 0; c < b.length; c++)this.ranges[c] = new W($(a, b[c].anchor), $(a, b[c].head))
            }
        };
        return kh(a, "beforeSelectionChange", a, c), a.cm && kh(a.cm, "beforeSelectionChange", a.cm, c), c.ranges != b.ranges ? X(c.ranges, c.ranges.length - 1) : b
    }

    function ib(a, b, c) {
        var d = a.history.done, e = nf(d);
        e && e.ranges ? (d[d.length - 1] = b, kb(a, b, c)) : jb(a, b, c)
    }

    function jb(a, b, c) {
        kb(a, b, c), Te(a, a.sel, a.cm ? a.cm.curOp.id : 0 / 0, c)
    }

    function kb(a, b, c) {
        (hf(a, "beforeSelectionChange") || a.cm && hf(a.cm, "beforeSelectionChange")) && (b = hb(a, b));
        var d = c && c.bias || (sg(b.primary().head, a.sel.primary().head) < 0 ? -1 : 1);
        lb(a, nb(a, b, d, !0)), c && c.scroll === !1 || !a.cm || sd(a.cm)
    }

    function lb(a, b) {
        b.equals(a.sel) || (a.sel = b, a.cm && (a.cm.curOp.updateInput = a.cm.curOp.selectionChanged = !0, gf(a.cm)), df(a, "cursorActivity", a))
    }

    function mb(a) {
        lb(a, nb(a, a.sel, null, !1), oh)
    }

    function nb(a, b, c, d) {
        for (var e, f = 0; f < b.ranges.length; f++) {
            var g = b.ranges[f], h = ob(a, g.anchor, c, d), i = ob(a, g.head, c, d);
            (e || h != g.anchor || i != g.head) && (e || (e = b.ranges.slice(0, f)), e[f] = new W(h, i))
        }
        return e ? X(e, b.primIndex) : b
    }

    function ob(a, b, c, d) {
        var e = !1, f = b, g = c || 1;
        a.cantEdit = !1;
        a:for (; ;) {
            var h = Fe(a, f.line);
            if (h.markedSpans)for (var i = 0; i < h.markedSpans.length; ++i) {
                var j = h.markedSpans[i], k = j.marker;
                if ((null == j.from || (k.inclusiveLeft ? j.from <= f.ch : j.from < f.ch)) && (null == j.to || (k.inclusiveRight ? j.to >= f.ch : j.to > f.ch))) {
                    if (d && (kh(k, "beforeCursorEnter"), k.explicitlyCleared)) {
                        if (h.markedSpans) {
                            --i;
                            continue
                        }
                        break
                    }
                    if (!k.atomic)continue;
                    var l = k.find(0 > g ? -1 : 1);
                    if (0 == sg(l, f) && (l.ch += g, l.ch < 0 ? l = l.line > a.first ? $(a, rg(l.line - 1)) : null : l.ch > h.text.length && (l = l.line < a.first + a.size - 1 ? rg(l.line + 1, 0) : null), !l)) {
                        if (e)return d ? (a.cantEdit = !0, rg(a.first, 0)) : ob(a, b, c, !0);
                        e = !0, l = b, g = -g
                    }
                    f = l;
                    continue a
                }
            }
            return f
        }
    }

    function pb(a) {
        for (var b = a.display, c = a.doc, d = {}, e = d.cursors = document.createDocumentFragment(), f = d.selection = document.createDocumentFragment(), g = 0; g < c.sel.ranges.length; g++) {
            var h = c.sel.ranges[g], i = h.empty();
            (i || a.options.showCursorWhenSelecting) && sb(a, h, e), i || tb(a, h, f)
        }
        if (a.options.moveInputWithCursor) {
            var j = Tb(a, c.sel.primary().head, "div"), k = b.wrapper.getBoundingClientRect(), l = b.lineDiv.getBoundingClientRect();
            d.teTop = Math.max(0, Math.min(b.wrapper.clientHeight - 10, j.top + l.top - k.top)), d.teLeft = Math.max(0, Math.min(b.wrapper.clientWidth - 10, j.left + l.left - k.left))
        }
        return d
    }

    function qb(a, b) {
        yf(a.display.cursorDiv, b.cursors), yf(a.display.selectionDiv, b.selection), null != b.teTop && (a.display.inputDiv.style.top = b.teTop + "px", a.display.inputDiv.style.left = b.teLeft + "px")
    }

    function rb(a) {
        qb(a, pb(a))
    }

    function sb(a, b, c) {
        var d = Tb(a, b.head, "div", null, null, !a.options.singleCursorHeightPerLine), e = c.appendChild(wf("div", " ", "CodeMirror-cursor"));
        if (e.style.left = d.left + "px", e.style.top = d.top + "px", e.style.height = Math.max(0, d.bottom - d.top) * a.options.cursorHeight + "px", d.other) {
            var f = c.appendChild(wf("div", " ", "CodeMirror-cursor CodeMirror-secondarycursor"));
            f.style.display = "", f.style.left = d.other.left + "px", f.style.top = d.other.top + "px", f.style.height = .85 * (d.other.bottom - d.other.top) + "px"
        }
    }

    function tb(a, b, c) {
        function d(a, b, c, d) {
            0 > b && (b = 0), b = Math.round(b), d = Math.round(d), h.appendChild(wf("div", null, "CodeMirror-selected", "position: absolute; left: " + a + "px; top: " + b + "px; width: " + (null == c ? k - a : c) + "px; height: " + (d - b) + "px"))
        }

        function e(b, c, e) {
            function f(c, d) {
                return Sb(a, rg(b, c), "div", l, d)
            }

            var h, i, l = Fe(g, b), m = l.text.length;
            return Kf(Me(l), c || 0, null == e ? m : e, function (a, b, g) {
                var l, n, o, p = f(a, "left");
                if (a == b)l = p, n = o = p.left; else {
                    if (l = f(b - 1, "right"), "rtl" == g) {
                        var q = p;
                        p = l, l = q
                    }
                    n = p.left, o = l.right
                }
                null == c && 0 == a && (n = j), l.top - p.top > 3 && (d(n, p.top, null, p.bottom), n = j, p.bottom < l.top && d(n, p.bottom, null, l.top)), null == e && b == m && (o = k), (!h || p.top < h.top || p.top == h.top && p.left < h.left) && (h = p), (!i || l.bottom > i.bottom || l.bottom == i.bottom && l.right > i.right) && (i = l), j + 1 > n && (n = j), d(n, l.top, o - n, l.bottom)
            }), {start: h, end: i}
        }

        var f = a.display, g = a.doc, h = document.createDocumentFragment(), i = Bb(a.display), j = i.left, k = f.lineSpace.offsetWidth - i.right, l = b.from(), m = b.to();
        if (l.line == m.line)e(l.line, l.ch, m.ch); else {
            var n = Fe(g, l.line), o = Fe(g, m.line), p = $d(n) == $d(o), q = e(l.line, l.ch, p ? n.text.length + 1 : null).end, r = e(m.line, p ? 0 : null, m.ch).start;
            p && (q.top < r.top - 2 ? (d(q.right, q.top, null, q.bottom), d(j, r.top, r.left, r.bottom)) : d(q.right, q.top, r.left - q.right, q.bottom)), q.bottom < r.top && d(j, q.bottom, null, r.top)
        }
        c.appendChild(h)
    }

    function ub(a) {
        if (a.state.focused) {
            var b = a.display;
            clearInterval(b.blinker);
            var c = !0;
            b.cursorDiv.style.visibility = "", a.options.cursorBlinkRate > 0 ? b.blinker = setInterval(function () {
                b.cursorDiv.style.visibility = (c = !c) ? "" : "hidden"
            }, a.options.cursorBlinkRate) : a.options.cursorBlinkRate < 0 && (b.cursorDiv.style.visibility = "hidden")
        }
    }

    function vb(a, b) {
        a.doc.mode.startState && a.doc.frontier < a.display.viewTo && a.state.highlight.set(b, sf(wb, a))
    }

    function wb(a) {
        var b = a.doc;
        if (b.frontier < b.first && (b.frontier = b.first), !(b.frontier >= a.display.viewTo)) {
            var c = +new Date + a.options.workTime, d = Og(b.mode, yb(a, b.frontier)), e = [];
            b.iter(b.frontier, Math.min(b.first + b.size, a.display.viewTo + 500), function (f) {
                if (b.frontier >= a.display.viewFrom) {
                    var g = f.styles, h = oe(a, f, d, !0);
                    f.styles = h.styles;
                    var i = f.styleClasses, j = h.classes;
                    j ? f.styleClasses = j : i && (f.styleClasses = null);
                    for (var k = !g || g.length != f.styles.length || i != j && (!i || !j || i.bgClass != j.bgClass || i.textClass != j.textClass), l = 0; !k && l < g.length; ++l)k = g[l] != f.styles[l];
                    k && e.push(b.frontier), f.stateAfter = Og(b.mode, d)
                } else qe(a, f.text, d), f.stateAfter = b.frontier % 5 == 0 ? Og(b.mode, d) : null;
                return ++b.frontier, +new Date > c ? (vb(a, a.options.workDelay), !0) : void 0
            }), e.length && hc(a, function () {
                for (var b = 0; b < e.length; b++)oc(a, e[b], "text")
            })
        }
    }

    function xb(a, b, c) {
        for (var d, e, f = a.doc, g = c ? -1 : b - (a.doc.mode.innerMode ? 1e3 : 100), h = b; h > g; --h) {
            if (h <= f.first)return f.first;
            var i = Fe(f, h - 1);
            if (i.stateAfter && (!c || h <= f.frontier))return h;
            var j = rh(i.text, null, a.options.tabSize);
            (null == e || d > j) && (e = h - 1, d = j)
        }
        return e
    }

    function yb(a, b, c) {
        var d = a.doc, e = a.display;
        if (!d.mode.startState)return !0;
        var f = xb(a, b, c), g = f > d.first && Fe(d, f - 1).stateAfter;
        return g = g ? Og(d.mode, g) : Pg(d.mode), d.iter(f, b, function (c) {
            qe(a, c.text, g);
            var h = f == b - 1 || f % 5 == 0 || f >= e.viewFrom && f < e.viewTo;
            c.stateAfter = h ? Og(d.mode, g) : null, ++f
        }), c && (d.frontier = f), g
    }

    function zb(a) {
        return a.lineSpace.offsetTop
    }

    function Ab(a) {
        return a.mover.offsetHeight - a.lineSpace.offsetHeight
    }

    function Bb(a) {
        if (a.cachedPaddingH)return a.cachedPaddingH;
        var b = yf(a.measure, wf("pre", "x")), c = window.getComputedStyle ? window.getComputedStyle(b) : b.currentStyle, d = {
            left: parseInt(c.paddingLeft),
            right: parseInt(c.paddingRight)
        };
        return isNaN(d.left) || isNaN(d.right) || (a.cachedPaddingH = d), d
    }

    function Cb(a, b, c) {
        var d = a.options.lineWrapping, e = d && a.display.scroller.clientWidth;
        if (!b.measure.heights || d && b.measure.width != e) {
            var f = b.measure.heights = [];
            if (d) {
                b.measure.width = e;
                for (var g = b.text.firstChild.getClientRects(), h = 0; h < g.length - 1; h++) {
                    var i = g[h], j = g[h + 1];
                    Math.abs(i.bottom - j.bottom) > 2 && f.push((i.bottom + j.top) / 2 - c.top)
                }
            }
            f.push(c.bottom - c.top)
        }
    }

    function Db(a, b, c) {
        if (a.line == b)return {map: a.measure.map, cache: a.measure.cache};
        for (var d = 0; d < a.rest.length; d++)if (a.rest[d] == b)return {
            map: a.measure.maps[d],
            cache: a.measure.caches[d]
        };
        for (var d = 0; d < a.rest.length; d++)if (Je(a.rest[d]) > c)return {
            map: a.measure.maps[d],
            cache: a.measure.caches[d],
            before: !0
        }
    }

    function Eb(a, b) {
        b = $d(b);
        var c = Je(b), d = a.display.externalMeasured = new lc(a.doc, b, c);
        d.lineN = c;
        var e = d.built = se(a, d);
        return d.text = e.pre, yf(a.display.lineMeasure, e.pre), d
    }

    function Fb(a, b, c, d) {
        return Ib(a, Hb(a, b), c, d)
    }

    function Gb(a, b) {
        if (b >= a.display.viewFrom && b < a.display.viewTo)return a.display.view[qc(a, b)];
        var c = a.display.externalMeasured;
        return c && b >= c.lineN && b < c.lineN + c.size ? c : void 0
    }

    function Hb(a, b) {
        var c = Je(b), d = Gb(a, c);
        d && !d.text ? d = null : d && d.changes && G(a, d, c, E(a)), d || (d = Eb(a, b));
        var e = Db(d, b, c);
        return {line: b, view: d, rect: null, map: e.map, cache: e.cache, before: e.before, hasHeights: !1}
    }

    function Ib(a, b, c, d, e) {
        b.before && (c = -1);
        var f, g = c + (d || "");
        return b.cache.hasOwnProperty(g) ? f = b.cache[g] : (b.rect || (b.rect = b.view.text.getBoundingClientRect()), b.hasHeights || (Cb(a, b.view, b.rect), b.hasHeights = !0), f = Jb(a, b, c, d), f.bogus || (b.cache[g] = f)), {
            left: f.left,
            right: f.right,
            top: e ? f.rtop : f.top,
            bottom: e ? f.rbottom : f.bottom
        }
    }

    function Jb(a, b, c, d) {
        for (var e, f, g, h, i = b.map, j = 0; j < i.length; j += 3) {
            var k = i[j], l = i[j + 1];
            if (k > c ? (f = 0, g = 1, h = "left") : l > c ? (f = c - k, g = f + 1) : (j == i.length - 3 || c == l && i[j + 3] > c) && (g = l - k, f = g - 1, c >= l && (h = "right")), null != f) {
                if (e = i[j + 2], k == l && d == (e.insertLeft ? "left" : "right") && (h = d), "left" == d && 0 == f)for (; j && i[j - 2] == i[j - 3] && i[j - 1].insertLeft;)e = i[(j -= 3) + 2], h = "left";
                if ("right" == d && f == l - k)for (; j < i.length - 3 && i[j + 3] == i[j + 4] && !i[j + 5].insertLeft;)e = i[(j += 3) + 2], h = "right";
                break
            }
        }
        var m;
        if (3 == e.nodeType) {
            for (var j = 0; 4 > j; j++) {
                for (; f && vf(b.line.text.charAt(k + f));)--f;
                for (; l > k + g && vf(b.line.text.charAt(k + g));)++g;
                if ($f && 9 > _f && 0 == f && g == l - k)m = e.parentNode.getBoundingClientRect(); else if ($f && a.options.lineWrapping) {
                    var n = uh(e, f, g).getClientRects();
                    m = n.length ? n["right" == d ? n.length - 1 : 0] : wg
                } else m = uh(e, f, g).getBoundingClientRect() || wg;
                if (m.left || m.right || 0 == f)break;
                g = f, f -= 1, h = "right"
            }
            $f && 11 > _f && (m = Kb(a.display.measure, m))
        } else {
            f > 0 && (h = d = "right");
            var n;
            m = a.options.lineWrapping && (n = e.getClientRects()).length > 1 ? n["right" == d ? n.length - 1 : 0] : e.getBoundingClientRect()
        }
        if ($f && 9 > _f && !f && (!m || !m.left && !m.right)) {
            var o = e.parentNode.getClientRects()[0];
            m = o ? {left: o.left, right: o.left + Zb(a.display), top: o.top, bottom: o.bottom} : wg
        }
        for (var p = m.top - b.rect.top, q = m.bottom - b.rect.top, r = (p + q) / 2, s = b.view.measure.heights, j = 0; j < s.length - 1 && !(r < s[j]); j++);
        var t = j ? s[j - 1] : 0, u = s[j], v = {
            left: ("right" == h ? m.right : m.left) - b.rect.left,
            right: ("left" == h ? m.left : m.right) - b.rect.left,
            top: t,
            bottom: u
        };
        return m.left || m.right || (v.bogus = !0), a.options.singleCursorHeightPerLine || (v.rtop = p, v.rbottom = q), v
    }

    function Kb(a, b) {
        if (!window.screen || null == screen.logicalXDPI || screen.logicalXDPI == screen.deviceXDPI || !Jf(a))return b;
        var c = screen.logicalXDPI / screen.deviceXDPI, d = screen.logicalYDPI / screen.deviceYDPI;
        return {left: b.left * c, right: b.right * c, top: b.top * d, bottom: b.bottom * d}
    }

    function Lb(a) {
        if (a.measure && (a.measure.cache = {}, a.measure.heights = null, a.rest))for (var b = 0; b < a.rest.length; b++)a.measure.caches[b] = {}
    }

    function Mb(a) {
        a.display.externalMeasure = null, xf(a.display.lineMeasure);
        for (var b = 0; b < a.display.view.length; b++)Lb(a.display.view[b])
    }

    function Nb(a) {
        Mb(a), a.display.cachedCharWidth = a.display.cachedTextHeight = a.display.cachedPaddingH = null, a.options.lineWrapping || (a.display.maxLineChanged = !0), a.display.lineNumChars = null
    }

    function Ob() {
        return window.pageXOffset || (document.documentElement || document.body).scrollLeft
    }

    function Pb() {
        return window.pageYOffset || (document.documentElement || document.body).scrollTop
    }

    function Qb(a, b, c, d) {
        if (b.widgets)for (var e = 0; e < b.widgets.length; ++e)if (b.widgets[e].above) {
            var f = fe(b.widgets[e]);
            c.top += f, c.bottom += f
        }
        if ("line" == d)return c;
        d || (d = "local");
        var g = Le(b);
        if ("local" == d ? g += zb(a.display) : g -= a.display.viewOffset, "page" == d || "window" == d) {
            var h = a.display.lineSpace.getBoundingClientRect();
            g += h.top + ("window" == d ? 0 : Pb());
            var i = h.left + ("window" == d ? 0 : Ob());
            c.left += i, c.right += i
        }
        return c.top += g, c.bottom += g, c
    }

    function Rb(a, b, c) {
        if ("div" == c)return b;
        var d = b.left, e = b.top;
        if ("page" == c)d -= Ob(), e -= Pb(); else if ("local" == c || !c) {
            var f = a.display.sizer.getBoundingClientRect();
            d += f.left, e += f.top
        }
        var g = a.display.lineSpace.getBoundingClientRect();
        return {left: d - g.left, top: e - g.top}
    }

    function Sb(a, b, c, d, e) {
        return d || (d = Fe(a.doc, b.line)), Qb(a, d, Fb(a, d, b.ch, e), c)
    }

    function Tb(a, b, c, d, e, f) {
        function g(b, g) {
            var h = Ib(a, e, b, g ? "right" : "left", f);
            return g ? h.left = h.right : h.right = h.left, Qb(a, d, h, c)
        }

        function h(a, b) {
            var c = i[b], d = c.level % 2;
            return a == Lf(c) && b && c.level < i[b - 1].level ? (c = i[--b], a = Mf(c) - (c.level % 2 ? 0 : 1), d = !0) : a == Mf(c) && b < i.length - 1 && c.level < i[b + 1].level && (c = i[++b], a = Lf(c) - c.level % 2, d = !1), d && a == c.to && a > c.from ? g(a - 1) : g(a, d)
        }

        d = d || Fe(a.doc, b.line), e || (e = Hb(a, d));
        var i = Me(d), j = b.ch;
        if (!i)return g(j);
        var k = Tf(i, j), l = h(j, k);
        return null != Kh && (l.other = h(j, Kh)), l
    }

    function Ub(a, b) {
        var c = 0, b = $(a.doc, b);
        a.options.lineWrapping || (c = Zb(a.display) * b.ch);
        var d = Fe(a.doc, b.line), e = Le(d) + zb(a.display);
        return {left: c, right: c, top: e, bottom: e + d.height}
    }

    function Vb(a, b, c, d) {
        var e = rg(a, b);
        return e.xRel = d, c && (e.outside = !0), e
    }

    function Wb(a, b, c) {
        var d = a.doc;
        if (c += a.display.viewOffset, 0 > c)return Vb(d.first, 0, !0, -1);
        var e = Ke(d, c), f = d.first + d.size - 1;
        if (e > f)return Vb(d.first + d.size - 1, Fe(d, f).text.length, !0, 1);
        0 > b && (b = 0);
        for (var g = Fe(d, e); ;) {
            var h = Xb(a, g, e, b, c), i = Yd(g), j = i && i.find(0, !0);
            if (!i || !(h.ch > j.from.ch || h.ch == j.from.ch && h.xRel > 0))return h;
            e = Je(g = j.to.line)
        }
    }

    function Xb(a, b, c, d, e) {
        function f(d) {
            var e = Tb(a, rg(c, d), "line", b, j);
            return h = !0, g > e.bottom ? e.left - i : g < e.top ? e.left + i : (h = !1, e.left)
        }

        var g = e - Le(b), h = !1, i = 2 * a.display.wrapper.clientWidth, j = Hb(a, b), k = Me(b), l = b.text.length, m = Nf(b), n = Of(b), o = f(m), p = h, q = f(n), r = h;
        if (d > q)return Vb(c, n, r, 1);
        for (; ;) {
            if (k ? n == m || n == Vf(b, m, 1) : 1 >= n - m) {
                for (var s = o > d || q - d >= d - o ? m : n, t = d - (s == m ? o : q); vf(b.text.charAt(s));)++s;
                var u = Vb(c, s, s == m ? p : r, -1 > t ? -1 : t > 1 ? 1 : 0);
                return u
            }
            var v = Math.ceil(l / 2), w = m + v;
            if (k) {
                w = m;
                for (var x = 0; v > x; ++x)w = Vf(b, w, 1)
            }
            var y = f(w);
            y > d ? (n = w, q = y, (r = h) && (q += 1e3), l = v) : (m = w, o = y, p = h, l -= v)
        }
    }

    function Yb(a) {
        if (null != a.cachedTextHeight)return a.cachedTextHeight;
        if (null == tg) {
            tg = wf("pre");
            for (var b = 0; 49 > b; ++b)tg.appendChild(document.createTextNode("x")), tg.appendChild(wf("br"));
            tg.appendChild(document.createTextNode("x"))
        }
        yf(a.measure, tg);
        var c = tg.offsetHeight / 50;
        return c > 3 && (a.cachedTextHeight = c), xf(a.measure), c || 1
    }

    function Zb(a) {
        if (null != a.cachedCharWidth)return a.cachedCharWidth;
        var b = wf("span", "xxxxxxxxxx"), c = wf("pre", [b]);
        yf(a.measure, c);
        var d = b.getBoundingClientRect(), e = (d.right - d.left) / 10;
        return e > 2 && (a.cachedCharWidth = e), e || 10
    }

    function $b(a) {
        a.curOp = {
            cm: a,
            viewChanged: !1,
            startHeight: a.doc.height,
            forceUpdate: !1,
            updateInput: null,
            typing: !1,
            changeObjs: null,
            cursorActivityHandlers: null,
            cursorActivityCalled: 0,
            selectionChanged: !1,
            updateMaxLine: !1,
            scrollLeft: null,
            scrollTop: null,
            scrollToPos: null,
            id: ++yg
        }, xg ? xg.ops.push(a.curOp) : a.curOp.ownsGroup = xg = {ops: [a.curOp], delayedCallbacks: []}
    }

    function _b(a) {
        var b = a.delayedCallbacks, c = 0;
        do {
            for (; c < b.length; c++)b[c]();
            for (var d = 0; d < a.ops.length; d++) {
                var e = a.ops[d];
                if (e.cursorActivityHandlers)for (; e.cursorActivityCalled < e.cursorActivityHandlers.length;)e.cursorActivityHandlers[e.cursorActivityCalled++](e.cm)
            }
        } while (c < b.length)
    }

    function ac(a) {
        var b = a.curOp, c = b.ownsGroup;
        if (c)try {
            _b(c)
        } finally {
            xg = null;
            for (var d = 0; d < c.ops.length; d++)c.ops[d].cm.curOp = null;
            bc(c)
        }
    }

    function bc(a) {
        for (var b = a.ops, c = 0; c < b.length; c++)cc(b[c]);
        for (var c = 0; c < b.length; c++)dc(b[c]);
        for (var c = 0; c < b.length; c++)ec(b[c]);
        for (var c = 0; c < b.length; c++)fc(b[c]);
        for (var c = 0; c < b.length; c++)gc(b[c])
    }

    function cc(a) {
        var b = a.cm, c = b.display;
        a.updateMaxLine && m(b), a.mustUpdate = a.viewChanged || a.forceUpdate || null != a.scrollTop || a.scrollToPos && (a.scrollToPos.from.line < c.viewFrom || a.scrollToPos.to.line >= c.viewTo) || c.maxLineChanged && b.options.lineWrapping, a.update = a.mustUpdate && new w(b, a.mustUpdate && {
                    top: a.scrollTop,
                    ensure: a.scrollToPos
                }, a.forceUpdate)
    }

    function dc(a) {
        a.updatedDisplay = a.mustUpdate && x(a.cm, a.update)
    }

    function ec(a) {
        var b = a.cm, c = b.display;
        a.updatedDisplay && C(b), a.barMeasure = p(b), c.maxLineChanged && !b.options.lineWrapping && (a.adjustWidthTo = Fb(b, c.maxLine, c.maxLine.text.length).left + 3, a.maxScrollLeft = Math.max(0, c.sizer.offsetLeft + a.adjustWidthTo + mh - c.scroller.clientWidth)), (a.updatedDisplay || a.selectionChanged) && (a.newSelectionNodes = pb(b))
    }

    function fc(a) {
        var b = a.cm;
        null != a.adjustWidthTo && (b.display.sizer.style.minWidth = a.adjustWidthTo + "px", a.maxScrollLeft < b.doc.scrollLeft && Oc(b, Math.min(b.display.scroller.scrollLeft, a.maxScrollLeft), !0), b.display.maxLineChanged = !1), a.newSelectionNodes && qb(b, a.newSelectionNodes), a.updatedDisplay && A(b, a.barMeasure), (a.updatedDisplay || a.startHeight != b.doc.height) && q(b, a.barMeasure), a.selectionChanged && ub(b), b.state.focused && a.updateInput && xc(b, a.typing)
    }

    function gc(a) {
        var b = a.cm, c = b.display, d = b.doc;
        if (null != a.adjustWidthTo && Math.abs(a.barMeasure.scrollWidth - b.display.scroller.scrollWidth) > 1 && q(b), a.updatedDisplay && y(b, a.update), null == c.wheelStartX || null == a.scrollTop && null == a.scrollLeft && !a.scrollToPos || (c.wheelStartX = c.wheelStartY = null), null != a.scrollTop && (c.scroller.scrollTop != a.scrollTop || a.forceScroll)) {
            var e = Math.max(0, Math.min(c.scroller.scrollHeight - c.scroller.clientHeight, a.scrollTop));
            c.scroller.scrollTop = c.scrollbarV.scrollTop = d.scrollTop = e
        }
        if (null != a.scrollLeft && (c.scroller.scrollLeft != a.scrollLeft || a.forceScroll)) {
            var f = Math.max(0, Math.min(c.scroller.scrollWidth - c.scroller.clientWidth, a.scrollLeft));
            c.scroller.scrollLeft = c.scrollbarH.scrollLeft = d.scrollLeft = f, s(b)
        }
        if (a.scrollToPos) {
            var g = od(b, $(d, a.scrollToPos.from), $(d, a.scrollToPos.to), a.scrollToPos.margin);
            a.scrollToPos.isCursor && b.state.focused && nd(b, g)
        }
        var h = a.maybeHiddenMarkers, i = a.maybeUnhiddenMarkers;
        if (h)for (var j = 0; j < h.length; ++j)h[j].lines.length || kh(h[j], "hide");
        if (i)for (var j = 0; j < i.length; ++j)i[j].lines.length && kh(i[j], "unhide");
        c.wrapper.offsetHeight && (d.scrollTop = b.display.scroller.scrollTop), a.updatedDisplay && ag && (b.options.lineWrapping && B(b, a.barMeasure), a.barMeasure.scrollWidth > a.barMeasure.clientWidth && a.barMeasure.scrollWidth < a.barMeasure.clientWidth + 1 && !o(b) && q(b)), a.changeObjs && kh(b, "changes", b, a.changeObjs)
    }

    function hc(a, b) {
        if (a.curOp)return b();
        $b(a);
        try {
            return b()
        } finally {
            ac(a)
        }
    }

    function ic(a, b) {
        return function () {
            if (a.curOp)return b.apply(a, arguments);
            $b(a);
            try {
                return b.apply(a, arguments)
            } finally {
                ac(a)
            }
        }
    }

    function jc(a) {
        return function () {
            if (this.curOp)return a.apply(this, arguments);
            $b(this);
            try {
                return a.apply(this, arguments)
            } finally {
                ac(this)
            }
        }
    }

    function kc(a) {
        return function () {
            var b = this.cm;
            if (!b || b.curOp)return a.apply(this, arguments);
            $b(b);
            try {
                return a.apply(this, arguments)
            } finally {
                ac(b)
            }
        }
    }

    function lc(a, b, c) {
        this.line = b, this.rest = _d(b), this.size = this.rest ? Je(nf(this.rest)) - c + 1 : 1, this.node = this.text = null, this.hidden = ce(a, b)
    }

    function mc(a, b, c) {
        for (var d, e = [], f = b; c > f; f = d) {
            var g = new lc(a.doc, Fe(a.doc, f), f);
            d = f + g.size, e.push(g)
        }
        return e
    }

    function nc(a, b, c, d) {
        null == b && (b = a.doc.first), null == c && (c = a.doc.first + a.doc.size), d || (d = 0);
        var e = a.display;
        if (d && c < e.viewTo && (null == e.updateLineNumbers || e.updateLineNumbers > b) && (e.updateLineNumbers = b), a.curOp.viewChanged = !0, b >= e.viewTo)qg && ae(a.doc, b) < e.viewTo && pc(a); else if (c <= e.viewFrom)qg && be(a.doc, c + d) > e.viewFrom ? pc(a) : (e.viewFrom += d, e.viewTo += d); else if (b <= e.viewFrom && c >= e.viewTo)pc(a); else if (b <= e.viewFrom) {
            var f = rc(a, c, c + d, 1);
            f ? (e.view = e.view.slice(f.index), e.viewFrom = f.lineN, e.viewTo += d) : pc(a)
        } else if (c >= e.viewTo) {
            var f = rc(a, b, b, -1);
            f ? (e.view = e.view.slice(0, f.index), e.viewTo = f.lineN) : pc(a)
        } else {
            var g = rc(a, b, b, -1), h = rc(a, c, c + d, 1);
            g && h ? (e.view = e.view.slice(0, g.index).concat(mc(a, g.lineN, h.lineN)).concat(e.view.slice(h.index)), e.viewTo += d) : pc(a)
        }
        var i = e.externalMeasured;
        i && (c < i.lineN ? i.lineN += d : b < i.lineN + i.size && (e.externalMeasured = null))
    }

    function oc(a, b, c) {
        a.curOp.viewChanged = !0;
        var d = a.display, e = a.display.externalMeasured;
        if (e && b >= e.lineN && b < e.lineN + e.size && (d.externalMeasured = null), !(b < d.viewFrom || b >= d.viewTo)) {
            var f = d.view[qc(a, b)];
            if (null != f.node) {
                var g = f.changes || (f.changes = []);
                -1 == of(g, c) && g.push(c)
            }
        }
    }

    function pc(a) {
        a.display.viewFrom = a.display.viewTo = a.doc.first, a.display.view = [], a.display.viewOffset = 0
    }

    function qc(a, b) {
        if (b >= a.display.viewTo)return null;
        if (b -= a.display.viewFrom, 0 > b)return null;
        for (var c = a.display.view, d = 0; d < c.length; d++)if (b -= c[d].size, 0 > b)return d
    }

    function rc(a, b, c, d) {
        var e, f = qc(a, b), g = a.display.view;
        if (!qg || c == a.doc.first + a.doc.size)return {index: f, lineN: c};
        for (var h = 0, i = a.display.viewFrom; f > h; h++)i += g[h].size;
        if (i != b) {
            if (d > 0) {
                if (f == g.length - 1)return null;
                e = i + g[f].size - b, f++
            } else e = i - b;
            b += e, c += e
        }
        for (; ae(a.doc, c) != c;) {
            if (f == (0 > d ? 0 : g.length - 1))return null;
            c += d * g[f - (0 > d ? 1 : 0)].size, f += d
        }
        return {index: f, lineN: c}
    }

    function sc(a, b, c) {
        var d = a.display, e = d.view;
        0 == e.length || b >= d.viewTo || c <= d.viewFrom ? (d.view = mc(a, b, c), d.viewFrom = b) : (d.viewFrom > b ? d.view = mc(a, b, d.viewFrom).concat(d.view) : d.viewFrom < b && (d.view = d.view.slice(qc(a, b))), d.viewFrom = b, d.viewTo < c ? d.view = d.view.concat(mc(a, d.viewTo, c)) : d.viewTo > c && (d.view = d.view.slice(0, qc(a, c)))), d.viewTo = c
    }

    function tc(a) {
        for (var b = a.display.view, c = 0, d = 0; d < b.length; d++) {
            var e = b[d];
            e.hidden || e.node && !e.changes || ++c
        }
        return c
    }

    function uc(a) {
        a.display.pollingFast || a.display.poll.set(a.options.pollInterval, function () {
            wc(a), a.state.focused && uc(a)
        })
    }

    function vc(a) {
        function b() {
            var d = wc(a);
            d || c ? (a.display.pollingFast = !1, uc(a)) : (c = !0, a.display.poll.set(60, b))
        }

        var c = !1;
        a.display.pollingFast = !0, a.display.poll.set(20, b)
    }

    function wc(a) {
        var b = a.display.input, c = a.display.prevInput, d = a.doc;
        if (!a.state.focused || Gh(b) && !c || Ac(a) || a.options.disableInput || a.state.keySeq)return !1;
        a.state.pasteIncoming && a.state.fakedLastChar && (b.value = b.value.substring(0, b.value.length - 1), a.state.fakedLastChar = !1);
        var e = b.value;
        if (e == c && !a.somethingSelected())return !1;
        if ($f && _f >= 9 && a.display.inputHasSelection === e || kg && /[\uf700-\uf7ff]/.test(e))return xc(a), !1;
        var f = !a.curOp;
        f && $b(a), a.display.shift = !1, 8203 != e.charCodeAt(0) || d.sel != a.display.selForContextMenu || c || (c = "​");
        for (var g = 0, h = Math.min(c.length, e.length); h > g && c.charCodeAt(g) == e.charCodeAt(g);)++g;
        var i = e.slice(g), j = Fh(i), k = null;
        a.state.pasteIncoming && d.sel.ranges.length > 1 && (zg && zg.join("\n") == i ? k = d.sel.ranges.length % zg.length == 0 && pf(zg, Fh) : j.length == d.sel.ranges.length && (k = pf(j, function (a) {
            return [a]
        })));
        for (var l = d.sel.ranges.length - 1; l >= 0; l--) {
            var m = d.sel.ranges[l], n = m.from(), o = m.to();
            g < c.length ? n = rg(n.line, n.ch - (c.length - g)) : a.state.overwrite && m.empty() && !a.state.pasteIncoming && (o = rg(o.line, Math.min(Fe(d, o.line).text.length, o.ch + nf(j).length)));
            var p = a.curOp.updateInput, q = {
                from: n,
                to: o,
                text: k ? k[l % k.length] : j,
                origin: a.state.pasteIncoming ? "paste" : a.state.cutIncoming ? "cut" : "+input"
            };
            if (gd(a.doc, q), df(a, "inputRead", a, q), i && !a.state.pasteIncoming && a.options.electricChars && a.options.smartIndent && m.head.ch < 100 && (!l || d.sel.ranges[l - 1].head.line != m.head.line)) {
                var r = a.getModeAt(m.head), s = Fg(q);
                if (r.electricChars) {
                    for (var t = 0; t < r.electricChars.length; t++)if (i.indexOf(r.electricChars.charAt(t)) > -1) {
                        ud(a, s.line, "smart");
                        break
                    }
                } else r.electricInput && r.electricInput.test(Fe(d, s.line).text.slice(0, s.ch)) && ud(a, s.line, "smart")
            }
        }
        return sd(a), a.curOp.updateInput = p, a.curOp.typing = !0, e.length > 1e3 || e.indexOf("\n") > -1 ? b.value = a.display.prevInput = "" : a.display.prevInput = e, f && ac(a), a.state.pasteIncoming = a.state.cutIncoming = !1, !0
    }

    function xc(a, b) {
        var c, d, e = a.doc;
        if (a.somethingSelected()) {
            a.display.prevInput = "";
            var f = e.sel.primary();
            c = Hh && (f.to().line - f.from().line > 100 || (d = a.getSelection()).length > 1e3);
            var g = c ? "-" : d || a.getSelection();
            a.display.input.value = g, a.state.focused && th(a.display.input), $f && _f >= 9 && (a.display.inputHasSelection = g)
        } else b || (a.display.prevInput = a.display.input.value = "", $f && _f >= 9 && (a.display.inputHasSelection = null));
        a.display.inaccurateSelection = c
    }

    function yc(a) {
        "nocursor" == a.options.readOnly || jg && Af() == a.display.input || a.display.input.focus()
    }

    function zc(a) {
        a.state.focused || (yc(a), Zc(a))
    }

    function Ac(a) {
        return a.options.readOnly || a.doc.cantEdit
    }

    function Bc(a) {
        function b() {
            a.state.focused && setTimeout(sf(yc, a), 0)
        }

        function c(b) {
            ff(a, b) || hh(b)
        }

        function d(b) {
            if (a.somethingSelected())zg = a.getSelections(), e.inaccurateSelection && (e.prevInput = "", e.inaccurateSelection = !1, e.input.value = zg.join("\n"), th(e.input)); else {
                for (var c = [], d = [], f = 0; f < a.doc.sel.ranges.length; f++) {
                    var g = a.doc.sel.ranges[f].head.line, h = {anchor: rg(g, 0), head: rg(g + 1, 0)};
                    d.push(h), c.push(a.getRange(h.anchor, h.head))
                }
                "cut" == b.type ? a.setSelections(d, null, oh) : (e.prevInput = "", e.input.value = c.join("\n"), th(e.input)), zg = c
            }
            "cut" == b.type && (a.state.cutIncoming = !0)
        }

        var e = a.display;
        ih(e.scroller, "mousedown", ic(a, Fc)), $f && 11 > _f ? ih(e.scroller, "dblclick", ic(a, function (b) {
            if (!ff(a, b)) {
                var c = Ec(a, b);
                if (c && !Kc(a, b) && !Dc(a.display, b)) {
                    fh(b);
                    var d = a.findWordAt(c);
                    db(a.doc, d.anchor, d.head)
                }
            }
        })) : ih(e.scroller, "dblclick", function (b) {
            ff(a, b) || fh(b)
        }), ih(e.lineSpace, "selectstart", function (a) {
            Dc(e, a) || fh(a)
        }), og || ih(e.scroller, "contextmenu", function (b) {
            _c(a, b)
        }), ih(e.scroller, "scroll", function () {
            e.scroller.clientHeight && (Nc(a, e.scroller.scrollTop), Oc(a, e.scroller.scrollLeft, !0), kh(a, "scroll", a))
        }), ih(e.scrollbarV, "scroll", function () {
            e.scroller.clientHeight && Nc(a, e.scrollbarV.scrollTop)
        }), ih(e.scrollbarH, "scroll", function () {
            e.scroller.clientHeight && Oc(a, e.scrollbarH.scrollLeft)
        }), ih(e.scroller, "mousewheel", function (b) {
            Pc(a, b)
        }), ih(e.scroller, "DOMMouseScroll", function (b) {
            Pc(a, b)
        }), ih(e.scrollbarH, "mousedown", b), ih(e.scrollbarV, "mousedown", b), ih(e.wrapper, "scroll", function () {
            e.wrapper.scrollTop = e.wrapper.scrollLeft = 0
        }), ih(e.input, "keyup", function (b) {
            Xc.call(a, b)
        }), ih(e.input, "input", function () {
            $f && _f >= 9 && a.display.inputHasSelection && (a.display.inputHasSelection = null), vc(a)
        }), ih(e.input, "keydown", ic(a, Vc)), ih(e.input, "keypress", ic(a, Yc)), ih(e.input, "focus", sf(Zc, a)), ih(e.input, "blur", sf($c, a)), a.options.dragDrop && (ih(e.scroller, "dragstart", function (b) {
            Mc(a, b)
        }), ih(e.scroller, "dragenter", c), ih(e.scroller, "dragover", c), ih(e.scroller, "drop", ic(a, Lc))), ih(e.scroller, "paste", function (b) {
            Dc(e, b) || (a.state.pasteIncoming = !0, yc(a), vc(a))
        }), ih(e.input, "paste", function () {
            if (ag && !a.state.fakedLastChar && !(new Date - a.state.lastMiddleDown < 200)) {
                var b = e.input.selectionStart, c = e.input.selectionEnd;
                e.input.value += "$", e.input.selectionEnd = c, e.input.selectionStart = b, a.state.fakedLastChar = !0
            }
            a.state.pasteIncoming = !0, vc(a)
        }), ih(e.input, "cut", d), ih(e.input, "copy", d), fg && ih(e.sizer, "mouseup", function () {
            Af() == e.input && e.input.blur(), yc(a)
        })
    }

    function Cc(a) {
        var b = a.display;
        (b.lastWrapHeight != b.wrapper.clientHeight || b.lastWrapWidth != b.wrapper.clientWidth) && (b.cachedCharWidth = b.cachedTextHeight = b.cachedPaddingH = null, a.setSize())
    }

    function Dc(a, b) {
        for (var c = bf(b); c != a.wrapper; c = c.parentNode)if (!c || c.ignoreEvents || c.parentNode == a.sizer && c != a.mover)return !0
    }

    function Ec(a, b, c, d) {
        var e = a.display;
        if (!c) {
            var f = bf(b);
            if (f == e.scrollbarH || f == e.scrollbarV || f == e.scrollbarFiller || f == e.gutterFiller)return null
        }
        var g, h, i = e.lineSpace.getBoundingClientRect();
        try {
            g = b.clientX - i.left, h = b.clientY - i.top
        } catch (b) {
            return null
        }
        var j, k = Wb(a, g, h);
        if (d && 1 == k.xRel && (j = Fe(a.doc, k.line).text).length == k.ch) {
            var l = rh(j, j.length, a.options.tabSize) - j.length;
            k = rg(k.line, Math.max(0, Math.round((g - Bb(a.display).left) / Zb(a.display)) - l))
        }
        return k
    }

    function Fc(a) {
        if (!ff(this, a)) {
            var b = this, c = b.display;
            if (c.shift = a.shiftKey, Dc(c, a))return void(ag || (c.scroller.draggable = !1, setTimeout(function () {
                c.scroller.draggable = !0
            }, 100)));
            if (!Kc(b, a)) {
                var d = Ec(b, a);
                switch (window.focus(), cf(a)) {
                    case 1:
                        d ? Gc(b, a, d) : bf(a) == c.scroller && fh(a);
                        break;
                    case 2:
                        ag && (b.state.lastMiddleDown = +new Date), d && db(b.doc, d), setTimeout(sf(yc, b), 20), fh(a);
                        break;
                    case 3:
                        og && _c(b, a)
                }
            }
        }
    }

    function Gc(a, b, c) {
        setTimeout(sf(zc, a), 0);
        var d, e = +new Date;
        vg && vg.time > e - 400 && 0 == sg(vg.pos, c) ? d = "triple" : ug && ug.time > e - 400 && 0 == sg(ug.pos, c) ? (d = "double", vg = {
            time: e,
            pos: c
        }) : (d = "single", ug = {time: e, pos: c});
        var f = a.doc.sel, g = kg ? b.metaKey : b.ctrlKey;
        a.options.dragDrop && Eh && !Ac(a) && "single" == d && f.contains(c) > -1 && f.somethingSelected() ? Hc(a, b, c, g) : Ic(a, b, c, d, g)
    }

    function Hc(a, b, c, d) {
        var e = a.display, f = ic(a, function (g) {
            ag && (e.scroller.draggable = !1), a.state.draggingText = !1, jh(document, "mouseup", f), jh(e.scroller, "drop", f), Math.abs(b.clientX - g.clientX) + Math.abs(b.clientY - g.clientY) < 10 && (fh(g), d || db(a.doc, c), yc(a), $f && 9 == _f && setTimeout(function () {
                document.body.focus(), yc(a)
            }, 20))
        });
        ag && (e.scroller.draggable = !0), a.state.draggingText = f, e.scroller.dragDrop && e.scroller.dragDrop(), ih(document, "mouseup", f), ih(e.scroller, "drop", f)
    }

    function Ic(a, b, c, d, e) {
        function f(b) {
            if (0 != sg(p, b))if (p = b, "rect" == d) {
                for (var e = [], f = a.options.tabSize, g = rh(Fe(j, c.line).text, c.ch, f), h = rh(Fe(j, b.line).text, b.ch, f), i = Math.min(g, h), n = Math.max(g, h), o = Math.min(c.line, b.line), q = Math.min(a.lastLine(), Math.max(c.line, b.line)); q >= o; o++) {
                    var r = Fe(j, o).text, s = lf(r, i, f);
                    i == n ? e.push(new W(rg(o, s), rg(o, s))) : r.length > s && e.push(new W(rg(o, s), rg(o, lf(r, n, f))))
                }
                e.length || e.push(new W(c, c)), jb(j, X(m.ranges.slice(0, l).concat(e), l), {
                    origin: "*mouse",
                    scroll: !1
                }), a.scrollIntoView(b)
            } else {
                var t = k, u = t.anchor, v = b;
                if ("single" != d) {
                    if ("double" == d)var w = a.findWordAt(b); else var w = new W(rg(b.line, 0), $(j, rg(b.line + 1, 0)));
                    sg(w.anchor, u) > 0 ? (v = w.head, u = U(t.from(), w.anchor)) : (v = w.anchor, u = T(t.to(), w.head))
                }
                var e = m.ranges.slice(0);
                e[l] = new W($(j, u), v), jb(j, X(e, l), ph)
            }
        }

        function g(b) {
            var c = ++s, e = Ec(a, b, !0, "rect" == d);
            if (e)if (0 != sg(e, p)) {
                zc(a), f(e);
                var h = r(i, j);
                (e.line >= h.to || e.line < h.from) && setTimeout(ic(a, function () {
                    s == c && g(b)
                }), 150)
            } else {
                var k = b.clientY < q.top ? -20 : b.clientY > q.bottom ? 20 : 0;
                k && setTimeout(ic(a, function () {
                    s == c && (i.scroller.scrollTop += k, g(b))
                }), 50)
            }
        }

        function h(b) {
            s = 1 / 0, fh(b), yc(a), jh(document, "mousemove", t), jh(document, "mouseup", u), j.history.lastSelOrigin = null
        }

        var i = a.display, j = a.doc;
        fh(b);
        var k, l, m = j.sel;
        if (e && !b.shiftKey ? (l = j.sel.contains(c), k = l > -1 ? j.sel.ranges[l] : new W(c, c)) : k = j.sel.primary(), b.altKey)d = "rect", e || (k = new W(c, c)), c = Ec(a, b, !0, !0), l = -1; else if ("double" == d) {
            var n = a.findWordAt(c);
            k = a.display.shift || j.extend ? cb(j, k, n.anchor, n.head) : n
        } else if ("triple" == d) {
            var o = new W(rg(c.line, 0), $(j, rg(c.line + 1, 0)));
            k = a.display.shift || j.extend ? cb(j, k, o.anchor, o.head) : o
        } else k = cb(j, k, c);
        e ? l > -1 ? fb(j, l, k, ph) : (l = j.sel.ranges.length, jb(j, X(j.sel.ranges.concat([k]), l), {
            scroll: !1,
            origin: "*mouse"
        })) : (l = 0, jb(j, new V([k], 0), ph), m = j.sel);
        var p = c, q = i.wrapper.getBoundingClientRect(), s = 0, t = ic(a, function (a) {
            cf(a) ? g(a) : h(a)
        }), u = ic(a, h);
        ih(document, "mousemove", t), ih(document, "mouseup", u)
    }

    function Jc(a, b, c, d, e) {
        try {
            var f = b.clientX, g = b.clientY
        } catch (b) {
            return !1
        }
        if (f >= Math.floor(a.display.gutters.getBoundingClientRect().right))return !1;
        d && fh(b);
        var h = a.display, i = h.lineDiv.getBoundingClientRect();
        if (g > i.bottom || !hf(a, c))return af(b);
        g -= i.top - h.viewOffset;
        for (var j = 0; j < a.options.gutters.length; ++j) {
            var k = h.gutters.childNodes[j];
            if (k && k.getBoundingClientRect().right >= f) {
                var l = Ke(a.doc, g), m = a.options.gutters[j];
                return e(a, c, a, l, m, b), af(b)
            }
        }
    }

    function Kc(a, b) {
        return Jc(a, b, "gutterClick", !0, df)
    }

    function Lc(a) {
        var b = this;
        if (!ff(b, a) && !Dc(b.display, a)) {
            fh(a), $f && (Ag = +new Date);
            var c = Ec(b, a, !0), d = a.dataTransfer.files;
            if (c && !Ac(b))if (d && d.length && window.FileReader && window.File)for (var e = d.length, f = Array(e), g = 0, h = function (a, d) {
                var h = new FileReader;
                h.onload = ic(b, function () {
                    if (f[d] = h.result, ++g == e) {
                        c = $(b.doc, c);
                        var a = {from: c, to: c, text: Fh(f.join("\n")), origin: "paste"};
                        gd(b.doc, a), ib(b.doc, Y(c, Fg(a)))
                    }
                }), h.readAsText(a)
            }, i = 0; e > i; ++i)h(d[i], i); else {
                if (b.state.draggingText && b.doc.sel.contains(c) > -1)return b.state.draggingText(a), void setTimeout(sf(yc, b), 20);
                try {
                    var f = a.dataTransfer.getData("Text");
                    if (f) {
                        if (b.state.draggingText && !(kg ? a.metaKey : a.ctrlKey))var j = b.listSelections();
                        if (kb(b.doc, Y(c, c)), j)for (var i = 0; i < j.length; ++i)md(b.doc, "", j[i].anchor, j[i].head, "drag");
                        b.replaceSelection(f, "around", "paste"), yc(b)
                    }
                } catch (a) {
                }
            }
        }
    }

    function Mc(a, b) {
        if ($f && (!a.state.draggingText || +new Date - Ag < 100))return void hh(b);
        if (!ff(a, b) && !Dc(a.display, b) && (b.dataTransfer.setData("Text", a.getSelection()), b.dataTransfer.setDragImage && !eg)) {
            var c = wf("img", null, null, "position: fixed; left: 0; top: 0;");
            c.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", dg && (c.width = c.height = 1, a.display.wrapper.appendChild(c), c._top = c.offsetTop), b.dataTransfer.setDragImage(c, 0, 0), dg && c.parentNode.removeChild(c)
        }
    }

    function Nc(a, b) {
        Math.abs(a.doc.scrollTop - b) < 2 || (a.doc.scrollTop = b, Xf || z(a, {top: b}), a.display.scroller.scrollTop != b && (a.display.scroller.scrollTop = b), a.display.scrollbarV.scrollTop != b && (a.display.scrollbarV.scrollTop = b), Xf && z(a), vb(a, 100))
    }

    function Oc(a, b, c) {
        (c ? b == a.doc.scrollLeft : Math.abs(a.doc.scrollLeft - b) < 2) || (b = Math.min(b, a.display.scroller.scrollWidth - a.display.scroller.clientWidth), a.doc.scrollLeft = b, s(a), a.display.scroller.scrollLeft != b && (a.display.scroller.scrollLeft = b), a.display.scrollbarH.scrollLeft != b && (a.display.scrollbarH.scrollLeft = b))
    }

    function Pc(a, b) {
        var c = b.wheelDeltaX, d = b.wheelDeltaY;
        null == c && b.detail && b.axis == b.HORIZONTAL_AXIS && (c = b.detail), null == d && b.detail && b.axis == b.VERTICAL_AXIS ? d = b.detail : null == d && (d = b.wheelDelta);
        var e = a.display, f = e.scroller;
        if (c && f.scrollWidth > f.clientWidth || d && f.scrollHeight > f.clientHeight) {
            if (d && kg && ag)a:for (var g = b.target, h = e.view; g != f; g = g.parentNode)for (var i = 0; i < h.length; i++)if (h[i].node == g) {
                a.display.currentWheelTarget = g;
                break a
            }
            if (c && !Xf && !dg && null != Cg)return d && Nc(a, Math.max(0, Math.min(f.scrollTop + d * Cg, f.scrollHeight - f.clientHeight))), Oc(a, Math.max(0, Math.min(f.scrollLeft + c * Cg, f.scrollWidth - f.clientWidth))), fh(b), void(e.wheelStartX = null);
            if (d && null != Cg) {
                var j = d * Cg, k = a.doc.scrollTop, l = k + e.wrapper.clientHeight;
                0 > j ? k = Math.max(0, k + j - 50) : l = Math.min(a.doc.height, l + j + 50), z(a, {top: k, bottom: l})
            }
            20 > Bg && (null == e.wheelStartX ? (e.wheelStartX = f.scrollLeft, e.wheelStartY = f.scrollTop, e.wheelDX = c, e.wheelDY = d, setTimeout(function () {
                if (null != e.wheelStartX) {
                    var a = f.scrollLeft - e.wheelStartX, b = f.scrollTop - e.wheelStartY, c = b && e.wheelDY && b / e.wheelDY || a && e.wheelDX && a / e.wheelDX;
                    e.wheelStartX = e.wheelStartY = null, c && (Cg = (Cg * Bg + c) / (Bg + 1), ++Bg)
                }
            }, 200)) : (e.wheelDX += c, e.wheelDY += d))
        }
    }

    function Qc(a, b, c) {
        if ("string" == typeof b && (b = Qg[b], !b))return !1;
        a.display.pollingFast && wc(a) && (a.display.pollingFast = !1);
        var d = a.display.shift, e = !1;
        try {
            Ac(a) && (a.state.suppressEdits = !0), c && (a.display.shift = !1), e = b(a) != nh
        } finally {
            a.display.shift = d, a.state.suppressEdits = !1
        }
        return e
    }

    function Rc(a, b, c) {
        for (var d = 0; d < a.state.keyMaps.length; d++) {
            var e = Sg(b, a.state.keyMaps[d], c);
            if (e)return e
        }
        return a.options.extraKeys && Sg(b, a.options.extraKeys, c) || Sg(b, a.options.keyMap, c)
    }

    function Sc(a, b, c, d) {
        var e = a.state.keySeq;
        if (e) {
            if (Tg(b))return "handled";
            Dg.set(50, function () {
                a.state.keySeq == e && (a.state.keySeq = null, xc(a))
            }), b = e + " " + b
        }
        var f = Rc(a, b, d);
        return "multi" == f && (a.state.keySeq = b), "handled" == f && df(a, "keyHandled", a, b, c), ("handled" == f || "multi" == f) && (fh(c), ub(a)), e && !f && /\'$/.test(b) ? (fh(c), !0) : !!f
    }

    function Tc(a, b) {
        var c = Ug(b, !0);
        return c ? b.shiftKey && !a.state.keySeq ? Sc(a, "Shift-" + c, b, function (b) {
            return Qc(a, b, !0)
        }) || Sc(a, c, b, function (b) {
            return ("string" == typeof b ? /^go[A-Z]/.test(b) : b.motion) ? Qc(a, b) : void 0
        }) : Sc(a, c, b, function (b) {
            return Qc(a, b)
        }) : !1
    }

    function Uc(a, b, c) {
        return Sc(a, "'" + c + "'", b, function (b) {
            return Qc(a, b, !0)
        })
    }

    function Vc(a) {
        var b = this;
        if (zc(b), !ff(b, a)) {
            $f && 11 > _f && 27 == a.keyCode && (a.returnValue = !1);
            var c = a.keyCode;
            b.display.shift = 16 == c || a.shiftKey;
            var d = Tc(b, a);
            dg && (Eg = d ? c : null, !d && 88 == c && !Hh && (kg ? a.metaKey : a.ctrlKey) && b.replaceSelection("", null, "cut")), 18 != c || /\bCodeMirror-crosshair\b/.test(b.display.lineDiv.className) || Wc(b)
        }
    }

    function Wc(a) {
        function b(a) {
            18 != a.keyCode && a.altKey || (Bh(c, "CodeMirror-crosshair"), jh(document, "keyup", b), jh(document, "mouseover", b))
        }

        var c = a.display.lineDiv;
        Ch(c, "CodeMirror-crosshair"), ih(document, "keyup", b), ih(document, "mouseover", b)
    }

    function Xc(a) {
        16 == a.keyCode && (this.doc.sel.shift = !1), ff(this, a)
    }

    function Yc(a) {
        var b = this;
        if (!(ff(b, a) || a.ctrlKey && !a.altKey || kg && a.metaKey)) {
            var c = a.keyCode, d = a.charCode;
            if (dg && c == Eg)return Eg = null, void fh(a);
            if (!(dg && (!a.which || a.which < 10) || fg) || !Tc(b, a)) {
                var e = String.fromCharCode(null == d ? c : d);
                Uc(b, a, e) || ($f && _f >= 9 && (b.display.inputHasSelection = null), vc(b))
            }
        }
    }

    function Zc(a) {
        "nocursor" != a.options.readOnly && (a.state.focused || (kh(a, "focus", a), a.state.focused = !0, Ch(a.display.wrapper, "CodeMirror-focused"), a.curOp || a.display.selForContextMenu == a.doc.sel || (xc(a), ag && setTimeout(sf(xc, a, !0), 0))), uc(a), ub(a))
    }

    function $c(a) {
        a.state.focused && (kh(a, "blur", a), a.state.focused = !1, Bh(a.display.wrapper, "CodeMirror-focused")), clearInterval(a.display.blinker), setTimeout(function () {
            a.state.focused || (a.display.shift = !1)
        }, 150)
    }

    function _c(a, b) {
        function c() {
            if (null != e.input.selectionStart) {
                var b = a.somethingSelected(), c = e.input.value = "​" + (b ? e.input.value : "");
                e.prevInput = b ? "" : "​", e.input.selectionStart = 1, e.input.selectionEnd = c.length, e.selForContextMenu = a.doc.sel
            }
        }

        function d() {
            if (e.inputDiv.style.position = "relative", e.input.style.cssText = i, $f && 9 > _f && (e.scrollbarV.scrollTop = e.scroller.scrollTop = g), uc(a), null != e.input.selectionStart) {
                (!$f || $f && 9 > _f) && c();
                var b = 0, d = function () {
                    e.selForContextMenu == a.doc.sel && 0 == e.input.selectionStart ? ic(a, Qg.selectAll)(a) : b++ < 10 ? e.detectingSelectAll = setTimeout(d, 500) : xc(a)
                };
                e.detectingSelectAll = setTimeout(d, 200)
            }
        }

        if (!ff(a, b, "contextmenu")) {
            var e = a.display;
            if (!Dc(e, b) && !ad(a, b)) {
                var f = Ec(a, b), g = e.scroller.scrollTop;
                if (f && !dg) {
                    var h = a.options.resetSelectionOnContextMenu;
                    h && -1 == a.doc.sel.contains(f) && ic(a, jb)(a.doc, Y(f), oh);
                    var i = e.input.style.cssText;
                    if (e.inputDiv.style.position = "absolute", e.input.style.cssText = "position: fixed; width: 30px; height: 30px; top: " + (b.clientY - 5) + "px; left: " + (b.clientX - 5) + "px; z-index: 1000; background: " + ($f ? "rgba(255, 255, 255, .05)" : "transparent") + "; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);", ag)var j = window.scrollY;
                    if (yc(a), ag && window.scrollTo(null, j), xc(a), a.somethingSelected() || (e.input.value = e.prevInput = " "), e.selForContextMenu = a.doc.sel, clearTimeout(e.detectingSelectAll), $f && _f >= 9 && c(), og) {
                        hh(b);
                        var k = function () {
                            jh(window, "mouseup", k), setTimeout(d, 20)
                        };
                        ih(window, "mouseup", k)
                    } else setTimeout(d, 50)
                }
            }
        }
    }

    function ad(a, b) {
        return hf(a, "gutterContextMenu") ? Jc(a, b, "gutterContextMenu", !1, kh) : !1
    }

    function bd(a, b) {
        if (sg(a, b.from) < 0)return a;
        if (sg(a, b.to) <= 0)return Fg(b);
        var c = a.line + b.text.length - (b.to.line - b.from.line) - 1, d = a.ch;
        return a.line == b.to.line && (d += Fg(b).ch - b.to.ch), rg(c, d)
    }

    function cd(a, b) {
        for (var c = [], d = 0; d < a.sel.ranges.length; d++) {
            var e = a.sel.ranges[d];
            c.push(new W(bd(e.anchor, b), bd(e.head, b)))
        }
        return X(c, a.sel.primIndex)
    }

    function dd(a, b, c) {
        return a.line == b.line ? rg(c.line, a.ch - b.ch + c.ch) : rg(c.line + (a.line - b.line), a.ch)
    }

    function ed(a, b, c) {
        for (var d = [], e = rg(a.first, 0), f = e, g = 0; g < b.length; g++) {
            var h = b[g], i = dd(h.from, e, f), j = dd(Fg(h), e, f);
            if (e = h.to, f = j, "around" == c) {
                var k = a.sel.ranges[g], l = sg(k.head, k.anchor) < 0;
                d[g] = new W(l ? j : i, l ? i : j)
            } else d[g] = new W(i, i)
        }
        return new V(d, a.sel.primIndex)
    }

    function fd(a, b, c) {
        var d = {
            canceled: !1, from: b.from, to: b.to, text: b.text, origin: b.origin, cancel: function () {
                this.canceled = !0
            }
        };
        return c && (d.update = function (b, c, d, e) {
            b && (this.from = $(a, b)), c && (this.to = $(a, c)), d && (this.text = d), void 0 !== e && (this.origin = e)
        }), kh(a, "beforeChange", a, d), a.cm && kh(a.cm, "beforeChange", a.cm, d), d.canceled ? null : {
            from: d.from,
            to: d.to,
            text: d.text,
            origin: d.origin
        }
    }

    function gd(a, b, c) {
        if (a.cm) {
            if (!a.cm.curOp)return ic(a.cm, gd)(a, b, c);
            if (a.cm.state.suppressEdits)return
        }
        if (!(hf(a, "beforeChange") || a.cm && hf(a.cm, "beforeChange")) || (b = fd(a, b, !0))) {
            var d = pg && !c && Qd(a, b.from, b.to);
            if (d)for (var e = d.length - 1; e >= 0; --e)hd(a, {
                from: d[e].from,
                to: d[e].to,
                text: e ? [""] : b.text
            }); else hd(a, b)
        }
    }

    function hd(a, b) {
        if (1 != b.text.length || "" != b.text[0] || 0 != sg(b.from, b.to)) {
            var c = cd(a, b);
            Re(a, b, c, a.cm ? a.cm.curOp.id : 0 / 0), kd(a, b, c, Nd(a, b));
            var d = [];
            De(a, function (a, c) {
                c || -1 != of(d, a.history) || (_e(a.history, b), d.push(a.history)), kd(a, b, null, Nd(a, b))
            })
        }
    }

    function id(a, b, c) {
        if (!a.cm || !a.cm.state.suppressEdits) {
            for (var d, e = a.history, f = a.sel, g = "undo" == b ? e.done : e.undone, h = "undo" == b ? e.undone : e.done, i = 0; i < g.length && (d = g[i], c ? !d.ranges || d.equals(a.sel) : d.ranges); i++);
            if (i != g.length) {
                for (e.lastOrigin = e.lastSelOrigin = null; d = g.pop(), d.ranges;) {
                    if (Ue(d, h), c && !d.equals(a.sel))return void jb(a, d, {clearRedo: !1});
                    f = d
                }
                var j = [];
                Ue(f, h), h.push({
                    changes: j,
                    generation: e.generation
                }), e.generation = d.generation || ++e.maxGeneration;
                for (var k = hf(a, "beforeChange") || a.cm && hf(a.cm, "beforeChange"), i = d.changes.length - 1; i >= 0; --i) {
                    var l = d.changes[i];
                    if (l.origin = b, k && !fd(a, l, !1))return void(g.length = 0);
                    j.push(Oe(a, l));
                    var m = i ? cd(a, l) : nf(g);
                    kd(a, l, m, Pd(a, l)), !i && a.cm && a.cm.scrollIntoView({from: l.from, to: Fg(l)});
                    var n = [];
                    De(a, function (a, b) {
                        b || -1 != of(n, a.history) || (_e(a.history, l), n.push(a.history)), kd(a, l, null, Pd(a, l))
                    })
                }
            }
        }
    }

    function jd(a, b) {
        if (0 != b && (a.first += b, a.sel = new V(pf(a.sel.ranges, function (a) {
                return new W(rg(a.anchor.line + b, a.anchor.ch), rg(a.head.line + b, a.head.ch))
            }), a.sel.primIndex), a.cm)) {
            nc(a.cm, a.first, a.first - b, b);
            for (var c = a.cm.display, d = c.viewFrom; d < c.viewTo; d++)oc(a.cm, d, "gutter")
        }
    }

    function kd(a, b, c, d) {
        if (a.cm && !a.cm.curOp)return ic(a.cm, kd)(a, b, c, d);
        if (b.to.line < a.first)return void jd(a, b.text.length - 1 - (b.to.line - b.from.line));
        if (!(b.from.line > a.lastLine())) {
            if (b.from.line < a.first) {
                var e = b.text.length - 1 - (a.first - b.from.line);
                jd(a, e), b = {
                    from: rg(a.first, 0),
                    to: rg(b.to.line + e, b.to.ch),
                    text: [nf(b.text)],
                    origin: b.origin
                }
            }
            var f = a.lastLine();
            b.to.line > f && (b = {
                from: b.from,
                to: rg(f, Fe(a, f).text.length),
                text: [b.text[0]],
                origin: b.origin
            }), b.removed = Ge(a, b.from, b.to), c || (c = cd(a, b)), a.cm ? ld(a.cm, b, d) : Ae(a, b, d), kb(a, c, oh)
        }
    }

    function ld(a, b, c) {
        var d = a.doc, e = a.display, g = b.from, h = b.to, i = !1, j = g.line;
        a.options.lineWrapping || (j = Je($d(Fe(d, g.line))), d.iter(j, h.line + 1, function (a) {
            return a == e.maxLine ? (i = !0, !0) : void 0
        })), d.sel.contains(b.from, b.to) > -1 && gf(a), Ae(d, b, c, f(a)), a.options.lineWrapping || (d.iter(j, g.line + b.text.length, function (a) {
            var b = l(a);
            b > e.maxLineLength && (e.maxLine = a, e.maxLineLength = b, e.maxLineChanged = !0, i = !1)
        }), i && (a.curOp.updateMaxLine = !0)), d.frontier = Math.min(d.frontier, g.line), vb(a, 400);
        var k = b.text.length - (h.line - g.line) - 1;
        g.line != h.line || 1 != b.text.length || ze(a.doc, b) ? nc(a, g.line, h.line + 1, k) : oc(a, g.line, "text");
        var m = hf(a, "changes"), n = hf(a, "change");
        if (n || m) {
            var o = {from: g, to: h, text: b.text, removed: b.removed, origin: b.origin};
            n && df(a, "change", a, o), m && (a.curOp.changeObjs || (a.curOp.changeObjs = [])).push(o)
        }
        a.display.selForContextMenu = null
    }

    function md(a, b, c, d, e) {
        if (d || (d = c), sg(d, c) < 0) {
            var f = d;
            d = c, c = f
        }
        "string" == typeof b && (b = Fh(b)), gd(a, {from: c, to: d, text: b, origin: e})
    }

    function nd(a, b) {
        if (!ff(a, "scrollCursorIntoView")) {
            var c = a.display, d = c.sizer.getBoundingClientRect(), e = null;
            if (b.top + d.top < 0 ? e = !0 : b.bottom + d.top > (window.innerHeight || document.documentElement.clientHeight) && (e = !1), null != e && !hg) {
                var f = wf("div", "​", null, "position: absolute; top: " + (b.top - c.viewOffset - zb(a.display)) + "px; height: " + (b.bottom - b.top + mh) + "px; left: " + b.left + "px; width: 2px;");
                a.display.lineSpace.appendChild(f), f.scrollIntoView(e), a.display.lineSpace.removeChild(f)
            }
        }
    }

    function od(a, b, c, d) {
        null == d && (d = 0);
        for (var e = 0; 5 > e; e++) {
            var f = !1, g = Tb(a, b), h = c && c != b ? Tb(a, c) : g, i = qd(a, Math.min(g.left, h.left), Math.min(g.top, h.top) - d, Math.max(g.left, h.left), Math.max(g.bottom, h.bottom) + d), j = a.doc.scrollTop, k = a.doc.scrollLeft;
            if (null != i.scrollTop && (Nc(a, i.scrollTop), Math.abs(a.doc.scrollTop - j) > 1 && (f = !0)), null != i.scrollLeft && (Oc(a, i.scrollLeft), Math.abs(a.doc.scrollLeft - k) > 1 && (f = !0)), !f)return g
        }
    }

    function pd(a, b, c, d, e) {
        var f = qd(a, b, c, d, e);
        null != f.scrollTop && Nc(a, f.scrollTop), null != f.scrollLeft && Oc(a, f.scrollLeft)
    }

    function qd(a, b, c, d, e) {
        var f = a.display, g = Yb(a.display);
        0 > c && (c = 0);
        var h = a.curOp && null != a.curOp.scrollTop ? a.curOp.scrollTop : f.scroller.scrollTop, i = f.scroller.clientHeight - mh, j = {};
        e - c > i && (e = c + i);
        var k = a.doc.height + Ab(f), l = g > c, m = e > k - g;
        if (h > c)j.scrollTop = l ? 0 : c; else if (e > h + i) {
            var n = Math.min(c, (m ? k : e) - i);
            n != h && (j.scrollTop = n)
        }
        var o = a.curOp && null != a.curOp.scrollLeft ? a.curOp.scrollLeft : f.scroller.scrollLeft, p = f.scroller.clientWidth - mh - f.gutters.offsetWidth, q = d - b > p;
        return q && (d = b + p), 10 > b ? j.scrollLeft = 0 : o > b ? j.scrollLeft = Math.max(0, b - (q ? 0 : 10)) : d > p + o - 3 && (j.scrollLeft = d + (q ? 0 : 10) - p), j
    }

    function rd(a, b, c) {
        (null != b || null != c) && td(a), null != b && (a.curOp.scrollLeft = (null == a.curOp.scrollLeft ? a.doc.scrollLeft : a.curOp.scrollLeft) + b), null != c && (a.curOp.scrollTop = (null == a.curOp.scrollTop ? a.doc.scrollTop : a.curOp.scrollTop) + c)
    }

    function sd(a) {
        td(a);
        var b = a.getCursor(), c = b, d = b;
        a.options.lineWrapping || (c = b.ch ? rg(b.line, b.ch - 1) : b, d = rg(b.line, b.ch + 1)), a.curOp.scrollToPos = {
            from: c,
            to: d,
            margin: a.options.cursorScrollMargin,
            isCursor: !0
        }
    }

    function td(a) {
        var b = a.curOp.scrollToPos;
        if (b) {
            a.curOp.scrollToPos = null;
            var c = Ub(a, b.from), d = Ub(a, b.to), e = qd(a, Math.min(c.left, d.left), Math.min(c.top, d.top) - b.margin, Math.max(c.right, d.right), Math.max(c.bottom, d.bottom) + b.margin);
            a.scrollTo(e.scrollLeft, e.scrollTop)
        }
    }

    function ud(a, b, c, d) {
        var e, f = a.doc;
        null == c && (c = "add"), "smart" == c && (f.mode.indent ? e = yb(a, b) : c = "prev");
        var g = a.options.tabSize, h = Fe(f, b), i = rh(h.text, null, g);
        h.stateAfter && (h.stateAfter = null);
        var j, k = h.text.match(/^\s*/)[0];
        if (d || /\S/.test(h.text)) {
            if ("smart" == c && (j = f.mode.indent(e, h.text.slice(k.length), h.text), j == nh || j > 150)) {
                if (!d)return;
                c = "prev"
            }
        } else j = 0, c = "not";
        "prev" == c ? j = b > f.first ? rh(Fe(f, b - 1).text, null, g) : 0 : "add" == c ? j = i + a.options.indentUnit : "subtract" == c ? j = i - a.options.indentUnit : "number" == typeof c && (j = i + c), j = Math.max(0, j);
        var l = "", m = 0;
        if (a.options.indentWithTabs)for (var n = Math.floor(j / g); n; --n)m += g, l += "	";
        if (j > m && (l += mf(j - m)), l != k)md(f, l, rg(b, 0), rg(b, k.length), "+input"); else for (var n = 0; n < f.sel.ranges.length; n++) {
            var o = f.sel.ranges[n];
            if (o.head.line == b && o.head.ch < k.length) {
                var m = rg(b, k.length);
                fb(f, n, new W(m, m));
                break
            }
        }
        h.stateAfter = null
    }

    function vd(a, b, c, d) {
        var e = b, f = b;
        return "number" == typeof b ? f = Fe(a, Z(a, b)) : e = Je(b), null == e ? null : (d(f, e) && a.cm && oc(a.cm, e, c), f)
    }

    function wd(a, b) {
        for (var c = a.doc.sel.ranges, d = [], e = 0; e < c.length; e++) {
            for (var f = b(c[e]); d.length && sg(f.from, nf(d).to) <= 0;) {
                var g = d.pop();
                if (sg(g.from, f.from) < 0) {
                    f.from = g.from;
                    break
                }
            }
            d.push(f)
        }
        hc(a, function () {
            for (var b = d.length - 1; b >= 0; b--)md(a.doc, "", d[b].from, d[b].to, "+delete");
            sd(a)
        })
    }

    function xd(a, b, c, d, e) {
        function f() {
            var b = h + c;
            return b < a.first || b >= a.first + a.size ? l = !1 : (h = b, k = Fe(a, b))
        }

        function g(a) {
            var b = (e ? Vf : Wf)(k, i, c, !0);
            if (null == b) {
                if (a || !f())return l = !1;
                i = e ? (0 > c ? Of : Nf)(k) : 0 > c ? k.text.length : 0
            } else i = b;
            return !0
        }

        var h = b.line, i = b.ch, j = c, k = Fe(a, h), l = !0;
        if ("char" == d)g(); else if ("column" == d)g(!0); else if ("word" == d || "group" == d)for (var m = null, n = "group" == d, o = a.cm && a.cm.getHelper(b, "wordChars"), p = !0; !(0 > c) || g(!p); p = !1) {
            var q = k.text.charAt(i) || "\n", r = tf(q, o) ? "w" : n && "\n" == q ? "n" : !n || /\s/.test(q) ? null : "p";
            if (!n || p || r || (r = "s"), m && m != r) {
                0 > c && (c = 1, g());
                break
            }
            if (r && (m = r), c > 0 && !g(!p))break
        }
        var s = ob(a, rg(h, i), j, !0);
        return l || (s.hitSide = !0), s
    }

    function yd(a, b, c, d) {
        var e, f = a.doc, g = b.left;
        if ("page" == d) {
            var h = Math.min(a.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);
            e = b.top + c * (h - (0 > c ? 1.5 : .5) * Yb(a.display))
        } else"line" == d && (e = c > 0 ? b.bottom + 3 : b.top - 3);
        for (; ;) {
            var i = Wb(a, g, e);
            if (!i.outside)break;
            if (0 > c ? 0 >= e : e >= f.height) {
                i.hitSide = !0;
                break
            }
            e += 5 * c
        }
        return i
    }

    function zd(b, c, d, e) {
        a.defaults[b] = c, d && (Hg[b] = e ? function (a, b, c) {
            c != Ig && d(a, b, c)
        } : d)
    }

    function Ad(a) {
        for (var b, c, d, e, f = a.split(/-(?!$)/), a = f[f.length - 1], g = 0; g < f.length - 1; g++) {
            var h = f[g];
            if (/^(cmd|meta|m)$/i.test(h))e = !0; else if (/^a(lt)?$/i.test(h))b = !0; else if (/^(c|ctrl|control)$/i.test(h))c = !0; else {
                if (!/^s(hift)$/i.test(h))throw new Error("Unrecognized modifier name: " + h);
                d = !0
            }
        }
        return b && (a = "Alt-" + a), c && (a = "Ctrl-" + a), e && (a = "Cmd-" + a), d && (a = "Shift-" + a), a
    }

    function Bd(a) {
        return "string" == typeof a ? Rg[a] : a
    }

    function Cd(a, b, c, d, e) {
        if (d && d.shared)return Dd(a, b, c, d, e);
        if (a.cm && !a.cm.curOp)return ic(a.cm, Cd)(a, b, c, d, e);
        var f = new Wg(a, e), g = sg(b, c);
        if (d && rf(d, f, !1), g > 0 || 0 == g && f.clearWhenEmpty !== !1)return f;
        if (f.replacedWith && (f.collapsed = !0, f.widgetNode = wf("span", [f.replacedWith], "CodeMirror-widget"), d.handleMouseEvents || (f.widgetNode.ignoreEvents = !0), d.insertLeft && (f.widgetNode.insertLeft = !0)), f.collapsed) {
            if (Zd(a, b.line, b, c, f) || b.line != c.line && Zd(a, c.line, b, c, f))throw new Error("Inserting collapsed marker partially overlapping an existing one");
            qg = !0
        }
        f.addToHistory && Re(a, {from: b, to: c, origin: "markText"}, a.sel, 0 / 0);
        var h, i = b.line, j = a.cm;
        if (a.iter(i, c.line + 1, function (a) {
                j && f.collapsed && !j.options.lineWrapping && $d(a) == j.display.maxLine && (h = !0), f.collapsed && i != b.line && Ie(a, 0), Kd(a, new Hd(f, i == b.line ? b.ch : null, i == c.line ? c.ch : null)), ++i
            }), f.collapsed && a.iter(b.line, c.line + 1, function (b) {
                ce(a, b) && Ie(b, 0)
            }), f.clearOnEnter && ih(f, "beforeCursorEnter", function () {
                f.clear()
            }), f.readOnly && (pg = !0, (a.history.done.length || a.history.undone.length) && a.clearHistory()), f.collapsed && (f.id = ++Xg, f.atomic = !0), j) {
            if (h && (j.curOp.updateMaxLine = !0), f.collapsed)nc(j, b.line, c.line + 1); else if (f.className || f.title || f.startStyle || f.endStyle)for (var k = b.line; k <= c.line; k++)oc(j, k, "text");
            f.atomic && mb(j.doc), df(j, "markerAdded", j, f)
        }
        return f
    }

    function Dd(a, b, c, d, e) {
        d = rf(d), d.shared = !1;
        var f = [Cd(a, b, c, d, e)], g = f[0], h = d.widgetNode;
        return De(a, function (a) {
            h && (d.widgetNode = h.cloneNode(!0)), f.push(Cd(a, $(a, b), $(a, c), d, e));
            for (var i = 0; i < a.linked.length; ++i)if (a.linked[i].isParent)return;
            g = nf(f)
        }), new Yg(f, g)
    }

    function Ed(a) {
        return a.findMarks(rg(a.first, 0), a.clipPos(rg(a.lastLine())), function (a) {
            return a.parent
        })
    }

    function Fd(a, b) {
        for (var c = 0; c < b.length; c++) {
            var d = b[c], e = d.find(), f = a.clipPos(e.from), g = a.clipPos(e.to);
            if (sg(f, g)) {
                var h = Cd(a, f, g, d.primary, d.primary.type);
                d.markers.push(h), h.parent = d
            }
        }
    }

    function Gd(a) {
        for (var b = 0; b < a.length; b++) {
            var c = a[b], d = [c.primary.doc];
            De(c.primary.doc, function (a) {
                d.push(a)
            });
            for (var e = 0; e < c.markers.length; e++) {
                var f = c.markers[e];
                -1 == of(d, f.doc) && (f.parent = null, c.markers.splice(e--, 1))
            }
        }
    }

    function Hd(a, b, c) {
        this.marker = a, this.from = b, this.to = c
    }

    function Id(a, b) {
        if (a)for (var c = 0; c < a.length; ++c) {
            var d = a[c];
            if (d.marker == b)return d
        }
    }

    function Jd(a, b) {
        for (var c, d = 0; d < a.length; ++d)a[d] != b && (c || (c = [])).push(a[d]);
        return c
    }

    function Kd(a, b) {
        a.markedSpans = a.markedSpans ? a.markedSpans.concat([b]) : [b], b.marker.attachLine(a)
    }

    function Ld(a, b, c) {
        if (a)for (var d, e = 0; e < a.length; ++e) {
            var f = a[e], g = f.marker, h = null == f.from || (g.inclusiveLeft ? f.from <= b : f.from < b);
            if (h || f.from == b && "bookmark" == g.type && (!c || !f.marker.insertLeft)) {
                var i = null == f.to || (g.inclusiveRight ? f.to >= b : f.to > b);
                (d || (d = [])).push(new Hd(g, f.from, i ? null : f.to))
            }
        }
        return d
    }

    function Md(a, b, c) {
        if (a)for (var d, e = 0; e < a.length; ++e) {
            var f = a[e], g = f.marker, h = null == f.to || (g.inclusiveRight ? f.to >= b : f.to > b);
            if (h || f.from == b && "bookmark" == g.type && (!c || f.marker.insertLeft)) {
                var i = null == f.from || (g.inclusiveLeft ? f.from <= b : f.from < b);
                (d || (d = [])).push(new Hd(g, i ? null : f.from - b, null == f.to ? null : f.to - b))
            }
        }
        return d
    }

    function Nd(a, b) {
        var c = ab(a, b.from.line) && Fe(a, b.from.line).markedSpans, d = ab(a, b.to.line) && Fe(a, b.to.line).markedSpans;
        if (!c && !d)return null;
        var e = b.from.ch, f = b.to.ch, g = 0 == sg(b.from, b.to), h = Ld(c, e, g), i = Md(d, f, g), j = 1 == b.text.length, k = nf(b.text).length + (j ? e : 0);
        if (h)for (var l = 0; l < h.length; ++l) {
            var m = h[l];
            if (null == m.to) {
                var n = Id(i, m.marker);
                n ? j && (m.to = null == n.to ? null : n.to + k) : m.to = e
            }
        }
        if (i)for (var l = 0; l < i.length; ++l) {
            var m = i[l];
            if (null != m.to && (m.to += k), null == m.from) {
                var n = Id(h, m.marker);
                n || (m.from = k, j && (h || (h = [])).push(m))
            } else m.from += k, j && (h || (h = [])).push(m)
        }
        h && (h = Od(h)), i && i != h && (i = Od(i));
        var o = [h];
        if (!j) {
            var p, q = b.text.length - 2;
            if (q > 0 && h)for (var l = 0; l < h.length; ++l)null == h[l].to && (p || (p = [])).push(new Hd(h[l].marker, null, null));
            for (var l = 0; q > l; ++l)o.push(p);
            o.push(i)
        }
        return o
    }

    function Od(a) {
        for (var b = 0; b < a.length; ++b) {
            var c = a[b];
            null != c.from && c.from == c.to && c.marker.clearWhenEmpty !== !1 && a.splice(b--, 1)
        }
        return a.length ? a : null
    }

    function Pd(a, b) {
        var c = Xe(a, b), d = Nd(a, b);
        if (!c)return d;
        if (!d)return c;
        for (var e = 0; e < c.length; ++e) {
            var f = c[e], g = d[e];
            if (f && g)a:for (var h = 0; h < g.length; ++h) {
                for (var i = g[h], j = 0; j < f.length; ++j)if (f[j].marker == i.marker)continue a;
                f.push(i)
            } else g && (c[e] = g)
        }
        return c
    }

    function Qd(a, b, c) {
        var d = null;
        if (a.iter(b.line, c.line + 1, function (a) {
                if (a.markedSpans)for (var b = 0; b < a.markedSpans.length; ++b) {
                    var c = a.markedSpans[b].marker;
                    !c.readOnly || d && -1 != of(d, c) || (d || (d = [])).push(c)
                }
            }), !d)return null;
        for (var e = [{
            from: b,
            to: c
        }], f = 0; f < d.length; ++f)for (var g = d[f], h = g.find(0), i = 0; i < e.length; ++i) {
            var j = e[i];
            if (!(sg(j.to, h.from) < 0 || sg(j.from, h.to) > 0)) {
                var k = [i, 1], l = sg(j.from, h.from), m = sg(j.to, h.to);
                (0 > l || !g.inclusiveLeft && !l) && k.push({
                    from: j.from,
                    to: h.from
                }), (m > 0 || !g.inclusiveRight && !m) && k.push({
                    from: h.to,
                    to: j.to
                }), e.splice.apply(e, k), i += k.length - 1
            }
        }
        return e
    }

    function Rd(a) {
        var b = a.markedSpans;
        if (b) {
            for (var c = 0; c < b.length; ++c)b[c].marker.detachLine(a);
            a.markedSpans = null
        }
    }

    function Sd(a, b) {
        if (b) {
            for (var c = 0; c < b.length; ++c)b[c].marker.attachLine(a);
            a.markedSpans = b
        }
    }

    function Td(a) {
        return a.inclusiveLeft ? -1 : 0
    }

    function Ud(a) {
        return a.inclusiveRight ? 1 : 0
    }

    function Vd(a, b) {
        var c = a.lines.length - b.lines.length;
        if (0 != c)return c;
        var d = a.find(), e = b.find(), f = sg(d.from, e.from) || Td(a) - Td(b);
        if (f)return -f;
        var g = sg(d.to, e.to) || Ud(a) - Ud(b);
        return g ? g : b.id - a.id
    }

    function Wd(a, b) {
        var c, d = qg && a.markedSpans;
        if (d)for (var e, f = 0; f < d.length; ++f)e = d[f], e.marker.collapsed && null == (b ? e.from : e.to) && (!c || Vd(c, e.marker) < 0) && (c = e.marker);
        return c
    }

    function Xd(a) {
        return Wd(a, !0)
    }

    function Yd(a) {
        return Wd(a, !1)
    }

    function Zd(a, b, c, d, e) {
        var f = Fe(a, b), g = qg && f.markedSpans;
        if (g)for (var h = 0; h < g.length; ++h) {
            var i = g[h];
            if (i.marker.collapsed) {
                var j = i.marker.find(0), k = sg(j.from, c) || Td(i.marker) - Td(e), l = sg(j.to, d) || Ud(i.marker) - Ud(e);
                if (!(k >= 0 && 0 >= l || 0 >= k && l >= 0) && (0 >= k && (sg(j.to, c) > 0 || i.marker.inclusiveRight && e.inclusiveLeft) || k >= 0 && (sg(j.from, d) < 0 || i.marker.inclusiveLeft && e.inclusiveRight)))return !0
            }
        }
    }

    function $d(a) {
        for (var b; b = Xd(a);)a = b.find(-1, !0).line;
        return a
    }

    function _d(a) {
        for (var b, c; b = Yd(a);)a = b.find(1, !0).line, (c || (c = [])).push(a);
        return c
    }

    function ae(a, b) {
        var c = Fe(a, b), d = $d(c);
        return c == d ? b : Je(d)
    }

    function be(a, b) {
        if (b > a.lastLine())return b;
        var c, d = Fe(a, b);
        if (!ce(a, d))return b;
        for (; c = Yd(d);)d = c.find(1, !0).line;
        return Je(d) + 1
    }

    function ce(a, b) {
        var c = qg && b.markedSpans;
        if (c)for (var d, e = 0; e < c.length; ++e)if (d = c[e], d.marker.collapsed) {
            if (null == d.from)return !0;
            if (!d.marker.widgetNode && 0 == d.from && d.marker.inclusiveLeft && de(a, b, d))return !0
        }
    }

    function de(a, b, c) {
        if (null == c.to) {
            var d = c.marker.find(1, !0);
            return de(a, d.line, Id(d.line.markedSpans, c.marker))
        }
        if (c.marker.inclusiveRight && c.to == b.text.length)return !0;
        for (var e, f = 0; f < b.markedSpans.length; ++f)if (e = b.markedSpans[f], e.marker.collapsed && !e.marker.widgetNode && e.from == c.to && (null == e.to || e.to != c.from) && (e.marker.inclusiveLeft || c.marker.inclusiveRight) && de(a, b, e))return !0
    }

    function ee(a, b, c) {
        Le(b) < (a.curOp && a.curOp.scrollTop || a.doc.scrollTop) && rd(a, null, c)
    }

    function fe(a) {
        if (null != a.height)return a.height;
        if (!zf(document.body, a.node)) {
            var b = "position: relative;";
            a.coverGutter && (b += "margin-left: -" + a.cm.getGutterElement().offsetWidth + "px;"), yf(a.cm.display.measure, wf("div", [a.node], null, b))
        }
        return a.height = a.node.offsetHeight
    }

    function ge(a, b, c, d) {
        var e = new Zg(a, c, d);
        return e.noHScroll && (a.display.alignWidgets = !0), vd(a.doc, b, "widget", function (b) {
            var c = b.widgets || (b.widgets = []);
            if (null == e.insertAt ? c.push(e) : c.splice(Math.min(c.length - 1, Math.max(0, e.insertAt)), 0, e), e.line = b, !ce(a.doc, b)) {
                var d = Le(b) < a.doc.scrollTop;
                Ie(b, b.height + fe(e)), d && rd(a, null, e.height), a.curOp.forceUpdate = !0
            }
            return !0
        }), e
    }

    function he(a, b, c, d) {
        a.text = b, a.stateAfter && (a.stateAfter = null), a.styles && (a.styles = null), null != a.order && (a.order = null), Rd(a), Sd(a, c);
        var e = d ? d(a) : 1;
        e != a.height && Ie(a, e)
    }

    function ie(a) {
        a.parent = null, Rd(a)
    }

    function je(a, b) {
        if (a)for (; ;) {
            var c = a.match(/(?:^|\s+)line-(background-)?(\S+)/);
            if (!c)break;
            a = a.slice(0, c.index) + a.slice(c.index + c[0].length);
            var d = c[1] ? "bgClass" : "textClass";
            null == b[d] ? b[d] = c[2] : new RegExp("(?:^|s)" + c[2] + "(?:$|s)").test(b[d]) || (b[d] += " " + c[2])
        }
        return a
    }

    function ke(b, c) {
        if (b.blankLine)return b.blankLine(c);
        if (b.innerMode) {
            var d = a.innerMode(b, c);
            return d.mode.blankLine ? d.mode.blankLine(d.state) : void 0
        }
    }

    function le(b, c, d, e) {
        for (var f = 0; 10 > f; f++) {
            e && (e[0] = a.innerMode(b, d).mode);
            var g = b.token(c, d);
            if (c.pos > c.start)return g
        }
        throw new Error("Mode " + b.name + " failed to advance stream.")
    }

    function me(a, b, c, d) {
        function e(a) {
            return {start: l.start, end: l.pos, string: l.current(), type: f || null, state: a ? Og(g.mode, k) : k}
        }

        var f, g = a.doc, h = g.mode;
        b = $(g, b);
        var i, j = Fe(g, b.line), k = yb(a, b.line, c), l = new Vg(j.text, a.options.tabSize);
        for (d && (i = []); (d || l.pos < b.ch) && !l.eol();)l.start = l.pos, f = le(h, l, k), d && i.push(e(!0));
        return d ? i : e()
    }

    function ne(a, b, c, d, e, f, g) {
        var h = c.flattenSpans;
        null == h && (h = a.options.flattenSpans);
        var i, j = 0, k = null, l = new Vg(b, a.options.tabSize), m = a.options.addModeClass && [null];
        for ("" == b && je(ke(c, d), f); !l.eol();) {
            if (l.pos > a.options.maxHighlightLength ? (h = !1, g && qe(a, b, d, l.pos), l.pos = b.length, i = null) : i = je(le(c, l, d, m), f), m) {
                var n = m[0].name;
                n && (i = "m-" + (i ? n + " " + i : n))
            }
            h && k == i || (j < l.start && e(l.start, k), j = l.start, k = i), l.start = l.pos
        }
        for (; j < l.pos;) {
            var o = Math.min(l.pos, j + 5e4);
            e(o, k), j = o
        }
    }

    function oe(a, b, c, d) {
        var e = [a.state.modeGen], f = {};
        ne(a, b.text, a.doc.mode, c, function (a, b) {
            e.push(a, b)
        }, f, d);
        for (var g = 0; g < a.state.overlays.length; ++g) {
            var h = a.state.overlays[g], i = 1, j = 0;
            ne(a, b.text, h.mode, !0, function (a, b) {
                for (var c = i; a > j;) {
                    var d = e[i];
                    d > a && e.splice(i, 1, a, e[i + 1], d), i += 2, j = Math.min(a, d)
                }
                if (b)if (h.opaque)e.splice(c, i - c, a, "cm-overlay " + b), i = c + 2; else for (; i > c; c += 2) {
                    var f = e[c + 1];
                    e[c + 1] = (f ? f + " " : "") + "cm-overlay " + b
                }
            }, f)
        }
        return {styles: e, classes: f.bgClass || f.textClass ? f : null}
    }

    function pe(a, b, c) {
        if (!b.styles || b.styles[0] != a.state.modeGen) {
            var d = oe(a, b, b.stateAfter = yb(a, Je(b)));
            b.styles = d.styles, d.classes ? b.styleClasses = d.classes : b.styleClasses && (b.styleClasses = null), c === a.doc.frontier && a.doc.frontier++
        }
        return b.styles
    }

    function qe(a, b, c, d) {
        var e = a.doc.mode, f = new Vg(b, a.options.tabSize);
        for (f.start = f.pos = d || 0, "" == b && ke(e, c); !f.eol() && f.pos <= a.options.maxHighlightLength;)le(e, f, c), f.start = f.pos
    }

    function re(a, b) {
        if (!a || /^\s*$/.test(a))return null;
        var c = b.addModeClass ? ah : _g;
        return c[a] || (c[a] = a.replace(/\S+/g, "cm-$&"))
    }

    function se(a, b) {
        var c = wf("span", null, null, ag ? "padding-right: .1px" : null), d = {
            pre: wf("pre", [c]),
            content: c,
            col: 0,
            pos: 0,
            cm: a
        };
        b.measure = {};
        for (var e = 0; e <= (b.rest ? b.rest.length : 0); e++) {
            var f, g = e ? b.rest[e - 1] : b.line;
            d.pos = 0, d.addToken = ue, ($f || ag) && a.getOption("lineWrapping") && (d.addToken = ve(d.addToken)), If(a.display.measure) && (f = Me(g)) && (d.addToken = we(d.addToken, f)), d.map = [];
            var h = b != a.display.externalMeasured && Je(g);
            ye(g, d, pe(a, g, h)), g.styleClasses && (g.styleClasses.bgClass && (d.bgClass = Cf(g.styleClasses.bgClass, d.bgClass || "")), g.styleClasses.textClass && (d.textClass = Cf(g.styleClasses.textClass, d.textClass || ""))), 0 == d.map.length && d.map.push(0, 0, d.content.appendChild(Hf(a.display.measure))), 0 == e ? (b.measure.map = d.map, b.measure.cache = {}) : ((b.measure.maps || (b.measure.maps = [])).push(d.map), (b.measure.caches || (b.measure.caches = [])).push({}))
        }
        return ag && /\bcm-tab\b/.test(d.content.lastChild.className) && (d.content.className = "cm-tab-wrap-hack"), kh(a, "renderLine", a, b.line, d.pre), d.pre.className && (d.textClass = Cf(d.pre.className, d.textClass || "")), d
    }

    function te(a) {
        var b = wf("span", "•", "cm-invalidchar");
        return b.title = "\\u" + a.charCodeAt(0).toString(16), b
    }

    function ue(a, b, c, d, e, f) {
        if (b) {
            var g = a.cm.options.specialChars, h = !1;
            if (g.test(b))for (var i = document.createDocumentFragment(), j = 0; ;) {
                g.lastIndex = j;
                var k = g.exec(b), l = k ? k.index - j : b.length - j;
                if (l) {
                    var m = document.createTextNode(b.slice(j, j + l));
                    i.appendChild($f && 9 > _f ? wf("span", [m]) : m), a.map.push(a.pos, a.pos + l, m), a.col += l, a.pos += l
                }
                if (!k)break;
                if (j += l + 1, "	" == k[0]) {
                    var n = a.cm.options.tabSize, o = n - a.col % n, m = i.appendChild(wf("span", mf(o), "cm-tab"));
                    a.col += o
                } else {
                    var m = a.cm.options.specialCharPlaceholder(k[0]);
                    i.appendChild($f && 9 > _f ? wf("span", [m]) : m), a.col += 1
                }
                a.map.push(a.pos, a.pos + 1, m), a.pos++
            } else {
                a.col += b.length;
                var i = document.createTextNode(b);
                a.map.push(a.pos, a.pos + b.length, i), $f && 9 > _f && (h = !0), a.pos += b.length
            }
            if (c || d || e || h) {
                var p = c || "";
                d && (p += d), e && (p += e);
                var q = wf("span", [i], p);
                return f && (q.title = f), a.content.appendChild(q)
            }
            a.content.appendChild(i)
        }
    }

    function ve(a) {
        function b(a) {
            for (var b = " ", c = 0; c < a.length - 2; ++c)b += c % 2 ? " " : " ";
            return b += " "
        }

        return function (c, d, e, f, g, h) {
            a(c, d.replace(/ {3,}/g, b), e, f, g, h)
        }
    }

    function we(a, b) {
        return function (c, d, e, f, g, h) {
            e = e ? e + " cm-force-border" : "cm-force-border";
            for (var i = c.pos, j = i + d.length; ;) {
                for (var k = 0; k < b.length; k++) {
                    var l = b[k];
                    if (l.to > i && l.from <= i)break
                }
                if (l.to >= j)return a(c, d, e, f, g, h);
                a(c, d.slice(0, l.to - i), e, f, null, h), f = null, d = d.slice(l.to - i), i = l.to
            }
        }
    }

    function xe(a, b, c, d) {
        var e = !d && c.widgetNode;
        e && (a.map.push(a.pos, a.pos + b, e), a.content.appendChild(e)), a.pos += b
    }

    function ye(a, b, c) {
        var d = a.markedSpans, e = a.text, f = 0;
        if (d)for (var g, h, i, j, k, l, m = e.length, n = 0, o = 1, p = "", q = 0; ;) {
            if (q == n) {
                h = i = j = k = "", l = null, q = 1 / 0;
                for (var r = [], s = 0; s < d.length; ++s) {
                    var t = d[s], u = t.marker;
                    t.from <= n && (null == t.to || t.to > n) ? (null != t.to && q > t.to && (q = t.to, i = ""), u.className && (h += " " + u.className), u.startStyle && t.from == n && (j += " " + u.startStyle), u.endStyle && t.to == q && (i += " " + u.endStyle), u.title && !k && (k = u.title), u.collapsed && (!l || Vd(l.marker, u) < 0) && (l = t)) : t.from > n && q > t.from && (q = t.from), "bookmark" == u.type && t.from == n && u.widgetNode && r.push(u)
                }
                if (l && (l.from || 0) == n && (xe(b, (null == l.to ? m + 1 : l.to) - n, l.marker, null == l.from), null == l.to))return;
                if (!l && r.length)for (var s = 0; s < r.length; ++s)xe(b, 0, r[s])
            }
            if (n >= m)break;
            for (var v = Math.min(m, q); ;) {
                if (p) {
                    var w = n + p.length;
                    if (!l) {
                        var x = w > v ? p.slice(0, v - n) : p;
                        b.addToken(b, x, g ? g + h : h, j, n + x.length == q ? i : "", k)
                    }
                    if (w >= v) {
                        p = p.slice(v - n), n = v;
                        break
                    }
                    n = w, j = ""
                }
                p = e.slice(f, f = c[o++]), g = re(c[o++], b.cm.options)
            }
        } else for (var o = 1; o < c.length; o += 2)b.addToken(b, e.slice(f, f = c[o]), re(c[o + 1], b.cm.options))
    }

    function ze(a, b) {
        return 0 == b.from.ch && 0 == b.to.ch && "" == nf(b.text) && (!a.cm || a.cm.options.wholeLineUpdateBefore)
    }

    function Ae(a, b, c, d) {
        function e(a) {
            return c ? c[a] : null
        }

        function f(a, c, e) {
            he(a, c, e, d), df(a, "change", a, b)
        }

        var g = b.from, h = b.to, i = b.text, j = Fe(a, g.line), k = Fe(a, h.line), l = nf(i), m = e(i.length - 1), n = h.line - g.line;
        if (ze(a, b)) {
            for (var o = 0, p = []; o < i.length - 1; ++o)p.push(new $g(i[o], e(o), d));
            f(k, k.text, m), n && a.remove(g.line, n), p.length && a.insert(g.line, p)
        } else if (j == k)if (1 == i.length)f(j, j.text.slice(0, g.ch) + l + j.text.slice(h.ch), m); else {
            for (var p = [], o = 1; o < i.length - 1; ++o)p.push(new $g(i[o], e(o), d));
            p.push(new $g(l + j.text.slice(h.ch), m, d)), f(j, j.text.slice(0, g.ch) + i[0], e(0)), a.insert(g.line + 1, p)
        } else if (1 == i.length)f(j, j.text.slice(0, g.ch) + i[0] + k.text.slice(h.ch), e(0)), a.remove(g.line + 1, n); else {
            f(j, j.text.slice(0, g.ch) + i[0], e(0)), f(k, l + k.text.slice(h.ch), m);
            for (var o = 1, p = []; o < i.length - 1; ++o)p.push(new $g(i[o], e(o), d));
            n > 1 && a.remove(g.line + 1, n - 1), a.insert(g.line + 1, p)
        }
        df(a, "change", a, b)
    }

    function Be(a) {
        this.lines = a, this.parent = null;
        for (var b = 0, c = 0; b < a.length; ++b)a[b].parent = this, c += a[b].height;
        this.height = c
    }

    function Ce(a) {
        this.children = a;
        for (var b = 0, c = 0, d = 0; d < a.length; ++d) {
            var e = a[d];
            b += e.chunkSize(), c += e.height, e.parent = this
        }
        this.size = b, this.height = c, this.parent = null
    }

    function De(a, b, c) {
        function d(a, e, f) {
            if (a.linked)for (var g = 0; g < a.linked.length; ++g) {
                var h = a.linked[g];
                if (h.doc != e) {
                    var i = f && h.sharedHist;
                    (!c || i) && (b(h.doc, i), d(h.doc, a, i))
                }
            }
        }

        d(a, null, !0)
    }

    function Ee(a, b) {
        if (b.cm)throw new Error("This document is already in use.");
        a.doc = b, b.cm = a, g(a), c(a), a.options.lineWrapping || m(a), a.options.mode = b.modeOption, nc(a)
    }

    function Fe(a, b) {
        if (b -= a.first, 0 > b || b >= a.size)throw new Error("There is no line " + (b + a.first) + " in the document.");
        for (var c = a; !c.lines;)for (var d = 0; ; ++d) {
            var e = c.children[d], f = e.chunkSize();
            if (f > b) {
                c = e;
                break
            }
            b -= f
        }
        return c.lines[b]
    }

    function Ge(a, b, c) {
        var d = [], e = b.line;
        return a.iter(b.line, c.line + 1, function (a) {
            var f = a.text;
            e == c.line && (f = f.slice(0, c.ch)), e == b.line && (f = f.slice(b.ch)), d.push(f), ++e
        }), d
    }

    function He(a, b, c) {
        var d = [];
        return a.iter(b, c, function (a) {
            d.push(a.text)
        }), d
    }

    function Ie(a, b) {
        var c = b - a.height;
        if (c)for (var d = a; d; d = d.parent)d.height += c
    }

    function Je(a) {
        if (null == a.parent)return null;
        for (var b = a.parent, c = of(b.lines, a), d = b.parent; d; b = d, d = d.parent)for (var e = 0; d.children[e] != b; ++e)c += d.children[e].chunkSize();
        return c + b.first
    }

    function Ke(a, b) {
        var c = a.first;
        a:do {
            for (var d = 0; d < a.children.length; ++d) {
                var e = a.children[d], f = e.height;
                if (f > b) {
                    a = e;
                    continue a
                }
                b -= f, c += e.chunkSize()
            }
            return c
        } while (!a.lines);
        for (var d = 0; d < a.lines.length; ++d) {
            var g = a.lines[d], h = g.height;
            if (h > b)break;
            b -= h
        }
        return c + d
    }

    function Le(a) {
        a = $d(a);
        for (var b = 0, c = a.parent, d = 0; d < c.lines.length; ++d) {
            var e = c.lines[d];
            if (e == a)break;
            b += e.height
        }
        for (var f = c.parent; f; c = f, f = c.parent)for (var d = 0; d < f.children.length; ++d) {
            var g = f.children[d];
            if (g == c)break;
            b += g.height
        }
        return b
    }

    function Me(a) {
        var b = a.order;
        return null == b && (b = a.order = Lh(a.text)), b
    }

    function Ne(a) {
        this.done = [], this.undone = [], this.undoDepth = 1 / 0, this.lastModTime = this.lastSelTime = 0, this.lastOp = this.lastSelOp = null, this.lastOrigin = this.lastSelOrigin = null, this.generation = this.maxGeneration = a || 1
    }

    function Oe(a, b) {
        var c = {from: S(b.from), to: Fg(b), text: Ge(a, b.from, b.to)};
        return Ve(a, c, b.from.line, b.to.line + 1), De(a, function (a) {
            Ve(a, c, b.from.line, b.to.line + 1)
        }, !0), c
    }

    function Pe(a) {
        for (; a.length;) {
            var b = nf(a);
            if (!b.ranges)break;
            a.pop()
        }
    }

    function Qe(a, b) {
        return b ? (Pe(a.done), nf(a.done)) : a.done.length && !nf(a.done).ranges ? nf(a.done) : a.done.length > 1 && !a.done[a.done.length - 2].ranges ? (a.done.pop(), nf(a.done)) : void 0
    }

    function Re(a, b, c, d) {
        var e = a.history;
        e.undone.length = 0;
        var f, g = +new Date;
        if ((e.lastOp == d || e.lastOrigin == b.origin && b.origin && ("+" == b.origin.charAt(0) && a.cm && e.lastModTime > g - a.cm.options.historyEventDelay || "*" == b.origin.charAt(0))) && (f = Qe(e, e.lastOp == d))) {
            var h = nf(f.changes);
            0 == sg(b.from, b.to) && 0 == sg(b.from, h.to) ? h.to = Fg(b) : f.changes.push(Oe(a, b))
        } else {
            var i = nf(e.done);
            for (i && i.ranges || Ue(a.sel, e.done), f = {
                changes: [Oe(a, b)],
                generation: e.generation
            }, e.done.push(f); e.done.length > e.undoDepth;)e.done.shift(), e.done[0].ranges || e.done.shift()
        }
        e.done.push(c), e.generation = ++e.maxGeneration, e.lastModTime = e.lastSelTime = g, e.lastOp = e.lastSelOp = d, e.lastOrigin = e.lastSelOrigin = b.origin, h || kh(a, "historyAdded")
    }

    function Se(a, b, c, d) {
        var e = b.charAt(0);
        return "*" == e || "+" == e && c.ranges.length == d.ranges.length && c.somethingSelected() == d.somethingSelected() && new Date - a.history.lastSelTime <= (a.cm ? a.cm.options.historyEventDelay : 500)
    }

    function Te(a, b, c, d) {
        var e = a.history, f = d && d.origin;
        c == e.lastSelOp || f && e.lastSelOrigin == f && (e.lastModTime == e.lastSelTime && e.lastOrigin == f || Se(a, f, nf(e.done), b)) ? e.done[e.done.length - 1] = b : Ue(b, e.done), e.lastSelTime = +new Date, e.lastSelOrigin = f, e.lastSelOp = c, d && d.clearRedo !== !1 && Pe(e.undone)
    }

    function Ue(a, b) {
        var c = nf(b);
        c && c.ranges && c.equals(a) || b.push(a)
    }

    function Ve(a, b, c, d) {
        var e = b["spans_" + a.id], f = 0;
        a.iter(Math.max(a.first, c), Math.min(a.first + a.size, d), function (c) {
            c.markedSpans && ((e || (e = b["spans_" + a.id] = {}))[f] = c.markedSpans), ++f
        })
    }

    function We(a) {
        if (!a)return null;
        for (var b, c = 0; c < a.length; ++c)a[c].marker.explicitlyCleared ? b || (b = a.slice(0, c)) : b && b.push(a[c]);
        return b ? b.length ? b : null : a
    }

    function Xe(a, b) {
        var c = b["spans_" + a.id];
        if (!c)return null;
        for (var d = 0, e = []; d < b.text.length; ++d)e.push(We(c[d]));
        return e
    }

    function Ye(a, b, c) {
        for (var d = 0, e = []; d < a.length; ++d) {
            var f = a[d];
            if (f.ranges)e.push(c ? V.prototype.deepCopy.call(f) : f); else {
                var g = f.changes, h = [];
                e.push({changes: h});
                for (var i = 0; i < g.length; ++i) {
                    var j, k = g[i];
                    if (h.push({
                            from: k.from,
                            to: k.to,
                            text: k.text
                        }), b)for (var l in k)(j = l.match(/^spans_(\d+)$/)) && of(b, Number(j[1])) > -1 && (nf(h)[l] = k[l], delete k[l])
                }
            }
        }
        return e
    }

    function Ze(a, b, c, d) {
        c < a.line ? a.line += d : b < a.line && (a.line = b, a.ch = 0)
    }

    function $e(a, b, c, d) {
        for (var e = 0; e < a.length; ++e) {
            var f = a[e], g = !0;
            if (f.ranges) {
                f.copied || (f = a[e] = f.deepCopy(), f.copied = !0);
                for (var h = 0; h < f.ranges.length; h++)Ze(f.ranges[h].anchor, b, c, d), Ze(f.ranges[h].head, b, c, d)
            } else {
                for (var h = 0; h < f.changes.length; ++h) {
                    var i = f.changes[h];
                    if (c < i.from.line)i.from = rg(i.from.line + d, i.from.ch), i.to = rg(i.to.line + d, i.to.ch); else if (b <= i.to.line) {
                        g = !1;
                        break
                    }
                }
                g || (a.splice(0, e + 1), e = 0)
            }
        }
    }

    function _e(a, b) {
        var c = b.from.line, d = b.to.line, e = b.text.length - (d - c) - 1;
        $e(a.done, c, d, e), $e(a.undone, c, d, e)
    }

    function af(a) {
        return null != a.defaultPrevented ? a.defaultPrevented : 0 == a.returnValue
    }

    function bf(a) {
        return a.target || a.srcElement
    }

    function cf(a) {
        var b = a.which;
        return null == b && (1 & a.button ? b = 1 : 2 & a.button ? b = 3 : 4 & a.button && (b = 2)), kg && a.ctrlKey && 1 == b && (b = 3), b
    }

    function df(a, b) {
        function c(a) {
            return function () {
                a.apply(null, f)
            }
        }

        var d = a._handlers && a._handlers[b];
        if (d) {
            var e, f = Array.prototype.slice.call(arguments, 2);
            xg ? e = xg.delayedCallbacks : lh ? e = lh : (e = lh = [], setTimeout(ef, 0));
            for (var g = 0; g < d.length; ++g)e.push(c(d[g]))
        }
    }

    function ef() {
        var a = lh;
        lh = null;
        for (var b = 0; b < a.length; ++b)a[b]()
    }

    function ff(a, b, c) {
        return "string" == typeof b && (b = {
            type: b, preventDefault: function () {
                this.defaultPrevented = !0
            }
        }), kh(a, c || b.type, a, b), af(b) || b.codemirrorIgnore
    }

    function gf(a) {
        var b = a._handlers && a._handlers.cursorActivity;
        if (b)for (var c = a.curOp.cursorActivityHandlers || (a.curOp.cursorActivityHandlers = []), d = 0; d < b.length; ++d)-1 == of(c, b[d]) && c.push(b[d])
    }

    function hf(a, b) {
        var c = a._handlers && a._handlers[b];
        return c && c.length > 0
    }

    function jf(a) {
        a.prototype.on = function (a, b) {
            ih(this, a, b)
        }, a.prototype.off = function (a, b) {
            jh(this, a, b)
        }
    }

    function kf() {
        this.id = null
    }

    function lf(a, b, c) {
        for (var d = 0, e = 0; ;) {
            var f = a.indexOf("	", d);
            -1 == f && (f = a.length);
            var g = f - d;
            if (f == a.length || e + g >= b)return d + Math.min(g, b - e);
            if (e += f - d, e += c - e % c, d = f + 1, e >= b)return d
        }
    }

    function mf(a) {
        for (; sh.length <= a;)sh.push(nf(sh) + " ");
        return sh[a]
    }

    function nf(a) {
        return a[a.length - 1]
    }

    function of(a, b) {
        for (var c = 0; c < a.length; ++c)if (a[c] == b)return c;
        return -1
    }

    function pf(a, b) {
        for (var c = [], d = 0; d < a.length; d++)c[d] = b(a[d], d);
        return c
    }

    function qf(a, b) {
        var c;
        if (Object.create)c = Object.create(a); else {
            var d = function () {
            };
            d.prototype = a, c = new d
        }
        return b && rf(b, c), c
    }

    function rf(a, b, c) {
        b || (b = {});
        for (var d in a)!a.hasOwnProperty(d) || c === !1 && b.hasOwnProperty(d) || (b[d] = a[d]);
        return b
    }

    function sf(a) {
        var b = Array.prototype.slice.call(arguments, 1);
        return function () {
            return a.apply(null, b)
        }
    }

    function tf(a, b) {
        return b ? b.source.indexOf("\\w") > -1 && wh(a) ? !0 : b.test(a) : wh(a)
    }

    function uf(a) {
        for (var b in a)if (a.hasOwnProperty(b) && a[b])return !1;
        return !0
    }

    function vf(a) {
        return a.charCodeAt(0) >= 768 && xh.test(a)
    }

    function wf(a, b, c, d) {
        var e = document.createElement(a);
        if (c && (e.className = c), d && (e.style.cssText = d), "string" == typeof b)e.appendChild(document.createTextNode(b)); else if (b)for (var f = 0; f < b.length; ++f)e.appendChild(b[f]);
        return e
    }

    function xf(a) {
        for (var b = a.childNodes.length; b > 0; --b)a.removeChild(a.firstChild);
        return a
    }

    function yf(a, b) {
        return xf(a).appendChild(b)
    }

    function zf(a, b) {
        if (a.contains)return a.contains(b);
        for (; b = b.parentNode;)if (b == a)return !0
    }

    function Af() {
        return document.activeElement
    }

    function Bf(a) {
        return new RegExp("(^|\\s)" + a + "(?:$|\\s)\\s*")
    }

    function Cf(a, b) {
        for (var c = a.split(" "), d = 0; d < c.length; d++)c[d] && !Bf(c[d]).test(b) && (b += " " + c[d]);
        return b
    }

    function Df(a) {
        if (document.body.getElementsByClassName)for (var b = document.body.getElementsByClassName("CodeMirror"), c = 0; c < b.length; c++) {
            var d = b[c].CodeMirror;
            d && a(d)
        }
    }

    function Ef() {
        Dh || (Ff(), Dh = !0)
    }

    function Ff() {
        var a;
        ih(window, "resize", function () {
            null == a && (a = setTimeout(function () {
                a = null, yh = null, Df(Cc)
            }, 100))
        }), ih(window, "blur", function () {
            Df($c)
        })
    }

    function Gf(a) {
        if (null != yh)return yh;
        var b = wf("div", null, null, "width: 50px; height: 50px; overflow-x: scroll");
        return yf(a, b), b.offsetWidth && (yh = b.offsetHeight - b.clientHeight), yh || 0
    }

    function Hf(a) {
        if (null == zh) {
            var b = wf("span", "​");
            yf(a, wf("span", [b, document.createTextNode("x")])), 0 != a.firstChild.offsetHeight && (zh = b.offsetWidth <= 1 && b.offsetHeight > 2 && !($f && 8 > _f))
        }
        return zh ? wf("span", "​") : wf("span", " ", null, "display: inline-block; width: 1px; margin-right: -1px")
    }

    function If(a) {
        if (null != Ah)return Ah;
        var b = yf(a, document.createTextNode("AخA")), c = uh(b, 0, 1).getBoundingClientRect();
        if (!c || c.left == c.right)return !1;
        var d = uh(b, 1, 2).getBoundingClientRect();
        return Ah = d.right - c.right < 3
    }

    function Jf(a) {
        if (null != Ih)return Ih;
        var b = yf(a, wf("span", "x")), c = b.getBoundingClientRect(), d = uh(b, 0, 1).getBoundingClientRect();
        return Ih = Math.abs(c.left - d.left) > 1
    }

    function Kf(a, b, c, d) {
        if (!a)return d(b, c, "ltr");
        for (var e = !1, f = 0; f < a.length; ++f) {
            var g = a[f];
            (g.from < c && g.to > b || b == c && g.to == b) && (d(Math.max(g.from, b), Math.min(g.to, c), 1 == g.level ? "rtl" : "ltr"), e = !0)
        }
        e || d(b, c, "ltr")
    }

    function Lf(a) {
        return a.level % 2 ? a.to : a.from
    }

    function Mf(a) {
        return a.level % 2 ? a.from : a.to
    }

    function Nf(a) {
        var b = Me(a);
        return b ? Lf(b[0]) : 0
    }

    function Of(a) {
        var b = Me(a);
        return b ? Mf(nf(b)) : a.text.length
    }

    function Pf(a, b) {
        var c = Fe(a.doc, b), d = $d(c);
        d != c && (b = Je(d));
        var e = Me(d), f = e ? e[0].level % 2 ? Of(d) : Nf(d) : 0;
        return rg(b, f)
    }

    function Qf(a, b) {
        for (var c, d = Fe(a.doc, b); c = Yd(d);)d = c.find(1, !0).line, b = null;
        var e = Me(d), f = e ? e[0].level % 2 ? Nf(d) : Of(d) : d.text.length;
        return rg(null == b ? Je(d) : b, f)
    }

    function Rf(a, b) {
        var c = Pf(a, b.line), d = Fe(a.doc, c.line), e = Me(d);
        if (!e || 0 == e[0].level) {
            var f = Math.max(0, d.text.search(/\S/)), g = b.line == c.line && b.ch <= f && b.ch;
            return rg(c.line, g ? 0 : f)
        }
        return c
    }

    function Sf(a, b, c) {
        var d = a[0].level;
        return b == d ? !0 : c == d ? !1 : c > b
    }

    function Tf(a, b) {
        Kh = null;
        for (var c, d = 0; d < a.length; ++d) {
            var e = a[d];
            if (e.from < b && e.to > b)return d;
            if (e.from == b || e.to == b) {
                if (null != c)return Sf(a, e.level, a[c].level) ? (e.from != e.to && (Kh = c), d) : (e.from != e.to && (Kh = d), c);
                c = d
            }
        }
        return c
    }

    function Uf(a, b, c, d) {
        if (!d)return b + c;
        do b += c; while (b > 0 && vf(a.text.charAt(b)));
        return b
    }

    function Vf(a, b, c, d) {
        var e = Me(a);
        if (!e)return Wf(a, b, c, d);
        for (var f = Tf(e, b), g = e[f], h = Uf(a, b, g.level % 2 ? -c : c, d); ;) {
            if (h > g.from && h < g.to)return h;
            if (h == g.from || h == g.to)return Tf(e, h) == f ? h : (g = e[f += c], c > 0 == g.level % 2 ? g.to : g.from);
            if (g = e[f += c], !g)return null;
            h = c > 0 == g.level % 2 ? Uf(a, g.to, -1, d) : Uf(a, g.from, 1, d)
        }
    }

    function Wf(a, b, c, d) {
        var e = b + c;
        if (d)for (; e > 0 && vf(a.text.charAt(e));)e += c;
        return 0 > e || e > a.text.length ? null : e
    }

    var Xf = /gecko\/\d/i.test(navigator.userAgent), Yf = /MSIE \d/.test(navigator.userAgent), Zf = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent), $f = Yf || Zf, _f = $f && (Yf ? document.documentMode || 6 : Zf[1]), ag = /WebKit\//.test(navigator.userAgent), bg = ag && /Qt\/\d+\.\d+/.test(navigator.userAgent), cg = /Chrome\//.test(navigator.userAgent), dg = /Opera\//.test(navigator.userAgent), eg = /Apple Computer/.test(navigator.vendor), fg = /KHTML\//.test(navigator.userAgent), gg = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent), hg = /PhantomJS/.test(navigator.userAgent), ig = /AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent), jg = ig || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent), kg = ig || /Mac/.test(navigator.platform), lg = /win/i.test(navigator.platform), mg = dg && navigator.userAgent.match(/Version\/(\d*\.\d*)/);
    mg && (mg = Number(mg[1])), mg && mg >= 15 && (dg = !1, ag = !0);
    var ng = kg && (bg || dg && (null == mg || 12.11 > mg)), og = Xf || $f && _f >= 9, pg = !1, qg = !1, rg = a.Pos = function (a, b) {
        return this instanceof rg ? (this.line = a, void(this.ch = b)) : new rg(a, b)
    }, sg = a.cmpPos = function (a, b) {
        return a.line - b.line || a.ch - b.ch
    };
    V.prototype = {
        primary: function () {
            return this.ranges[this.primIndex]
        }, equals: function (a) {
            if (a == this)return !0;
            if (a.primIndex != this.primIndex || a.ranges.length != this.ranges.length)return !1;
            for (var b = 0; b < this.ranges.length; b++) {
                var c = this.ranges[b], d = a.ranges[b];
                if (0 != sg(c.anchor, d.anchor) || 0 != sg(c.head, d.head))return !1
            }
            return !0
        }, deepCopy: function () {
            for (var a = [], b = 0; b < this.ranges.length; b++)a[b] = new W(S(this.ranges[b].anchor), S(this.ranges[b].head));
            return new V(a, this.primIndex)
        }, somethingSelected: function () {
            for (var a = 0; a < this.ranges.length; a++)if (!this.ranges[a].empty())return !0;
            return !1
        }, contains: function (a, b) {
            b || (b = a);
            for (var c = 0; c < this.ranges.length; c++) {
                var d = this.ranges[c];
                if (sg(b, d.from()) >= 0 && sg(a, d.to()) <= 0)return c
            }
            return -1
        }
    }, W.prototype = {
        from: function () {
            return U(this.anchor, this.head)
        }, to: function () {
            return T(this.anchor, this.head)
        }, empty: function () {
            return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch
        }
    };
    var tg, ug, vg, wg = {
        left: 0,
        right: 0,
        top: 0,
        bottom: 0
    }, xg = null, yg = 0, zg = null, Ag = 0, Bg = 0, Cg = null;
    $f ? Cg = -.53 : Xf ? Cg = 15 : cg ? Cg = -.7 : eg && (Cg = -1 / 3);
    var Dg = new kf, Eg = null, Fg = a.changeEnd = function (a) {
        return a.text ? rg(a.from.line + a.text.length - 1, nf(a.text).length + (1 == a.text.length ? a.from.ch : 0)) : a.to
    };
    a.prototype = {
        constructor: a, focus: function () {
            window.focus(), yc(this), vc(this)
        }, setOption: function (a, b) {
            var c = this.options, d = c[a];
            (c[a] != b || "mode" == a) && (c[a] = b, Hg.hasOwnProperty(a) && ic(this, Hg[a])(this, b, d))
        }, getOption: function (a) {
            return this.options[a]
        }, getDoc: function () {
            return this.doc
        }, addKeyMap: function (a, b) {
            this.state.keyMaps[b ? "push" : "unshift"](Bd(a))
        }, removeKeyMap: function (a) {
            for (var b = this.state.keyMaps, c = 0; c < b.length; ++c)if (b[c] == a || b[c].name == a)return b.splice(c, 1), !0
        }, addOverlay: jc(function (b, c) {
            var d = b.token ? b : a.getMode(this.options, b);
            if (d.startState)throw new Error("Overlays may not be stateful.");
            this.state.overlays.push({mode: d, modeSpec: b, opaque: c && c.opaque}), this.state.modeGen++, nc(this)
        }), removeOverlay: jc(function (a) {
            for (var b = this.state.overlays, c = 0; c < b.length; ++c) {
                var d = b[c].modeSpec;
                if (d == a || "string" == typeof a && d.name == a)return b.splice(c, 1), this.state.modeGen++, void nc(this)
            }
        }), indentLine: jc(function (a, b, c) {
            "string" != typeof b && "number" != typeof b && (b = null == b ? this.options.smartIndent ? "smart" : "prev" : b ? "add" : "subtract"), ab(this.doc, a) && ud(this, a, b, c)
        }), indentSelection: jc(function (a) {
            for (var b = this.doc.sel.ranges, c = -1, d = 0; d < b.length; d++) {
                var e = b[d];
                if (e.empty())e.head.line > c && (ud(this, e.head.line, a, !0), c = e.head.line, d == this.doc.sel.primIndex && sd(this)); else {
                    var f = e.from(), g = e.to(), h = Math.max(c, f.line);
                    c = Math.min(this.lastLine(), g.line - (g.ch ? 0 : 1)) + 1;
                    for (var i = h; c > i; ++i)ud(this, i, a);
                    var j = this.doc.sel.ranges;
                    0 == f.ch && b.length == j.length && j[d].from().ch > 0 && fb(this.doc, d, new W(f, j[d].to()), oh)
                }
            }
        }), getTokenAt: function (a, b) {
            return me(this, a, b)
        }, getLineTokens: function (a, b) {
            return me(this, rg(a), b, !0)
        }, getTokenTypeAt: function (a) {
            a = $(this.doc, a);
            var b, c = pe(this, Fe(this.doc, a.line)), d = 0, e = (c.length - 1) / 2, f = a.ch;
            if (0 == f)b = c[2]; else for (; ;) {
                var g = d + e >> 1;
                if ((g ? c[2 * g - 1] : 0) >= f)e = g; else {
                    if (!(c[2 * g + 1] < f)) {
                        b = c[2 * g + 2];
                        break
                    }
                    d = g + 1
                }
            }
            var h = b ? b.indexOf("cm-overlay ") : -1;
            return 0 > h ? b : 0 == h ? null : b.slice(0, h - 1)
        }, getModeAt: function (b) {
            var c = this.doc.mode;
            return c.innerMode ? a.innerMode(c, this.getTokenAt(b).state).mode : c
        }, getHelper: function (a, b) {
            return this.getHelpers(a, b)[0]
        }, getHelpers: function (a, b) {
            var c = [];
            if (!Ng.hasOwnProperty(b))return Ng;
            var d = Ng[b], e = this.getModeAt(a);
            if ("string" == typeof e[b])d[e[b]] && c.push(d[e[b]]); else if (e[b])for (var f = 0; f < e[b].length; f++) {
                var g = d[e[b][f]];
                g && c.push(g)
            } else e.helperType && d[e.helperType] ? c.push(d[e.helperType]) : d[e.name] && c.push(d[e.name]);
            for (var f = 0; f < d._global.length; f++) {
                var h = d._global[f];
                h.pred(e, this) && -1 == of(c, h.val) && c.push(h.val)
            }
            return c
        }, getStateAfter: function (a, b) {
            var c = this.doc;
            return a = Z(c, null == a ? c.first + c.size - 1 : a), yb(this, a + 1, b)
        }, cursorCoords: function (a, b) {
            var c, d = this.doc.sel.primary();
            return c = null == a ? d.head : "object" == typeof a ? $(this.doc, a) : a ? d.from() : d.to(), Tb(this, c, b || "page")
        }, charCoords: function (a, b) {
            return Sb(this, $(this.doc, a), b || "page")
        }, coordsChar: function (a, b) {
            return a = Rb(this, a, b || "page"), Wb(this, a.left, a.top)
        }, lineAtHeight: function (a, b) {
            return a = Rb(this, {top: a, left: 0}, b || "page").top, Ke(this.doc, a + this.display.viewOffset)
        }, heightAtLine: function (a, b) {
            var c = !1, d = this.doc.first + this.doc.size - 1;
            a < this.doc.first ? a = this.doc.first : a > d && (a = d, c = !0);
            var e = Fe(this.doc, a);
            return Qb(this, e, {top: 0, left: 0}, b || "page").top + (c ? this.doc.height - Le(e) : 0)
        }, defaultTextHeight: function () {
            return Yb(this.display)
        }, defaultCharWidth: function () {
            return Zb(this.display)
        }, setGutterMarker: jc(function (a, b, c) {
            return vd(this.doc, a, "gutter", function (a) {
                var d = a.gutterMarkers || (a.gutterMarkers = {});
                return d[b] = c, !c && uf(d) && (a.gutterMarkers = null), !0
            })
        }), clearGutter: jc(function (a) {
            var b = this, c = b.doc, d = c.first;
            c.iter(function (c) {
                c.gutterMarkers && c.gutterMarkers[a] && (c.gutterMarkers[a] = null, oc(b, d, "gutter"), uf(c.gutterMarkers) && (c.gutterMarkers = null)), ++d
            })
        }), addLineWidget: jc(function (a, b, c) {
            return ge(this, a, b, c)
        }), removeLineWidget: function (a) {
            a.clear()
        }, lineInfo: function (a) {
            if ("number" == typeof a) {
                if (!ab(this.doc, a))return null;
                var b = a;
                if (a = Fe(this.doc, a), !a)return null
            } else {
                var b = Je(a);
                if (null == b)return null
            }
            return {
                line: b,
                handle: a,
                text: a.text,
                gutterMarkers: a.gutterMarkers,
                textClass: a.textClass,
                bgClass: a.bgClass,
                wrapClass: a.wrapClass,
                widgets: a.widgets
            }
        }, getViewport: function () {
            return {from: this.display.viewFrom, to: this.display.viewTo}
        }, addWidget: function (a, b, c, d, e) {
            var f = this.display;
            a = Tb(this, $(this.doc, a));
            var g = a.bottom, h = a.left;
            if (b.style.position = "absolute", f.sizer.appendChild(b), "over" == d)g = a.top; else if ("above" == d || "near" == d) {
                var i = Math.max(f.wrapper.clientHeight, this.doc.height), j = Math.max(f.sizer.clientWidth, f.lineSpace.clientWidth);
                ("above" == d || a.bottom + b.offsetHeight > i) && a.top > b.offsetHeight ? g = a.top - b.offsetHeight : a.bottom + b.offsetHeight <= i && (g = a.bottom), h + b.offsetWidth > j && (h = j - b.offsetWidth)
            }
            b.style.top = g + "px", b.style.left = b.style.right = "", "right" == e ? (h = f.sizer.clientWidth - b.offsetWidth, b.style.right = "0px") : ("left" == e ? h = 0 : "middle" == e && (h = (f.sizer.clientWidth - b.offsetWidth) / 2), b.style.left = h + "px"), c && pd(this, h, g, h + b.offsetWidth, g + b.offsetHeight)
        }, triggerOnKeyDown: jc(Vc), triggerOnKeyPress: jc(Yc), triggerOnKeyUp: Xc, execCommand: function (a) {
            return Qg.hasOwnProperty(a) ? Qg[a](this) : void 0
        }, findPosH: function (a, b, c, d) {
            var e = 1;
            0 > b && (e = -1, b = -b);
            for (var f = 0, g = $(this.doc, a); b > f && (g = xd(this.doc, g, e, c, d), !g.hitSide); ++f);
            return g
        }, moveH: jc(function (a, b) {
            var c = this;
            c.extendSelectionsBy(function (d) {
                return c.display.shift || c.doc.extend || d.empty() ? xd(c.doc, d.head, a, b, c.options.rtlMoveVisually) : 0 > a ? d.from() : d.to()
            }, qh)
        }), deleteH: jc(function (a, b) {
            var c = this.doc.sel, d = this.doc;
            c.somethingSelected() ? d.replaceSelection("", null, "+delete") : wd(this, function (c) {
                var e = xd(d, c.head, a, b, !1);
                return 0 > a ? {from: e, to: c.head} : {from: c.head, to: e}
            })
        }), findPosV: function (a, b, c, d) {
            var e = 1, f = d;
            0 > b && (e = -1, b = -b);
            for (var g = 0, h = $(this.doc, a); b > g; ++g) {
                var i = Tb(this, h, "div");
                if (null == f ? f = i.left : i.left = f, h = yd(this, i, e, c), h.hitSide)break
            }
            return h
        }, moveV: jc(function (a, b) {
            var c = this, d = this.doc, e = [], f = !c.display.shift && !d.extend && d.sel.somethingSelected();
            if (d.extendSelectionsBy(function (g) {
                    if (f)return 0 > a ? g.from() : g.to();
                    var h = Tb(c, g.head, "div");
                    null != g.goalColumn && (h.left = g.goalColumn), e.push(h.left);
                    var i = yd(c, h, a, b);
                    return "page" == b && g == d.sel.primary() && rd(c, null, Sb(c, i, "div").top - h.top), i
                }, qh), e.length)for (var g = 0; g < d.sel.ranges.length; g++)d.sel.ranges[g].goalColumn = e[g]
        }), findWordAt: function (a) {
            var b = this.doc, c = Fe(b, a.line).text, d = a.ch, e = a.ch;
            if (c) {
                var f = this.getHelper(a, "wordChars");
                (a.xRel < 0 || e == c.length) && d ? --d : ++e;
                for (var g = c.charAt(d), h = tf(g, f) ? function (a) {
                    return tf(a, f)
                } : /\s/.test(g) ? function (a) {
                    return /\s/.test(a)
                } : function (a) {
                    return !/\s/.test(a) && !tf(a)
                }; d > 0 && h(c.charAt(d - 1));)--d;
                for (; e < c.length && h(c.charAt(e));)++e
            }
            return new W(rg(a.line, d), rg(a.line, e))
        }, toggleOverwrite: function (a) {
            (null == a || a != this.state.overwrite) && ((this.state.overwrite = !this.state.overwrite) ? Ch(this.display.cursorDiv, "CodeMirror-overwrite") : Bh(this.display.cursorDiv, "CodeMirror-overwrite"), kh(this, "overwriteToggle", this, this.state.overwrite))
        }, hasFocus: function () {
            return Af() == this.display.input
        }, scrollTo: jc(function (a, b) {
            (null != a || null != b) && td(this), null != a && (this.curOp.scrollLeft = a), null != b && (this.curOp.scrollTop = b)
        }), getScrollInfo: function () {
            var a = this.display.scroller, b = mh;
            return {
                left: a.scrollLeft,
                top: a.scrollTop,
                height: a.scrollHeight - b,
                width: a.scrollWidth - b,
                clientHeight: a.clientHeight - b,
                clientWidth: a.clientWidth - b
            }
        }, scrollIntoView: jc(function (a, b) {
            if (null == a ? (a = {
                    from: this.doc.sel.primary().head,
                    to: null
                }, null == b && (b = this.options.cursorScrollMargin)) : "number" == typeof a ? a = {
                    from: rg(a, 0),
                    to: null
                } : null == a.from && (a = {
                    from: a,
                    to: null
                }), a.to || (a.to = a.from), a.margin = b || 0, null != a.from.line)td(this), this.curOp.scrollToPos = a; else {
                var c = qd(this, Math.min(a.from.left, a.to.left), Math.min(a.from.top, a.to.top) - a.margin, Math.max(a.from.right, a.to.right), Math.max(a.from.bottom, a.to.bottom) + a.margin);
                this.scrollTo(c.scrollLeft, c.scrollTop)
            }
        }), setSize: jc(function (a, b) {
            function c(a) {
                return "number" == typeof a || /^\d+$/.test(String(a)) ? a + "px" : a
            }

            var d = this;
            null != a && (d.display.wrapper.style.width = c(a)), null != b && (d.display.wrapper.style.height = c(b)), d.options.lineWrapping && Mb(this);
            var e = d.display.viewFrom;
            d.doc.iter(e, d.display.viewTo, function (a) {
                if (a.widgets)for (var b = 0; b < a.widgets.length; b++)if (a.widgets[b].noHScroll) {
                    oc(d, e, "widget");
                    break
                }
                ++e
            }), d.curOp.forceUpdate = !0, kh(d, "refresh", this)
        }), operation: function (a) {
            return hc(this, a)
        }, refresh: jc(function () {
            var a = this.display.cachedTextHeight;
            nc(this), this.curOp.forceUpdate = !0, Nb(this), this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop), k(this), (null == a || Math.abs(a - Yb(this.display)) > .5) && g(this), kh(this, "refresh", this)
        }), swapDoc: jc(function (a) {
            var b = this.doc;
            return b.cm = null, Ee(this, a), Nb(this), xc(this), this.scrollTo(a.scrollLeft, a.scrollTop), this.curOp.forceScroll = !0, df(this, "swapDoc", this, b), b
        }), getInputField: function () {
            return this.display.input
        }, getWrapperElement: function () {
            return this.display.wrapper
        }, getScrollerElement: function () {
            return this.display.scroller
        }, getGutterElement: function () {
            return this.display.gutters
        }
    }, jf(a);
    var Gg = a.defaults = {}, Hg = a.optionHandlers = {}, Ig = a.Init = {
        toString: function () {
            return "CodeMirror.Init"
        }
    };
    zd("value", "", function (a, b) {
        a.setValue(b)
    }, !0), zd("mode", null, function (a, b) {
        a.doc.modeOption = b, c(a)
    }, !0), zd("indentUnit", 2, c, !0), zd("indentWithTabs", !1), zd("smartIndent", !0), zd("tabSize", 4, function (a) {
        d(a), Nb(a), nc(a)
    }, !0), zd("specialChars", /[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g, function (a, b) {
        a.options.specialChars = new RegExp(b.source + (b.test("	") ? "" : "|	"), "g"), a.refresh()
    }, !0), zd("specialCharPlaceholder", te, function (a) {
        a.refresh()
    }, !0), zd("electricChars", !0), zd("rtlMoveVisually", !lg), zd("wholeLineUpdateBefore", !0), zd("theme", "default", function (a) {
        h(a), i(a)
    }, !0), zd("keyMap", "default", function (b, c, d) {
        var e = Bd(c), f = d != a.Init && Bd(d);
        f && f.detach && f.detach(b, e), e.attach && e.attach(b, f || null)
    }), zd("extraKeys", null), zd("lineWrapping", !1, e, !0), zd("gutters", [], function (a) {
        n(a.options), i(a)
    }, !0), zd("fixedGutter", !0, function (a, b) {
        a.display.gutters.style.left = b ? v(a.display) + "px" : "0", a.refresh()
    }, !0), zd("coverGutterNextToScrollbar", !1, q, !0), zd("lineNumbers", !1, function (a) {
        n(a.options), i(a)
    }, !0), zd("firstLineNumber", 1, i, !0), zd("lineNumberFormatter", function (a) {
        return a
    }, i, !0), zd("showCursorWhenSelecting", !1, rb, !0), zd("resetSelectionOnContextMenu", !0), zd("readOnly", !1, function (a, b) {
        "nocursor" == b ? ($c(a), a.display.input.blur(), a.display.disabled = !0) : (a.display.disabled = !1, b || xc(a))
    }), zd("disableInput", !1, function (a, b) {
        b || xc(a)
    }, !0), zd("dragDrop", !0), zd("cursorBlinkRate", 530), zd("cursorScrollMargin", 0), zd("cursorHeight", 1, rb, !0), zd("singleCursorHeightPerLine", !0, rb, !0), zd("workTime", 100), zd("workDelay", 100), zd("flattenSpans", !0, d, !0), zd("addModeClass", !1, d, !0), zd("pollInterval", 100), zd("undoDepth", 200, function (a, b) {
        a.doc.history.undoDepth = b
    }), zd("historyEventDelay", 1250), zd("viewportMargin", 10, function (a) {
        a.refresh()
    }, !0), zd("maxHighlightLength", 1e4, d, !0), zd("moveInputWithCursor", !0, function (a, b) {
        b || (a.display.inputDiv.style.top = a.display.inputDiv.style.left = 0)
    }), zd("tabindex", null, function (a, b) {
        a.display.input.tabIndex = b || ""
    }), zd("autofocus", null);
    var Jg = a.modes = {}, Kg = a.mimeModes = {};
    a.defineMode = function (b, c) {
        a.defaults.mode || "null" == b || (a.defaults.mode = b), arguments.length > 2 && (c.dependencies = Array.prototype.slice.call(arguments, 2)), Jg[b] = c
    }, a.defineMIME = function (a, b) {
        Kg[a] = b
    }, a.resolveMode = function (b) {
        if ("string" == typeof b && Kg.hasOwnProperty(b))b = Kg[b]; else if (b && "string" == typeof b.name && Kg.hasOwnProperty(b.name)) {
            var c = Kg[b.name];
            "string" == typeof c && (c = {name: c}), b = qf(c, b), b.name = c.name
        } else if ("string" == typeof b && /^[\w\-]+\/[\w\-]+\+xml$/.test(b))return a.resolveMode("application/xml");
        return "string" == typeof b ? {name: b} : b || {name: "null"}
    }, a.getMode = function (b, c) {
        var c = a.resolveMode(c), d = Jg[c.name];
        if (!d)return a.getMode(b, "text/plain");
        var e = d(b, c);
        if (Lg.hasOwnProperty(c.name)) {
            var f = Lg[c.name];
            for (var g in f)f.hasOwnProperty(g) && (e.hasOwnProperty(g) && (e["_" + g] = e[g]), e[g] = f[g])
        }
        if (e.name = c.name, c.helperType && (e.helperType = c.helperType), c.modeProps)for (var g in c.modeProps)e[g] = c.modeProps[g];
        return e
    }, a.defineMode("null", function () {
        return {
            token: function (a) {
                a.skipToEnd()
            }
        }
    }), a.defineMIME("text/plain", "null");
    var Lg = a.modeExtensions = {};
    a.extendMode = function (a, b) {
        var c = Lg.hasOwnProperty(a) ? Lg[a] : Lg[a] = {};
        rf(b, c)
    }, a.defineExtension = function (b, c) {
        a.prototype[b] = c
    }, a.defineDocExtension = function (a, b) {
        ch.prototype[a] = b
    }, a.defineOption = zd;
    var Mg = [];
    a.defineInitHook = function (a) {
        Mg.push(a)
    };
    var Ng = a.helpers = {};
    a.registerHelper = function (b, c, d) {
        Ng.hasOwnProperty(b) || (Ng[b] = a[b] = {_global: []}), Ng[b][c] = d
    }, a.registerGlobalHelper = function (b, c, d, e) {
        a.registerHelper(b, c, e), Ng[b]._global.push({pred: d, val: e})
    };
    var Og = a.copyState = function (a, b) {
        if (b === !0)return b;
        if (a.copyState)return a.copyState(b);
        var c = {};
        for (var d in b) {
            var e = b[d];
            e instanceof Array && (e = e.concat([])), c[d] = e
        }
        return c
    }, Pg = a.startState = function (a, b, c) {
        return a.startState ? a.startState(b, c) : !0
    };
    a.innerMode = function (a, b) {
        for (; a.innerMode;) {
            var c = a.innerMode(b);
            if (!c || c.mode == a)break;
            b = c.state, a = c.mode
        }
        return c || {mode: a, state: b}
    };
    var Qg = a.commands = {
        selectAll: function (a) {
            a.setSelection(rg(a.firstLine(), 0), rg(a.lastLine()), oh)
        }, singleSelection: function (a) {
            a.setSelection(a.getCursor("anchor"), a.getCursor("head"), oh)
        }, killLine: function (a) {
            wd(a, function (b) {
                if (b.empty()) {
                    var c = Fe(a.doc, b.head.line).text.length;
                    return b.head.ch == c && b.head.line < a.lastLine() ? {
                        from: b.head,
                        to: rg(b.head.line + 1, 0)
                    } : {from: b.head, to: rg(b.head.line, c)}
                }
                return {from: b.from(), to: b.to()}
            })
        }, deleteLine: function (a) {
            wd(a, function (b) {
                return {from: rg(b.from().line, 0), to: $(a.doc, rg(b.to().line + 1, 0))}
            })
        }, delLineLeft: function (a) {
            wd(a, function (a) {
                return {from: rg(a.from().line, 0), to: a.from()}
            })
        }, delWrappedLineLeft: function (a) {
            wd(a, function (b) {
                var c = a.charCoords(b.head, "div").top + 5, d = a.coordsChar({left: 0, top: c}, "div");
                return {from: d, to: b.from()}
            })
        }, delWrappedLineRight: function (a) {
            wd(a, function (b) {
                var c = a.charCoords(b.head, "div").top + 5, d = a.coordsChar({
                    left: a.display.lineDiv.offsetWidth + 100,
                    top: c
                }, "div");
                return {from: b.from(), to: d}
            })
        }, undo: function (a) {
            a.undo()
        }, redo: function (a) {
            a.redo()
        }, undoSelection: function (a) {
            a.undoSelection()
        }, redoSelection: function (a) {
            a.redoSelection()
        }, goDocStart: function (a) {
            a.extendSelection(rg(a.firstLine(), 0))
        }, goDocEnd: function (a) {
            a.extendSelection(rg(a.lastLine()))
        }, goLineStart: function (a) {
            a.extendSelectionsBy(function (b) {
                return Pf(a, b.head.line)
            }, {origin: "+move", bias: 1})
        }, goLineStartSmart: function (a) {
            a.extendSelectionsBy(function (b) {
                return Rf(a, b.head)
            }, {origin: "+move", bias: 1})
        }, goLineEnd: function (a) {
            a.extendSelectionsBy(function (b) {
                return Qf(a, b.head.line)
            }, {origin: "+move", bias: -1})
        }, goLineRight: function (a) {
            a.extendSelectionsBy(function (b) {
                var c = a.charCoords(b.head, "div").top + 5;
                return a.coordsChar({left: a.display.lineDiv.offsetWidth + 100, top: c}, "div")
            }, qh)
        }, goLineLeft: function (a) {
            a.extendSelectionsBy(function (b) {
                var c = a.charCoords(b.head, "div").top + 5;
                return a.coordsChar({left: 0, top: c}, "div")
            }, qh)
        }, goLineLeftSmart: function (a) {
            a.extendSelectionsBy(function (b) {
                var c = a.charCoords(b.head, "div").top + 5, d = a.coordsChar({left: 0, top: c}, "div");
                return d.ch < a.getLine(d.line).search(/\S/) ? Rf(a, b.head) : d
            }, qh)
        }, goLineUp: function (a) {
            a.moveV(-1, "line")
        }, goLineDown: function (a) {
            a.moveV(1, "line")
        }, goPageUp: function (a) {
            a.moveV(-1, "page")
        }, goPageDown: function (a) {
            a.moveV(1, "page")
        }, goCharLeft: function (a) {
            a.moveH(-1, "char")
        }, goCharRight: function (a) {
            a.moveH(1, "char")
        }, goColumnLeft: function (a) {
            a.moveH(-1, "column")
        }, goColumnRight: function (a) {
            a.moveH(1, "column")
        }, goWordLeft: function (a) {
            a.moveH(-1, "word")
        }, goGroupRight: function (a) {
            a.moveH(1, "group")
        }, goGroupLeft: function (a) {
            a.moveH(-1, "group")
        }, goWordRight: function (a) {
            a.moveH(1, "word")
        }, delCharBefore: function (a) {
            a.deleteH(-1, "char")
        }, delCharAfter: function (a) {
            a.deleteH(1, "char")
        }, delWordBefore: function (a) {
            a.deleteH(-1, "word")
        }, delWordAfter: function (a) {
            a.deleteH(1, "word")
        }, delGroupBefore: function (a) {
            a.deleteH(-1, "group")
        }, delGroupAfter: function (a) {
            a.deleteH(1, "group")
        }, indentAuto: function (a) {
            a.indentSelection("smart")
        }, indentMore: function (a) {
            a.indentSelection("add")
        }, indentLess: function (a) {
            a.indentSelection("subtract")
        }, insertTab: function (a) {
            a.replaceSelection("	")
        }, insertSoftTab: function (a) {
            for (var b = [], c = a.listSelections(), d = a.options.tabSize, e = 0; e < c.length; e++) {
                var f = c[e].from(), g = rh(a.getLine(f.line), f.ch, d);
                b.push(new Array(d - g % d + 1).join(" "))
            }
            a.replaceSelections(b)
        }, defaultTab: function (a) {
            a.somethingSelected() ? a.indentSelection("add") : a.execCommand("insertTab")
        }, transposeChars: function (a) {
            hc(a, function () {
                for (var b = a.listSelections(), c = [], d = 0; d < b.length; d++) {
                    var e = b[d].head, f = Fe(a.doc, e.line).text;
                    if (f)if (e.ch == f.length && (e = new rg(e.line, e.ch - 1)), e.ch > 0)e = new rg(e.line, e.ch + 1), a.replaceRange(f.charAt(e.ch - 1) + f.charAt(e.ch - 2), rg(e.line, e.ch - 2), e, "+transpose"); else if (e.line > a.doc.first) {
                        var g = Fe(a.doc, e.line - 1).text;
                        g && a.replaceRange(f.charAt(0) + "\n" + g.charAt(g.length - 1), rg(e.line - 1, g.length - 1), rg(e.line, 1), "+transpose")
                    }
                    c.push(new W(e, e))
                }
                a.setSelections(c)
            })
        }, newlineAndIndent: function (a) {
            hc(a, function () {
                for (var b = a.listSelections().length, c = 0; b > c; c++) {
                    var d = a.listSelections()[c];
                    a.replaceRange("\n", d.anchor, d.head, "+input"), a.indentLine(d.from().line + 1, null, !0), sd(a)
                }
            })
        }, toggleOverwrite: function (a) {
            a.toggleOverwrite()
        }
    }, Rg = a.keyMap = {};
    Rg.basic = {
        Left: "goCharLeft",
        Right: "goCharRight",
        Up: "goLineUp",
        Down: "goLineDown",
        End: "goLineEnd",
        Home: "goLineStartSmart",
        PageUp: "goPageUp",
        PageDown: "goPageDown",
        Delete: "delCharAfter",
        Backspace: "delCharBefore",
        "Shift-Backspace": "delCharBefore",
        Tab: "defaultTab",
        "Shift-Tab": "indentAuto",
        Enter: "newlineAndIndent",
        Insert: "toggleOverwrite",
        Esc: "singleSelection"
    }, Rg.pcDefault = {
        "Ctrl-A": "selectAll",
        "Ctrl-D": "deleteLine",
        "Ctrl-Z": "undo",
        "Shift-Ctrl-Z": "redo",
        "Ctrl-Y": "redo",
        "Ctrl-Home": "goDocStart",
        "Ctrl-End": "goDocEnd",
        "Ctrl-Up": "goLineUp",
        "Ctrl-Down": "goLineDown",
        "Ctrl-Left": "goGroupLeft",
        "Ctrl-Right": "goGroupRight",
        "Alt-Left": "goLineStart",
        "Alt-Right": "goLineEnd",
        "Ctrl-Backspace": "delGroupBefore",
        "Ctrl-Delete": "delGroupAfter",
        "Ctrl-S": "save",
        "Ctrl-F": "find",
        "Ctrl-G": "findNext",
        "Shift-Ctrl-G": "findPrev",
        "Shift-Ctrl-F": "replace",
        "Shift-Ctrl-R": "replaceAll",
        "Ctrl-[": "indentLess",
        "Ctrl-]": "indentMore",
        "Ctrl-U": "undoSelection",
        "Shift-Ctrl-U": "redoSelection",
        "Alt-U": "redoSelection",
        fallthrough: "basic"
    }, Rg.emacsy = {
        "Ctrl-F": "goCharRight",
        "Ctrl-B": "goCharLeft",
        "Ctrl-P": "goLineUp",
        "Ctrl-N": "goLineDown",
        "Alt-F": "goWordRight",
        "Alt-B": "goWordLeft",
        "Ctrl-A": "goLineStart",
        "Ctrl-E": "goLineEnd",
        "Ctrl-V": "goPageDown",
        "Shift-Ctrl-V": "goPageUp",
        "Ctrl-D": "delCharAfter",
        "Ctrl-H": "delCharBefore",
        "Alt-D": "delWordAfter",
        "Alt-Backspace": "delWordBefore",
        "Ctrl-K": "killLine",
        "Ctrl-T": "transposeChars"
    }, Rg.macDefault = {
        "Cmd-A": "selectAll",
        "Cmd-D": "deleteLine",
        "Cmd-Z": "undo",
        "Shift-Cmd-Z": "redo",
        "Cmd-Y": "redo",
        "Cmd-Home": "goDocStart",
        "Cmd-Up": "goDocStart",
        "Cmd-End": "goDocEnd",
        "Cmd-Down": "goDocEnd",
        "Alt-Left": "goGroupLeft",
        "Alt-Right": "goGroupRight",
        "Cmd-Left": "goLineLeft",
        "Cmd-Right": "goLineRight",
        "Alt-Backspace": "delGroupBefore",
        "Ctrl-Alt-Backspace": "delGroupAfter",
        "Alt-Delete": "delGroupAfter",
        "Cmd-S": "save",
        "Cmd-F": "find",
        "Cmd-G": "findNext",
        "Shift-Cmd-G": "findPrev",
        "Cmd-Alt-F": "replace",
        "Shift-Cmd-Alt-F": "replaceAll",
        "Cmd-[": "indentLess",
        "Cmd-]": "indentMore",
        "Cmd-Backspace": "delWrappedLineLeft",
        "Cmd-Delete": "delWrappedLineRight",
        "Cmd-U": "undoSelection",
        "Shift-Cmd-U": "redoSelection",
        "Ctrl-Up": "goDocStart",
        "Ctrl-Down": "goDocEnd",
        fallthrough: ["basic", "emacsy"]
    }, Rg["default"] = kg ? Rg.macDefault : Rg.pcDefault, a.normalizeKeyMap = function (a) {
        var b = {};
        for (var c in a)if (a.hasOwnProperty(c)) {
            var d = a[c];
            if (/^(name|fallthrough|(de|at)tach)$/.test(c))continue;
            if ("..." == d) {
                delete a[c];
                continue
            }
            for (var e = pf(c.split(" "), Ad), f = 0; f < e.length; f++) {
                var g, h;
                f == e.length - 1 ? (h = c, g = d) : (h = e.slice(0, f + 1).join(" "), g = "...");
                var i = b[h];
                if (i) {
                    if (i != g)throw new Error("Inconsistent bindings for " + h)
                } else b[h] = g
            }
            delete a[c]
        }
        for (var j in b)a[j] = b[j];
        return a
    };
    var Sg = a.lookupKey = function (a, b, c) {
        b = Bd(b);
        var d = b.call ? b.call(a) : b[a];
        if (d === !1)return "nothing";
        if ("..." === d)return "multi";
        if (null != d && c(d))return "handled";
        if (b.fallthrough) {
            if ("[object Array]" != Object.prototype.toString.call(b.fallthrough))return Sg(a, b.fallthrough, c);
            for (var e = 0; e < b.fallthrough.length; e++) {
                var f = Sg(a, b.fallthrough[e], c);
                if (f)return f
            }
        }
    }, Tg = a.isModifierKey = function (a) {
        var b = "string" == typeof a ? a : Jh[a.keyCode];
        return "Ctrl" == b || "Alt" == b || "Shift" == b || "Mod" == b
    }, Ug = a.keyName = function (a, b) {
        if (dg && 34 == a.keyCode && a["char"])return !1;
        var c = Jh[a.keyCode], d = c;
        return null == d || a.altGraphKey ? !1 : (a.altKey && "Alt" != c && (d = "Alt-" + d), (ng ? a.metaKey : a.ctrlKey) && "Ctrl" != c && (d = "Ctrl-" + d), (ng ? a.ctrlKey : a.metaKey) && "Cmd" != c && (d = "Cmd-" + d), !b && a.shiftKey && "Shift" != c && (d = "Shift-" + d), d)
    };
    a.fromTextArea = function (b, c) {
        function d() {
            b.value = j.getValue()
        }

        if (c || (c = {}), c.value = b.value, !c.tabindex && b.tabindex && (c.tabindex = b.tabindex), !c.placeholder && b.placeholder && (c.placeholder = b.placeholder), null == c.autofocus) {
            var e = Af();
            c.autofocus = e == b || null != b.getAttribute("autofocus") && e == document.body
        }
        if (b.form && (ih(b.form, "submit", d), !c.leaveSubmitMethodAlone)) {
            var f = b.form, g = f.submit;
            try {
                var h = f.submit = function () {
                    d(), f.submit = g, f.submit(), f.submit = h
                }
            } catch (i) {
            }
        }
        b.style.display = "none";
        var j = a(function (a) {
            b.parentNode.insertBefore(a, b.nextSibling)
        }, c);
        return j.save = d, j.getTextArea = function () {
            return b
        }, j.toTextArea = function () {
            j.toTextArea = isNaN, d(), b.parentNode.removeChild(j.getWrapperElement()), b.style.display = "", b.form && (jh(b.form, "submit", d), "function" == typeof b.form.submit && (b.form.submit = g))
        }, j
    };
    var Vg = a.StringStream = function (a, b) {
        this.pos = this.start = 0, this.string = a, this.tabSize = b || 8, this.lastColumnPos = this.lastColumnValue = 0, this.lineStart = 0
    };
    Vg.prototype = {
        eol: function () {
            return this.pos >= this.string.length
        }, sol: function () {
            return this.pos == this.lineStart
        }, peek: function () {
            return this.string.charAt(this.pos) || void 0
        }, next: function () {
            return this.pos < this.string.length ? this.string.charAt(this.pos++) : void 0
        }, eat: function (a) {
            var b = this.string.charAt(this.pos);
            if ("string" == typeof a)var c = b == a; else var c = b && (a.test ? a.test(b) : a(b));
            return c ? (++this.pos, b) : void 0
        }, eatWhile: function (a) {
            for (var b = this.pos; this.eat(a););
            return this.pos > b
        }, eatSpace: function () {
            for (var a = this.pos; /[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;
            return this.pos > a
        }, skipToEnd: function () {
            this.pos = this.string.length
        }, skipTo: function (a) {
            var b = this.string.indexOf(a, this.pos);
            return b > -1 ? (this.pos = b, !0) : void 0
        }, backUp: function (a) {
            this.pos -= a
        }, column: function () {
            return this.lastColumnPos < this.start && (this.lastColumnValue = rh(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue), this.lastColumnPos = this.start), this.lastColumnValue - (this.lineStart ? rh(this.string, this.lineStart, this.tabSize) : 0)
        }, indentation: function () {
            return rh(this.string, null, this.tabSize) - (this.lineStart ? rh(this.string, this.lineStart, this.tabSize) : 0)
        }, match: function (a, b, c) {
            if ("string" != typeof a) {
                var d = this.string.slice(this.pos).match(a);
                return d && d.index > 0 ? null : (d && b !== !1 && (this.pos += d[0].length), d)
            }
            var e = function (a) {
                return c ? a.toLowerCase() : a
            }, f = this.string.substr(this.pos, a.length);
            return e(f) == e(a) ? (b !== !1 && (this.pos += a.length), !0) : void 0
        }, current: function () {
            return this.string.slice(this.start, this.pos)
        }, hideFirstChars: function (a, b) {
            this.lineStart += a;
            try {
                return b()
            } finally {
                this.lineStart -= a
            }
        }
    };
    var Wg = a.TextMarker = function (a, b) {
        this.lines = [], this.type = b, this.doc = a
    };
    jf(Wg), Wg.prototype.clear = function () {
        if (!this.explicitlyCleared) {
            var a = this.doc.cm, b = a && !a.curOp;
            if (b && $b(a), hf(this, "clear")) {
                var c = this.find();
                c && df(this, "clear", c.from, c.to)
            }
            for (var d = null, e = null, f = 0; f < this.lines.length; ++f) {
                var g = this.lines[f], h = Id(g.markedSpans, this);
                a && !this.collapsed ? oc(a, Je(g), "text") : a && (null != h.to && (e = Je(g)), null != h.from && (d = Je(g))), g.markedSpans = Jd(g.markedSpans, h), null == h.from && this.collapsed && !ce(this.doc, g) && a && Ie(g, Yb(a.display))
            }
            if (a && this.collapsed && !a.options.lineWrapping)for (var f = 0; f < this.lines.length; ++f) {
                var i = $d(this.lines[f]), j = l(i);
                j > a.display.maxLineLength && (a.display.maxLine = i, a.display.maxLineLength = j, a.display.maxLineChanged = !0)
            }
            null != d && a && this.collapsed && nc(a, d, e + 1), this.lines.length = 0, this.explicitlyCleared = !0, this.atomic && this.doc.cantEdit && (this.doc.cantEdit = !1, a && mb(a.doc)), a && df(a, "markerCleared", a, this), b && ac(a), this.parent && this.parent.clear()
        }
    }, Wg.prototype.find = function (a, b) {
        null == a && "bookmark" == this.type && (a = 1);
        for (var c, d, e = 0; e < this.lines.length; ++e) {
            var f = this.lines[e], g = Id(f.markedSpans, this);
            if (null != g.from && (c = rg(b ? f : Je(f), g.from), -1 == a))return c;
            if (null != g.to && (d = rg(b ? f : Je(f), g.to), 1 == a))return d
        }
        return c && {from: c, to: d}
    }, Wg.prototype.changed = function () {
        var a = this.find(-1, !0), b = this, c = this.doc.cm;
        a && c && hc(c, function () {
            var d = a.line, e = Je(a.line), f = Gb(c, e);
            if (f && (Lb(f), c.curOp.selectionChanged = c.curOp.forceUpdate = !0), c.curOp.updateMaxLine = !0, !ce(b.doc, d) && null != b.height) {
                var g = b.height;
                b.height = null;
                var h = fe(b) - g;
                h && Ie(d, d.height + h)
            }
        })
    }, Wg.prototype.attachLine = function (a) {
        if (!this.lines.length && this.doc.cm) {
            var b = this.doc.cm.curOp;
            b.maybeHiddenMarkers && -1 != of(b.maybeHiddenMarkers, this) || (b.maybeUnhiddenMarkers || (b.maybeUnhiddenMarkers = [])).push(this)
        }
        this.lines.push(a)
    }, Wg.prototype.detachLine = function (a) {
        if (this.lines.splice(of(this.lines, a), 1), !this.lines.length && this.doc.cm) {
            var b = this.doc.cm.curOp;
            (b.maybeHiddenMarkers || (b.maybeHiddenMarkers = [])).push(this)
        }
    };
    var Xg = 0, Yg = a.SharedTextMarker = function (a, b) {
        this.markers = a, this.primary = b;
        for (var c = 0; c < a.length; ++c)a[c].parent = this
    };
    jf(Yg), Yg.prototype.clear = function () {
        if (!this.explicitlyCleared) {
            this.explicitlyCleared = !0;
            for (var a = 0; a < this.markers.length; ++a)this.markers[a].clear();
            df(this, "clear")
        }
    }, Yg.prototype.find = function (a, b) {
        return this.primary.find(a, b)
    };
    var Zg = a.LineWidget = function (a, b, c) {
        if (c)for (var d in c)c.hasOwnProperty(d) && (this[d] = c[d]);
        this.cm = a, this.node = b
    };
    jf(Zg), Zg.prototype.clear = function () {
        var a = this.cm, b = this.line.widgets, c = this.line, d = Je(c);
        if (null != d && b) {
            for (var e = 0; e < b.length; ++e)b[e] == this && b.splice(e--, 1);
            b.length || (c.widgets = null);
            var f = fe(this);
            hc(a, function () {
                ee(a, c, -f), oc(a, d, "widget"), Ie(c, Math.max(0, c.height - f))
            })
        }
    }, Zg.prototype.changed = function () {
        var a = this.height, b = this.cm, c = this.line;
        this.height = null;
        var d = fe(this) - a;
        d && hc(b, function () {
            b.curOp.forceUpdate = !0, ee(b, c, d), Ie(c, c.height + d)
        })
    };
    var $g = a.Line = function (a, b, c) {
        this.text = a, Sd(this, b), this.height = c ? c(this) : 1
    };
    jf($g), $g.prototype.lineNo = function () {
        return Je(this)
    };
    var _g = {}, ah = {};
    Be.prototype = {
        chunkSize: function () {
            return this.lines.length
        }, removeInner: function (a, b) {
            for (var c = a, d = a + b; d > c; ++c) {
                var e = this.lines[c];
                this.height -= e.height, ie(e), df(e, "delete")
            }
            this.lines.splice(a, b)
        }, collapse: function (a) {
            a.push.apply(a, this.lines)
        }, insertInner: function (a, b, c) {
            this.height += c, this.lines = this.lines.slice(0, a).concat(b).concat(this.lines.slice(a));
            for (var d = 0; d < b.length; ++d)b[d].parent = this
        }, iterN: function (a, b, c) {
            for (var d = a + b; d > a; ++a)if (c(this.lines[a]))return !0
        }
    }, Ce.prototype = {
        chunkSize: function () {
            return this.size
        }, removeInner: function (a, b) {
            this.size -= b;
            for (var c = 0; c < this.children.length; ++c) {
                var d = this.children[c], e = d.chunkSize();
                if (e > a) {
                    var f = Math.min(b, e - a), g = d.height;
                    if (d.removeInner(a, f), this.height -= g - d.height, e == f && (this.children.splice(c--, 1), d.parent = null), 0 == (b -= f))break;
                    a = 0
                } else a -= e
            }
            if (this.size - b < 25 && (this.children.length > 1 || !(this.children[0] instanceof Be))) {
                var h = [];
                this.collapse(h), this.children = [new Be(h)], this.children[0].parent = this
            }
        }, collapse: function (a) {
            for (var b = 0; b < this.children.length; ++b)this.children[b].collapse(a)
        }, insertInner: function (a, b, c) {
            this.size += b.length, this.height += c;
            for (var d = 0; d < this.children.length; ++d) {
                var e = this.children[d], f = e.chunkSize();
                if (f >= a) {
                    if (e.insertInner(a, b, c), e.lines && e.lines.length > 50) {
                        for (; e.lines.length > 50;) {
                            var g = e.lines.splice(e.lines.length - 25, 25), h = new Be(g);
                            e.height -= h.height, this.children.splice(d + 1, 0, h), h.parent = this
                        }
                        this.maybeSpill()
                    }
                    break
                }
                a -= f
            }
        }, maybeSpill: function () {
            if (!(this.children.length <= 10)) {
                var a = this;
                do {
                    var b = a.children.splice(a.children.length - 5, 5), c = new Ce(b);
                    if (a.parent) {
                        a.size -= c.size, a.height -= c.height;
                        var d = of(a.parent.children, a);
                        a.parent.children.splice(d + 1, 0, c)
                    } else {
                        var e = new Ce(a.children);
                        e.parent = a, a.children = [e, c], a = e
                    }
                    c.parent = a.parent
                } while (a.children.length > 10);
                a.parent.maybeSpill()
            }
        }, iterN: function (a, b, c) {
            for (var d = 0; d < this.children.length; ++d) {
                var e = this.children[d], f = e.chunkSize();
                if (f > a) {
                    var g = Math.min(b, f - a);
                    if (e.iterN(a, g, c))return !0;
                    if (0 == (b -= g))break;
                    a = 0
                } else a -= f
            }
        }
    };
    var bh = 0, ch = a.Doc = function (a, b, c) {
        if (!(this instanceof ch))return new ch(a, b, c);
        null == c && (c = 0), Ce.call(this, [new Be([new $g("", null)])]), this.first = c, this.scrollTop = this.scrollLeft = 0, this.cantEdit = !1, this.cleanGeneration = 1, this.frontier = c;
        var d = rg(c, 0);
        this.sel = Y(d), this.history = new Ne(null), this.id = ++bh, this.modeOption = b, "string" == typeof a && (a = Fh(a)), Ae(this, {
            from: d,
            to: d,
            text: a
        }), jb(this, Y(d), oh)
    };
    ch.prototype = qf(Ce.prototype, {
        constructor: ch, iter: function (a, b, c) {
            c ? this.iterN(a - this.first, b - a, c) : this.iterN(this.first, this.first + this.size, a)
        }, insert: function (a, b) {
            for (var c = 0, d = 0; d < b.length; ++d)c += b[d].height;
            this.insertInner(a - this.first, b, c)
        }, remove: function (a, b) {
            this.removeInner(a - this.first, b)
        }, getValue: function (a) {
            var b = He(this, this.first, this.first + this.size);
            return a === !1 ? b : b.join(a || "\n")
        }, setValue: kc(function (a) {
            var b = rg(this.first, 0), c = this.first + this.size - 1;
            gd(this, {from: b, to: rg(c, Fe(this, c).text.length), text: Fh(a), origin: "setValue"}, !0), jb(this, Y(b))
        }), replaceRange: function (a, b, c, d) {
            b = $(this, b), c = c ? $(this, c) : b, md(this, a, b, c, d)
        }, getRange: function (a, b, c) {
            var d = Ge(this, $(this, a), $(this, b));
            return c === !1 ? d : d.join(c || "\n")
        }, getLine: function (a) {
            var b = this.getLineHandle(a);
            return b && b.text
        }, getLineHandle: function (a) {
            return ab(this, a) ? Fe(this, a) : void 0
        }, getLineNumber: function (a) {
            return Je(a)
        }, getLineHandleVisualStart: function (a) {
            return "number" == typeof a && (a = Fe(this, a)), $d(a)
        }, lineCount: function () {
            return this.size
        }, firstLine: function () {
            return this.first
        }, lastLine: function () {
            return this.first + this.size - 1
        }, clipPos: function (a) {
            return $(this, a)
        }, getCursor: function (a) {
            var b, c = this.sel.primary();
            return b = null == a || "head" == a ? c.head : "anchor" == a ? c.anchor : "end" == a || "to" == a || a === !1 ? c.to() : c.from()
        }, listSelections: function () {
            return this.sel.ranges
        }, somethingSelected: function () {
            return this.sel.somethingSelected()
        }, setCursor: kc(function (a, b, c) {
            gb(this, $(this, "number" == typeof a ? rg(a, b || 0) : a), null, c)
        }), setSelection: kc(function (a, b, c) {
            gb(this, $(this, a), $(this, b || a), c)
        }), extendSelection: kc(function (a, b, c) {
            db(this, $(this, a), b && $(this, b), c)
        }), extendSelections: kc(function (a, b) {
            eb(this, bb(this, a, b))
        }), extendSelectionsBy: kc(function (a, b) {
            eb(this, pf(this.sel.ranges, a), b)
        }), setSelections: kc(function (a, b, c) {
            if (a.length) {
                for (var d = 0, e = []; d < a.length; d++)e[d] = new W($(this, a[d].anchor), $(this, a[d].head));
                null == b && (b = Math.min(a.length - 1, this.sel.primIndex)), jb(this, X(e, b), c)
            }
        }), addSelection: kc(function (a, b, c) {
            var d = this.sel.ranges.slice(0);
            d.push(new W($(this, a), $(this, b || a))), jb(this, X(d, d.length - 1), c)
        }), getSelection: function (a) {
            for (var b, c = this.sel.ranges, d = 0; d < c.length; d++) {
                var e = Ge(this, c[d].from(), c[d].to());
                b = b ? b.concat(e) : e
            }
            return a === !1 ? b : b.join(a || "\n")
        }, getSelections: function (a) {
            for (var b = [], c = this.sel.ranges, d = 0; d < c.length; d++) {
                var e = Ge(this, c[d].from(), c[d].to());
                a !== !1 && (e = e.join(a || "\n")), b[d] = e
            }
            return b
        }, replaceSelection: function (a, b, c) {
            for (var d = [], e = 0; e < this.sel.ranges.length; e++)d[e] = a;
            this.replaceSelections(d, b, c || "+input")
        }, replaceSelections: kc(function (a, b, c) {
            for (var d = [], e = this.sel, f = 0; f < e.ranges.length; f++) {
                var g = e.ranges[f];
                d[f] = {from: g.from(), to: g.to(), text: Fh(a[f]), origin: c}
            }
            for (var h = b && "end" != b && ed(this, d, b), f = d.length - 1; f >= 0; f--)gd(this, d[f]);
            h ? ib(this, h) : this.cm && sd(this.cm)
        }), undo: kc(function () {
            id(this, "undo")
        }), redo: kc(function () {
            id(this, "redo")
        }), undoSelection: kc(function () {
            id(this, "undo", !0)
        }), redoSelection: kc(function () {
            id(this, "redo", !0)
        }), setExtending: function (a) {
            this.extend = a
        }, getExtending: function () {
            return this.extend
        }, historySize: function () {
            for (var a = this.history, b = 0, c = 0, d = 0; d < a.done.length; d++)a.done[d].ranges || ++b;
            for (var d = 0; d < a.undone.length; d++)a.undone[d].ranges || ++c;
            return {undo: b, redo: c}
        }, clearHistory: function () {
            this.history = new Ne(this.history.maxGeneration)
        }, markClean: function () {
            this.cleanGeneration = this.changeGeneration(!0)
        }, changeGeneration: function (a) {
            return a && (this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null), this.history.generation
        }, isClean: function (a) {
            return this.history.generation == (a || this.cleanGeneration)
        }, getHistory: function () {
            return {done: Ye(this.history.done), undone: Ye(this.history.undone)}
        }, setHistory: function (a) {
            var b = this.history = new Ne(this.history.maxGeneration);
            b.done = Ye(a.done.slice(0), null, !0), b.undone = Ye(a.undone.slice(0), null, !0)
        }, addLineClass: kc(function (a, b, c) {
            return vd(this, a, "gutter" == b ? "gutter" : "class", function (a) {
                var d = "text" == b ? "textClass" : "background" == b ? "bgClass" : "gutter" == b ? "gutterClass" : "wrapClass";
                if (a[d]) {
                    if (Bf(c).test(a[d]))return !1;
                    a[d] += " " + c
                } else a[d] = c;
                return !0
            })
        }), removeLineClass: kc(function (a, b, c) {
            return vd(this, a, "class", function (a) {
                var d = "text" == b ? "textClass" : "background" == b ? "bgClass" : "gutter" == b ? "gutterClass" : "wrapClass", e = a[d];
                if (!e)return !1;
                if (null == c)a[d] = null; else {
                    var f = e.match(Bf(c));
                    if (!f)return !1;
                    var g = f.index + f[0].length;
                    a[d] = e.slice(0, f.index) + (f.index && g != e.length ? " " : "") + e.slice(g) || null
                }
                return !0
            })
        }), markText: function (a, b, c) {
            return Cd(this, $(this, a), $(this, b), c, "range")
        }, setBookmark: function (a, b) {
            var c = {
                replacedWith: b && (null == b.nodeType ? b.widget : b),
                insertLeft: b && b.insertLeft,
                clearWhenEmpty: !1,
                shared: b && b.shared
            };
            return a = $(this, a), Cd(this, a, a, c, "bookmark")
        }, findMarksAt: function (a) {
            a = $(this, a);
            var b = [], c = Fe(this, a.line).markedSpans;
            if (c)for (var d = 0; d < c.length; ++d) {
                var e = c[d];
                (null == e.from || e.from <= a.ch) && (null == e.to || e.to >= a.ch) && b.push(e.marker.parent || e.marker)
            }
            return b
        }, findMarks: function (a, b, c) {
            a = $(this, a), b = $(this, b);
            var d = [], e = a.line;
            return this.iter(a.line, b.line + 1, function (f) {
                var g = f.markedSpans;
                if (g)for (var h = 0; h < g.length; h++) {
                    var i = g[h];
                    e == a.line && a.ch > i.to || null == i.from && e != a.line || e == b.line && i.from > b.ch || c && !c(i.marker) || d.push(i.marker.parent || i.marker)
                }
                ++e
            }), d
        }, getAllMarks: function () {
            var a = [];
            return this.iter(function (b) {
                var c = b.markedSpans;
                if (c)for (var d = 0; d < c.length; ++d)null != c[d].from && a.push(c[d].marker)
            }), a
        }, posFromIndex: function (a) {
            var b, c = this.first;
            return this.iter(function (d) {
                var e = d.text.length + 1;
                return e > a ? (b = a, !0) : (a -= e, void++c)
            }), $(this, rg(c, b))
        }, indexFromPos: function (a) {
            a = $(this, a);
            var b = a.ch;
            return a.line < this.first || a.ch < 0 ? 0 : (this.iter(this.first, a.line, function (a) {
                b += a.text.length + 1
            }), b)
        }, copy: function (a) {
            var b = new ch(He(this, this.first, this.first + this.size), this.modeOption, this.first);
            return b.scrollTop = this.scrollTop, b.scrollLeft = this.scrollLeft, b.sel = this.sel, b.extend = !1, a && (b.history.undoDepth = this.history.undoDepth, b.setHistory(this.getHistory())), b
        }, linkedDoc: function (a) {
            a || (a = {});
            var b = this.first, c = this.first + this.size;
            null != a.from && a.from > b && (b = a.from), null != a.to && a.to < c && (c = a.to);
            var d = new ch(He(this, b, c), a.mode || this.modeOption, b);
            return a.sharedHist && (d.history = this.history), (this.linked || (this.linked = [])).push({
                doc: d,
                sharedHist: a.sharedHist
            }), d.linked = [{doc: this, isParent: !0, sharedHist: a.sharedHist}], Fd(d, Ed(this)), d
        }, unlinkDoc: function (b) {
            if (b instanceof a && (b = b.doc), this.linked)for (var c = 0; c < this.linked.length; ++c) {
                var d = this.linked[c];
                if (d.doc == b) {
                    this.linked.splice(c, 1), b.unlinkDoc(this), Gd(Ed(this));
                    break
                }
            }
            if (b.history == this.history) {
                var e = [b.id];
                De(b, function (a) {
                    e.push(a.id)
                }, !0), b.history = new Ne(null), b.history.done = Ye(this.history.done, e), b.history.undone = Ye(this.history.undone, e)
            }
        }, iterLinkedDocs: function (a) {
            De(this, a)
        }, getMode: function () {
            return this.mode
        }, getEditor: function () {
            return this.cm
        }
    }), ch.prototype.eachLine = ch.prototype.iter;
    var dh = "iter insert remove copy getEditor".split(" ");
    for (var eh in ch.prototype)ch.prototype.hasOwnProperty(eh) && of(dh, eh) < 0 && (a.prototype[eh] = function (a) {
        return function () {
            return a.apply(this.doc, arguments)
        }
    }(ch.prototype[eh]));
    jf(ch);
    var fh = a.e_preventDefault = function (a) {
        a.preventDefault ? a.preventDefault() : a.returnValue = !1
    }, gh = a.e_stopPropagation = function (a) {
        a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0
    }, hh = a.e_stop = function (a) {
        fh(a), gh(a)
    }, ih = a.on = function (a, b, c) {
        if (a.addEventListener)a.addEventListener(b, c, !1); else if (a.attachEvent)a.attachEvent("on" + b, c); else {
            var d = a._handlers || (a._handlers = {}), e = d[b] || (d[b] = []);
            e.push(c)
        }
    }, jh = a.off = function (a, b, c) {
        if (a.removeEventListener)a.removeEventListener(b, c, !1); else if (a.detachEvent)a.detachEvent("on" + b, c); else {
            var d = a._handlers && a._handlers[b];
            if (!d)return;
            for (var e = 0; e < d.length; ++e)if (d[e] == c) {
                d.splice(e, 1);
                break
            }
        }
    }, kh = a.signal = function (a, b) {
        var c = a._handlers && a._handlers[b];
        if (c)for (var d = Array.prototype.slice.call(arguments, 2), e = 0; e < c.length; ++e)c[e].apply(null, d)
    }, lh = null, mh = 30, nh = a.Pass = {
        toString: function () {
            return "CodeMirror.Pass"
        }
    }, oh = {scroll: !1}, ph = {origin: "*mouse"}, qh = {origin: "+move"};
    kf.prototype.set = function (a, b) {
        clearTimeout(this.id), this.id = setTimeout(b, a)
    };
    var rh = a.countColumn = function (a, b, c, d, e) {
        null == b && (b = a.search(/[^\s\u00a0]/), -1 == b && (b = a.length));
        for (var f = d || 0, g = e || 0; ;) {
            var h = a.indexOf("	", f);
            if (0 > h || h >= b)return g + (b - f);
            g += h - f, g += c - g % c, f = h + 1
        }
    }, sh = [""], th = function (a) {
        a.select()
    };
    ig ? th = function (a) {
        a.selectionStart = 0, a.selectionEnd = a.value.length
    } : $f && (th = function (a) {
        try {
            a.select()
        } catch (b) {
        }
    }), [].indexOf && (of = function (a, b) {
        return a.indexOf(b)
    }), [].map && (pf = function (a, b) {
        return a.map(b)
    });
    var uh, vh = /[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/, wh = a.isWordChar = function (a) {
        return /\w/.test(a) || a > "" && (a.toUpperCase() != a.toLowerCase() || vh.test(a))
    }, xh = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
    uh = document.createRange ? function (a, b, c) {
        var d = document.createRange();
        return d.setEnd(a, c), d.setStart(a, b), d
    } : function (a, b, c) {
        var d = document.body.createTextRange();
        try {
            d.moveToElementText(a.parentNode)
        } catch (e) {
            return d
        }
        return d.collapse(!0), d.moveEnd("character", c), d.moveStart("character", b), d
    }, $f && 11 > _f && (Af = function () {
        try {
            return document.activeElement
        } catch (a) {
            return document.body
        }
    });
    var yh, zh, Ah, Bh = a.rmClass = function (a, b) {
        var c = a.className, d = Bf(b).exec(c);
        if (d) {
            var e = c.slice(d.index + d[0].length);
            a.className = c.slice(0, d.index) + (e ? d[1] + e : "")
        }
    }, Ch = a.addClass = function (a, b) {
        var c = a.className;
        Bf(b).test(c) || (a.className += (c ? " " : "") + b)
    }, Dh = !1, Eh = function () {
        if ($f && 9 > _f)return !1;
        var a = wf("div");
        return "draggable" in a || "dragDrop" in a
    }(), Fh = a.splitLines = 3 != "\n\nb".split(/\n/).length ? function (a) {
        for (var b = 0, c = [], d = a.length; d >= b;) {
            var e = a.indexOf("\n", b);
            -1 == e && (e = a.length);
            var f = a.slice(b, "\r" == a.charAt(e - 1) ? e - 1 : e), g = f.indexOf("\r");
            -1 != g ? (c.push(f.slice(0, g)), b += g + 1) : (c.push(f), b = e + 1)
        }
        return c
    } : function (a) {
        return a.split(/\r\n?|\n/)
    }, Gh = window.getSelection ? function (a) {
        try {
            return a.selectionStart != a.selectionEnd
        } catch (b) {
            return !1
        }
    } : function (a) {
        try {
            var b = a.ownerDocument.selection.createRange()
        } catch (c) {
        }
        return b && b.parentElement() == a ? 0 != b.compareEndPoints("StartToEnd", b) : !1
    }, Hh = function () {
        var a = wf("div");
        return "oncopy" in a ? !0 : (a.setAttribute("oncopy", "return;"), "function" == typeof a.oncopy)
    }(), Ih = null, Jh = {
        3: "Enter",
        8: "Backspace",
        9: "Tab",
        13: "Enter",
        16: "Shift",
        17: "Ctrl",
        18: "Alt",
        19: "Pause",
        20: "CapsLock",
        27: "Esc",
        32: "Space",
        33: "PageUp",
        34: "PageDown",
        35: "End",
        36: "Home",
        37: "Left",
        38: "Up",
        39: "Right",
        40: "Down",
        44: "PrintScrn",
        45: "Insert",
        46: "Delete",
        59: ";",
        61: "=",
        91: "Mod",
        92: "Mod",
        93: "Mod",
        107: "=",
        109: "-",
        127: "Delete",
        173: "-",
        186: ";",
        187: "=",
        188: ",",
        189: "-",
        190: ".",
        191: "/",
        192: "`",
        219: "[",
        220: "\\",
        221: "]",
        222: "'",
        63232: "Up",
        63233: "Down",
        63234: "Left",
        63235: "Right",
        63272: "Delete",
        63273: "Home",
        63275: "End",
        63276: "PageUp",
        63277: "PageDown",
        63302: "Insert"
    };
    a.keyNames = Jh, function () {
        for (var a = 0; 10 > a; a++)Jh[a + 48] = Jh[a + 96] = String(a);
        for (var a = 65; 90 >= a; a++)Jh[a] = String.fromCharCode(a);
        for (var a = 1; 12 >= a; a++)Jh[a + 111] = Jh[a + 63235] = "F" + a
    }();
    var Kh, Lh = function () {
        function a(a) {
            return 247 >= a ? c.charAt(a) : a >= 1424 && 1524 >= a ? "R" : a >= 1536 && 1773 >= a ? d.charAt(a - 1536) : a >= 1774 && 2220 >= a ? "r" : a >= 8192 && 8203 >= a ? "w" : 8204 == a ? "b" : "L"
        }

        function b(a, b, c) {
            this.level = a, this.from = b, this.to = c
        }

        var c = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN", d = "rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm", e = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/, f = /[stwN]/, g = /[LRr]/, h = /[Lb1n]/, i = /[1n]/, j = "L";
        return function (c) {
            if (!e.test(c))return !1;
            for (var d, k = c.length, l = [], m = 0; k > m; ++m)l.push(d = a(c.charCodeAt(m)));
            for (var m = 0, n = j; k > m; ++m) {
                var d = l[m];
                "m" == d ? l[m] = n : n = d
            }
            for (var m = 0, o = j; k > m; ++m) {
                var d = l[m];
                "1" == d && "r" == o ? l[m] = "n" : g.test(d) && (o = d, "r" == d && (l[m] = "R"))
            }
            for (var m = 1, n = l[0]; k - 1 > m; ++m) {
                var d = l[m];
                "+" == d && "1" == n && "1" == l[m + 1] ? l[m] = "1" : "," != d || n != l[m + 1] || "1" != n && "n" != n || (l[m] = n), n = d
            }
            for (var m = 0; k > m; ++m) {
                var d = l[m];
                if ("," == d)l[m] = "N"; else if ("%" == d) {
                    for (var p = m + 1; k > p && "%" == l[p]; ++p);
                    for (var q = m && "!" == l[m - 1] || k > p && "1" == l[p] ? "1" : "N", r = m; p > r; ++r)l[r] = q;
                    m = p - 1
                }
            }
            for (var m = 0, o = j; k > m; ++m) {
                var d = l[m];
                "L" == o && "1" == d ? l[m] = "L" : g.test(d) && (o = d)
            }
            for (var m = 0; k > m; ++m)if (f.test(l[m])) {
                for (var p = m + 1; k > p && f.test(l[p]); ++p);
                for (var s = "L" == (m ? l[m - 1] : j), t = "L" == (k > p ? l[p] : j), q = s || t ? "L" : "R", r = m; p > r; ++r)l[r] = q;
                m = p - 1
            }
            for (var u, v = [], m = 0; k > m;)if (h.test(l[m])) {
                var w = m;
                for (++m; k > m && h.test(l[m]); ++m);
                v.push(new b(0, w, m))
            } else {
                var x = m, y = v.length;
                for (++m; k > m && "L" != l[m]; ++m);
                for (var r = x; m > r;)if (i.test(l[r])) {
                    r > x && v.splice(y, 0, new b(1, x, r));
                    var z = r;
                    for (++r; m > r && i.test(l[r]); ++r);
                    v.splice(y, 0, new b(2, z, r)), x = r
                } else++r;
                m > x && v.splice(y, 0, new b(1, x, m))
            }
            return 1 == v[0].level && (u = c.match(/^\s+/)) && (v[0].from = u[0].length, v.unshift(new b(0, 0, u[0].length))), 1 == nf(v).level && (u = c.match(/\s+$/)) && (nf(v).to -= u[0].length, v.push(new b(0, k - u[0].length, k))), v[0].level != nf(v).level && v.push(new b(v[0].level, k, k)), v
        }
    }();
    return a.version = "4.8.0", a
}), angular.module("ui.bootstrap", ["ui.bootstrap.tpls", "ui.bootstrap.transition", "ui.bootstrap.collapse", "ui.bootstrap.accordion", "ui.bootstrap.alert", "ui.bootstrap.bindHtml", "ui.bootstrap.buttons", "ui.bootstrap.carousel", "ui.bootstrap.dateparser", "ui.bootstrap.position", "ui.bootstrap.datepicker", "ui.bootstrap.dropdown", "ui.bootstrap.modal", "ui.bootstrap.pagination", "ui.bootstrap.tooltip", "ui.bootstrap.popover", "ui.bootstrap.progressbar", "ui.bootstrap.rating", "ui.bootstrap.tabs", "ui.bootstrap.timepicker", "ui.bootstrap.typeahead"]), angular.module("ui.bootstrap.tpls", ["template/accordion/accordion-group.html", "template/accordion/accordion.html", "template/alert/alert.html", "template/carousel/carousel.html", "template/carousel/slide.html", "template/datepicker/datepicker.html", "template/datepicker/day.html", "template/datepicker/month.html", "template/datepicker/popup.html", "template/datepicker/year.html", "template/modal/backdrop.html", "template/modal/window.html", "template/pagination/pager.html", "template/pagination/pagination.html", "template/tooltip/tooltip-html-unsafe-popup.html", "template/tooltip/tooltip-popup.html", "template/popover/popover.html", "template/progressbar/bar.html", "template/progressbar/progress.html", "template/progressbar/progressbar.html", "template/rating/rating.html", "template/tabs/tab.html", "template/tabs/tabset.html", "template/timepicker/timepicker.html", "template/typeahead/typeahead-match.html", "template/typeahead/typeahead-popup.html"]), angular.module("ui.bootstrap.transition", []).factory("$transition", ["$q", "$timeout", "$rootScope", function (a, b, c) {
    function d(a) {
        for (var b in a)if (void 0 !== f.style[b])return a[b]
    }

    var e = function (d, f, g) {
        g = g || {};
        var h = a.defer(), i = e[g.animation ? "animationEndEventName" : "transitionEndEventName"], j = function () {
            c.$apply(function () {
                d.unbind(i, j), h.resolve(d)
            })
        };
        return i && d.bind(i, j), b(function () {
            angular.isString(f) ? d.addClass(f) : angular.isFunction(f) ? f(d) : angular.isObject(f) && d.css(f), i || h.resolve(d)
        }), h.promise.cancel = function () {
            i && d.unbind(i, j), h.reject("Transition cancelled")
        }, h.promise
    }, f = document.createElement("trans"), g = {
        WebkitTransition: "webkitTransitionEnd",
        MozTransition: "transitionend",
        OTransition: "oTransitionEnd",
        transition: "transitionend"
    }, h = {
        WebkitTransition: "webkitAnimationEnd",
        MozTransition: "animationend",
        OTransition: "oAnimationEnd",
        transition: "animationend"
    };
    return e.transitionEndEventName = d(g), e.animationEndEventName = d(h), e
}]), angular.module("ui.bootstrap.collapse", ["ui.bootstrap.transition"]).directive("collapse", ["$transition", function (a) {
    return {
        link: function (b, c, d) {
            function e(b) {
                function d() {
                    j === e && (j = void 0)
                }

                var e = a(c, b);
                return j && j.cancel(), j = e, e.then(d, d), e
            }

            function f() {
                k ? (k = !1, g()) : (c.removeClass("collapse").addClass("collapsing"), e({height: c[0].scrollHeight + "px"}).then(g))
            }

            function g() {
                c.removeClass("collapsing"), c.addClass("collapse in"), c.css({height: "auto"})
            }

            function h() {
                k ? (k = !1, i(), c.css({height: 0})) : (c.css({height: c[0].scrollHeight + "px"}), c[0].offsetWidth, c.removeClass("collapse in").addClass("collapsing"), e({height: 0}).then(i))
            }

            function i() {
                c.removeClass("collapsing"), c.addClass("collapse")
            }

            var j, k = !0;
            b.$watch(d.collapse, function (a) {
                a ? h() : f()
            })
        }
    }
}]), angular.module("ui.bootstrap.accordion", ["ui.bootstrap.collapse"]).constant("accordionConfig", {closeOthers: !0}).controller("AccordionController", ["$scope", "$attrs", "accordionConfig", function (a, b, c) {
    this.groups = [], this.closeOthers = function (d) {
        var e = angular.isDefined(b.closeOthers) ? a.$eval(b.closeOthers) : c.closeOthers;
        e && angular.forEach(this.groups, function (a) {
            a !== d && (a.isOpen = !1)
        })
    }, this.addGroup = function (a) {
        var b = this;
        this.groups.push(a), a.$on("$destroy", function () {
            b.removeGroup(a)
        })
    }, this.removeGroup = function (a) {
        var b = this.groups.indexOf(a);
        -1 !== b && this.groups.splice(b, 1)
    }
}]).directive("accordion", function () {
    return {
        restrict: "EA",
        controller: "AccordionController",
        transclude: !0,
        replace: !1,
        templateUrl: "template/accordion/accordion.html"
    }
}).directive("accordionGroup", function () {
    return {
        require: "^accordion",
        restrict: "EA",
        transclude: !0,
        replace: !0,
        templateUrl: "template/accordion/accordion-group.html",
        scope: {heading: "@", isOpen: "=?", isDisabled: "=?"},
        controller: function () {
            this.setHeading = function (a) {
                this.heading = a
            }
        },
        link: function (a, b, c, d) {
            d.addGroup(a), a.$watch("isOpen", function (b) {
                b && d.closeOthers(a)
            }), a.toggleOpen = function () {
                a.isDisabled || (a.isOpen = !a.isOpen)
            }
        }
    }
}).directive("accordionHeading", function () {
    return {
        restrict: "EA",
        transclude: !0,
        template: "",
        replace: !0,
        require: "^accordionGroup",
        link: function (a, b, c, d, e) {
            d.setHeading(e(a, function () {
            }))
        }
    }
}).directive("accordionTransclude", function () {
    return {
        require: "^accordionGroup", link: function (a, b, c, d) {
            a.$watch(function () {
                return d[c.accordionTransclude]
            }, function (a) {
                a && (b.html(""), b.append(a))
            })
        }
    }
}), angular.module("ui.bootstrap.alert", []).controller("AlertController", ["$scope", "$attrs", function (a, b) {
    a.closeable = "close" in b
}]).directive("alert", function () {
    return {
        restrict: "EA",
        controller: "AlertController",
        templateUrl: "template/alert/alert.html",
        transclude: !0,
        replace: !0,
        scope: {type: "@", close: "&"}
    }
}), angular.module("ui.bootstrap.bindHtml", []).directive("bindHtmlUnsafe", function () {
    return function (a, b, c) {
        b.addClass("ng-binding").data("$binding", c.bindHtmlUnsafe), a.$watch(c.bindHtmlUnsafe, function (a) {
            b.html(a || "")
        })
    }
}), angular.module("ui.bootstrap.buttons", []).constant("buttonConfig", {
    activeClass: "active",
    toggleEvent: "click"
}).controller("ButtonsController", ["buttonConfig", function (a) {
    this.activeClass = a.activeClass || "active", this.toggleEvent = a.toggleEvent || "click"
}]).directive("btnRadio", function () {
    return {
        require: ["btnRadio", "ngModel"], controller: "ButtonsController", link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            f.$render = function () {
                b.toggleClass(e.activeClass, angular.equals(f.$modelValue, a.$eval(c.btnRadio)))
            }, b.bind(e.toggleEvent, function () {
                var d = b.hasClass(e.activeClass);
                (!d || angular.isDefined(c.uncheckable)) && a.$apply(function () {
                    f.$setViewValue(d ? null : a.$eval(c.btnRadio)), f.$render()
                })
            })
        }
    }
}).directive("btnCheckbox", function () {
    return {
        require: ["btnCheckbox", "ngModel"], controller: "ButtonsController", link: function (a, b, c, d) {
            function e() {
                return g(c.btnCheckboxTrue, !0)
            }

            function f() {
                return g(c.btnCheckboxFalse, !1)
            }

            function g(b, c) {
                var d = a.$eval(b);
                return angular.isDefined(d) ? d : c
            }

            var h = d[0], i = d[1];
            i.$render = function () {
                b.toggleClass(h.activeClass, angular.equals(i.$modelValue, e()))
            }, b.bind(h.toggleEvent, function () {
                a.$apply(function () {
                    i.$setViewValue(b.hasClass(h.activeClass) ? f() : e()), i.$render()
                })
            })
        }
    }
}), angular.module("ui.bootstrap.carousel", ["ui.bootstrap.transition"]).controller("CarouselController", ["$scope", "$timeout", "$transition", function (a, b, c) {
    function d() {
        e();
        var c = +a.interval;
        !isNaN(c) && c >= 0 && (g = b(f, c))
    }

    function e() {
        g && (b.cancel(g), g = null)
    }

    function f() {
        h ? (a.next(), d()) : a.pause()
    }

    var g, h, i = this, j = i.slides = a.slides = [], k = -1;
    i.currentSlide = null;
    var l = !1;
    i.select = a.select = function (e, f) {
        function g() {
            l || (i.currentSlide && angular.isString(f) && !a.noTransition && e.$element ? (e.$element.addClass(f), e.$element[0].offsetWidth, angular.forEach(j, function (a) {
                angular.extend(a, {direction: "", entering: !1, leaving: !1, active: !1})
            }), angular.extend(e, {
                direction: f,
                active: !0,
                entering: !0
            }), angular.extend(i.currentSlide || {}, {
                direction: f,
                leaving: !0
            }), a.$currentTransition = c(e.$element, {}), function (b, c) {
                a.$currentTransition.then(function () {
                    h(b, c)
                }, function () {
                    h(b, c)
                })
            }(e, i.currentSlide)) : h(e, i.currentSlide), i.currentSlide = e, k = m, d())
        }

        function h(b, c) {
            angular.extend(b, {
                direction: "",
                active: !0,
                leaving: !1,
                entering: !1
            }), angular.extend(c || {}, {
                direction: "",
                active: !1,
                leaving: !1,
                entering: !1
            }), a.$currentTransition = null
        }

        var m = j.indexOf(e);
        void 0 === f && (f = m > k ? "next" : "prev"), e && e !== i.currentSlide && (a.$currentTransition ? (a.$currentTransition.cancel(), b(g)) : g())
    }, a.$on("$destroy", function () {
        l = !0
    }), i.indexOfSlide = function (a) {
        return j.indexOf(a)
    }, a.next = function () {
        var b = (k + 1) % j.length;
        return a.$currentTransition ? void 0 : i.select(j[b], "next")
    }, a.prev = function () {
        var b = 0 > k - 1 ? j.length - 1 : k - 1;
        return a.$currentTransition ? void 0 : i.select(j[b], "prev")
    }, a.isActive = function (a) {
        return i.currentSlide === a
    }, a.$watch("interval", d), a.$on("$destroy", e), a.play = function () {
        h || (h = !0, d())
    }, a.pause = function () {
        a.noPause || (h = !1, e())
    }, i.addSlide = function (b, c) {
        b.$element = c, j.push(b), 1 === j.length || b.active ? (i.select(j[j.length - 1]), 1 == j.length && a.play()) : b.active = !1
    }, i.removeSlide = function (a) {
        var b = j.indexOf(a);
        j.splice(b, 1), j.length > 0 && a.active ? i.select(b >= j.length ? j[b - 1] : j[b]) : k > b && k--
    }
}]).directive("carousel", [function () {
    return {
        restrict: "EA",
        transclude: !0,
        replace: !0,
        controller: "CarouselController",
        require: "carousel",
        templateUrl: "template/carousel/carousel.html",
        scope: {interval: "=", noTransition: "=", noPause: "="}
    }
}]).directive("slide", function () {
    return {
        require: "^carousel",
        restrict: "EA",
        transclude: !0,
        replace: !0,
        templateUrl: "template/carousel/slide.html",
        scope: {active: "=?"},
        link: function (a, b, c, d) {
            d.addSlide(a, b), a.$on("$destroy", function () {
                d.removeSlide(a)
            }), a.$watch("active", function (b) {
                b && d.select(a)
            })
        }
    }
}), angular.module("ui.bootstrap.dateparser", []).service("dateParser", ["$locale", "orderByFilter", function (a, b) {
    function c(a, b, c) {
        return 1 === b && c > 28 ? 29 === c && (a % 4 === 0 && a % 100 !== 0 || a % 400 === 0) : 3 === b || 5 === b || 8 === b || 10 === b ? 31 > c : !0
    }

    this.parsers = {};
    var d = {
        yyyy: {
            regex: "\\d{4}", apply: function (a) {
                this.year = +a
            }
        }, yy: {
            regex: "\\d{2}", apply: function (a) {
                this.year = +a + 2e3
            }
        }, y: {
            regex: "\\d{1,4}", apply: function (a) {
                this.year = +a
            }
        }, MMMM: {
            regex: a.DATETIME_FORMATS.MONTH.join("|"), apply: function (b) {
                this.month = a.DATETIME_FORMATS.MONTH.indexOf(b)
            }
        }, MMM: {
            regex: a.DATETIME_FORMATS.SHORTMONTH.join("|"), apply: function (b) {
                this.month = a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)
            }
        }, MM: {
            regex: "0[1-9]|1[0-2]", apply: function (a) {
                this.month = a - 1
            }
        }, M: {
            regex: "[1-9]|1[0-2]", apply: function (a) {
                this.month = a - 1
            }
        }, dd: {
            regex: "[0-2][0-9]{1}|3[0-1]{1}", apply: function (a) {
                this.date = +a
            }
        }, d: {
            regex: "[1-2]?[0-9]{1}|3[0-1]{1}", apply: function (a) {
                this.date = +a
            }
        }, EEEE: {regex: a.DATETIME_FORMATS.DAY.join("|")}, EEE: {regex: a.DATETIME_FORMATS.SHORTDAY.join("|")}
    };
    this.createParser = function (a) {
        var c = [], e = a.split("");
        return angular.forEach(d, function (b, d) {
            var f = a.indexOf(d);
            if (f > -1) {
                a = a.split(""), e[f] = "(" + b.regex + ")", a[f] = "$";
                for (var g = f + 1, h = f + d.length; h > g; g++)e[g] = "", a[g] = "$";
                a = a.join(""), c.push({index: f, apply: b.apply})
            }
        }), {regex: new RegExp("^" + e.join("") + "$"), map: b(c, "index")}
    }, this.parse = function (b, d) {
        if (!angular.isString(b))return b;
        d = a.DATETIME_FORMATS[d] || d, this.parsers[d] || (this.parsers[d] = this.createParser(d));
        var e = this.parsers[d], f = e.regex, g = e.map, h = b.match(f);
        if (h && h.length) {
            for (var i, j = {year: 1900, month: 0, date: 1, hours: 0}, k = 1, l = h.length; l > k; k++) {
                var m = g[k - 1];
                m.apply && m.apply.call(j, h[k])
            }
            return c(j.year, j.month, j.date) && (i = new Date(j.year, j.month, j.date, j.hours)), i
        }
    }
}]), angular.module("ui.bootstrap.position", []).factory("$position", ["$document", "$window", function (a, b) {
    function c(a, c) {
        return a.currentStyle ? a.currentStyle[c] : b.getComputedStyle ? b.getComputedStyle(a)[c] : a.style[c]
    }

    function d(a) {
        return "static" === (c(a, "position") || "static")
    }

    var e = function (b) {
        for (var c = a[0], e = b.offsetParent || c; e && e !== c && d(e);)e = e.offsetParent;
        return e || c
    };
    return {
        position: function (b) {
            var c = this.offset(b), d = {top: 0, left: 0}, f = e(b[0]);
            f != a[0] && (d = this.offset(angular.element(f)), d.top += f.clientTop - f.scrollTop, d.left += f.clientLeft - f.scrollLeft);
            var g = b[0].getBoundingClientRect();
            return {
                width: g.width || b.prop("offsetWidth"),
                height: g.height || b.prop("offsetHeight"),
                top: c.top - d.top,
                left: c.left - d.left
            }
        }, offset: function (c) {
            var d = c[0].getBoundingClientRect();
            return {
                width: d.width || c.prop("offsetWidth"),
                height: d.height || c.prop("offsetHeight"),
                top: d.top + (b.pageYOffset || a[0].documentElement.scrollTop),
                left: d.left + (b.pageXOffset || a[0].documentElement.scrollLeft)
            }
        }, positionElements: function (a, b, c, d) {
            var e, f, g, h, i = c.split("-"), j = i[0], k = i[1] || "center";
            e = d ? this.offset(a) : this.position(a), f = b.prop("offsetWidth"), g = b.prop("offsetHeight");
            var l = {
                center: function () {
                    return e.left + e.width / 2 - f / 2
                }, left: function () {
                    return e.left
                }, right: function () {
                    return e.left + e.width
                }
            }, m = {
                center: function () {
                    return e.top + e.height / 2 - g / 2
                }, top: function () {
                    return e.top
                }, bottom: function () {
                    return e.top + e.height
                }
            };
            switch (j) {
                case"right":
                    h = {top: m[k](), left: l[j]()};
                    break;
                case"left":
                    h = {top: m[k](), left: e.left - f};
                    break;
                case"bottom":
                    h = {top: m[j](), left: l[k]()};
                    break;
                default:
                    h = {top: e.top - g, left: l[k]()}
            }
            return h
        }
    }
}]), angular.module("ui.bootstrap.datepicker", ["ui.bootstrap.dateparser", "ui.bootstrap.position"]).constant("datepickerConfig", {
    formatDay: "dd",
    formatMonth: "MMMM",
    formatYear: "yyyy",
    formatDayHeader: "EEE",
    formatDayTitle: "MMMM yyyy",
    formatMonthTitle: "yyyy",
    datepickerMode: "day",
    minMode: "day",
    maxMode: "year",
    showWeeks: !0,
    startingDay: 0,
    yearRange: 20,
    minDate: null,
    maxDate: null
}).controller("DatepickerController", ["$scope", "$attrs", "$parse", "$interpolate", "$timeout", "$log", "dateFilter", "datepickerConfig", function (a, b, c, d, e, f, g, h) {
    var i = this, j = {$setViewValue: angular.noop};
    this.modes = ["day", "month", "year"], angular.forEach(["formatDay", "formatMonth", "formatYear", "formatDayHeader", "formatDayTitle", "formatMonthTitle", "minMode", "maxMode", "showWeeks", "startingDay", "yearRange"], function (c, e) {
        i[c] = angular.isDefined(b[c]) ? 8 > e ? d(b[c])(a.$parent) : a.$parent.$eval(b[c]) : h[c]
    }), angular.forEach(["minDate", "maxDate"], function (d) {
        b[d] ? a.$parent.$watch(c(b[d]), function (a) {
            i[d] = a ? new Date(a) : null, i.refreshView()
        }) : i[d] = h[d] ? new Date(h[d]) : null
    }), a.datepickerMode = a.datepickerMode || h.datepickerMode, a.uniqueId = "datepicker-" + a.$id + "-" + Math.floor(1e4 * Math.random()), this.activeDate = angular.isDefined(b.initDate) ? a.$parent.$eval(b.initDate) : new Date, a.isActive = function (b) {
        return 0 === i.compare(b.date, i.activeDate) ? (a.activeDateId = b.uid, !0) : !1
    }, this.init = function (a) {
        j = a, j.$render = function () {
            i.render()
        }
    }, this.render = function () {
        if (j.$modelValue) {
            var a = new Date(j.$modelValue), b = !isNaN(a);
            b ? this.activeDate = a : f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'), j.$setValidity("date", b)
        }
        this.refreshView()
    }, this.refreshView = function () {
        if (this.element) {
            this._refreshView();
            var a = j.$modelValue ? new Date(j.$modelValue) : null;
            j.$setValidity("date-disabled", !a || this.element && !this.isDisabled(a))
        }
    }, this.createDateObject = function (a, b) {
        var c = j.$modelValue ? new Date(j.$modelValue) : null;
        return {
            date: a,
            label: g(a, b),
            selected: c && 0 === this.compare(a, c),
            disabled: this.isDisabled(a),
            current: 0 === this.compare(a, new Date)
        }
    }, this.isDisabled = function (c) {
        return this.minDate && this.compare(c, this.minDate) < 0 || this.maxDate && this.compare(c, this.maxDate) > 0 || b.dateDisabled && a.dateDisabled({
                date: c,
                mode: a.datepickerMode
            })
    }, this.split = function (a, b) {
        for (var c = []; a.length > 0;)c.push(a.splice(0, b));
        return c
    }, a.select = function (b) {
        if (a.datepickerMode === i.minMode) {
            var c = j.$modelValue ? new Date(j.$modelValue) : new Date(0, 0, 0, 0, 0, 0, 0);
            c.setFullYear(b.getFullYear(), b.getMonth(), b.getDate()), j.$setViewValue(c), j.$render()
        } else i.activeDate = b, a.datepickerMode = i.modes[i.modes.indexOf(a.datepickerMode) - 1]
    }, a.move = function (a) {
        var b = i.activeDate.getFullYear() + a * (i.step.years || 0), c = i.activeDate.getMonth() + a * (i.step.months || 0);
        i.activeDate.setFullYear(b, c, 1), i.refreshView()
    }, a.toggleMode = function (b) {
        b = b || 1, a.datepickerMode === i.maxMode && 1 === b || a.datepickerMode === i.minMode && -1 === b || (a.datepickerMode = i.modes[i.modes.indexOf(a.datepickerMode) + b])
    }, a.keys = {
        13: "enter",
        32: "space",
        33: "pageup",
        34: "pagedown",
        35: "end",
        36: "home",
        37: "left",
        38: "up",
        39: "right",
        40: "down"
    };
    var k = function () {
        e(function () {
            i.element[0].focus()
        }, 0, !1)
    };
    a.$on("datepicker.focus", k), a.keydown = function (b) {
        var c = a.keys[b.which];
        if (c && !b.shiftKey && !b.altKey)if (b.preventDefault(), b.stopPropagation(), "enter" === c || "space" === c) {
            if (i.isDisabled(i.activeDate))return;
            a.select(i.activeDate), k()
        } else!b.ctrlKey || "up" !== c && "down" !== c ? (i.handleKeyDown(c, b), i.refreshView()) : (a.toggleMode("up" === c ? 1 : -1), k())
    }
}]).directive("datepicker", function () {
    return {
        restrict: "EA",
        replace: !0,
        templateUrl: "template/datepicker/datepicker.html",
        scope: {datepickerMode: "=?", dateDisabled: "&"},
        require: ["datepicker", "?^ngModel"],
        controller: "DatepickerController",
        link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            f && e.init(f)
        }
    }
}).directive("daypicker", ["dateFilter", function (a) {
    return {
        restrict: "EA",
        replace: !0,
        templateUrl: "template/datepicker/day.html",
        require: "^datepicker",
        link: function (b, c, d, e) {
            function f(a, b) {
                return 1 !== b || a % 4 !== 0 || a % 100 === 0 && a % 400 !== 0 ? i[b] : 29
            }

            function g(a, b) {
                var c = new Array(b), d = new Date(a), e = 0;
                for (d.setHours(12); b > e;)c[e++] = new Date(d), d.setDate(d.getDate() + 1);
                return c
            }

            function h(a) {
                var b = new Date(a);
                b.setDate(b.getDate() + 4 - (b.getDay() || 7));
                var c = b.getTime();
                return b.setMonth(0), b.setDate(1), Math.floor(Math.round((c - b) / 864e5) / 7) + 1
            }

            b.showWeeks = e.showWeeks, e.step = {months: 1}, e.element = c;
            var i = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            e._refreshView = function () {
                var c = e.activeDate.getFullYear(), d = e.activeDate.getMonth(), f = new Date(c, d, 1), i = e.startingDay - f.getDay(), j = i > 0 ? 7 - i : -i, k = new Date(f);
                j > 0 && k.setDate(-j + 1);
                for (var l = g(k, 42), m = 0; 42 > m; m++)l[m] = angular.extend(e.createDateObject(l[m], e.formatDay), {
                    secondary: l[m].getMonth() !== d,
                    uid: b.uniqueId + "-" + m
                });
                b.labels = new Array(7);
                for (var n = 0; 7 > n; n++)b.labels[n] = {
                    abbr: a(l[n].date, e.formatDayHeader),
                    full: a(l[n].date, "EEEE")
                };
                if (b.title = a(e.activeDate, e.formatDayTitle), b.rows = e.split(l, 7), b.showWeeks) {
                    b.weekNumbers = [];
                    for (var o = h(b.rows[0][0].date), p = b.rows.length; b.weekNumbers.push(o++) < p;);
                }
            }, e.compare = function (a, b) {
                return new Date(a.getFullYear(), a.getMonth(), a.getDate()) - new Date(b.getFullYear(), b.getMonth(), b.getDate())
            }, e.handleKeyDown = function (a) {
                var b = e.activeDate.getDate();
                if ("left" === a)b -= 1; else if ("up" === a)b -= 7; else if ("right" === a)b += 1; else if ("down" === a)b += 7; else if ("pageup" === a || "pagedown" === a) {
                    var c = e.activeDate.getMonth() + ("pageup" === a ? -1 : 1);
                    e.activeDate.setMonth(c, 1), b = Math.min(f(e.activeDate.getFullYear(), e.activeDate.getMonth()), b)
                } else"home" === a ? b = 1 : "end" === a && (b = f(e.activeDate.getFullYear(), e.activeDate.getMonth()));
                e.activeDate.setDate(b)
            }, e.refreshView()
        }
    }
}]).directive("monthpicker", ["dateFilter", function (a) {
    return {
        restrict: "EA",
        replace: !0,
        templateUrl: "template/datepicker/month.html",
        require: "^datepicker",
        link: function (b, c, d, e) {
            e.step = {years: 1}, e.element = c, e._refreshView = function () {
                for (var c = new Array(12), d = e.activeDate.getFullYear(), f = 0; 12 > f; f++)c[f] = angular.extend(e.createDateObject(new Date(d, f, 1), e.formatMonth), {uid: b.uniqueId + "-" + f});
                b.title = a(e.activeDate, e.formatMonthTitle), b.rows = e.split(c, 3)
            }, e.compare = function (a, b) {
                return new Date(a.getFullYear(), a.getMonth()) - new Date(b.getFullYear(), b.getMonth())
            }, e.handleKeyDown = function (a) {
                var b = e.activeDate.getMonth();
                if ("left" === a)b -= 1; else if ("up" === a)b -= 3; else if ("right" === a)b += 1; else if ("down" === a)b += 3; else if ("pageup" === a || "pagedown" === a) {
                    var c = e.activeDate.getFullYear() + ("pageup" === a ? -1 : 1);
                    e.activeDate.setFullYear(c)
                } else"home" === a ? b = 0 : "end" === a && (b = 11);
                e.activeDate.setMonth(b)
            }, e.refreshView()
        }
    }
}]).directive("yearpicker", ["dateFilter", function () {
    return {
        restrict: "EA",
        replace: !0,
        templateUrl: "template/datepicker/year.html",
        require: "^datepicker",
        link: function (a, b, c, d) {
            function e(a) {
                return parseInt((a - 1) / f, 10) * f + 1
            }

            var f = d.yearRange;
            d.step = {years: f}, d.element = b, d._refreshView = function () {
                for (var b = new Array(f), c = 0, g = e(d.activeDate.getFullYear()); f > c; c++)b[c] = angular.extend(d.createDateObject(new Date(g + c, 0, 1), d.formatYear), {uid: a.uniqueId + "-" + c});
                a.title = [b[0].label, b[f - 1].label].join(" - "), a.rows = d.split(b, 5)
            }, d.compare = function (a, b) {
                return a.getFullYear() - b.getFullYear()
            }, d.handleKeyDown = function (a) {
                var b = d.activeDate.getFullYear();
                "left" === a ? b -= 1 : "up" === a ? b -= 5 : "right" === a ? b += 1 : "down" === a ? b += 5 : "pageup" === a || "pagedown" === a ? b += ("pageup" === a ? -1 : 1) * d.step.years : "home" === a ? b = e(d.activeDate.getFullYear()) : "end" === a && (b = e(d.activeDate.getFullYear()) + f - 1), d.activeDate.setFullYear(b)
            }, d.refreshView()
        }
    }
}]).constant("datepickerPopupConfig", {
    datepickerPopup: "yyyy-MM-dd",
    currentText: "Today",
    clearText: "Clear",
    closeText: "Done",
    closeOnDateSelection: !0,
    appendToBody: !1,
    showButtonBar: !0
}).directive("datepickerPopup", ["$compile", "$parse", "$document", "$position", "dateFilter", "dateParser", "datepickerPopupConfig", function (a, b, c, d, e, f, g) {
    return {
        restrict: "EA",
        require: "ngModel",
        scope: {isOpen: "=?", currentText: "@", clearText: "@", closeText: "@", dateDisabled: "&"},
        link: function (h, i, j, k) {
            function l(a) {
                return a.replace(/([A-Z])/g, function (a) {
                    return "-" + a.toLowerCase()
                })
            }

            function m(a) {
                if (a) {
                    if (angular.isDate(a) && !isNaN(a))return k.$setValidity("date", !0), a;
                    if (angular.isString(a)) {
                        var b = f.parse(a, n) || new Date(a);
                        return isNaN(b) ? void k.$setValidity("date", !1) : (k.$setValidity("date", !0), b)
                    }
                    return void k.$setValidity("date", !1)
                }
                return k.$setValidity("date", !0), null
            }

            var n, o = angular.isDefined(j.closeOnDateSelection) ? h.$parent.$eval(j.closeOnDateSelection) : g.closeOnDateSelection, p = angular.isDefined(j.datepickerAppendToBody) ? h.$parent.$eval(j.datepickerAppendToBody) : g.appendToBody;
            h.showButtonBar = angular.isDefined(j.showButtonBar) ? h.$parent.$eval(j.showButtonBar) : g.showButtonBar, h.getText = function (a) {
                return h[a + "Text"] || g[a + "Text"]
            }, j.$observe("datepickerPopup", function (a) {
                n = a || g.datepickerPopup, k.$render()
            });
            var q = angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");
            q.attr({"ng-model": "date", "ng-change": "dateSelection()"});
            var r = angular.element(q.children()[0]);
            j.datepickerOptions && angular.forEach(h.$parent.$eval(j.datepickerOptions), function (a, b) {
                r.attr(l(b), a)
            }), angular.forEach(["minDate", "maxDate"], function (a) {
                j[a] && (h.$parent.$watch(b(j[a]), function (b) {
                    h[a] = b
                }), r.attr(l(a), a))
            }), j.dateDisabled && r.attr("date-disabled", "dateDisabled({ date: date, mode: mode })"), k.$parsers.unshift(m), h.dateSelection = function (a) {
                angular.isDefined(a) && (h.date = a), k.$setViewValue(h.date), k.$render(), o && (h.isOpen = !1, i[0].focus())
            }, i.bind("input change keyup", function () {
                h.$apply(function () {
                    h.date = k.$modelValue
                })
            }), k.$render = function () {
                var a = k.$viewValue ? e(k.$viewValue, n) : "";
                i.val(a), h.date = m(k.$modelValue)
            };
            var s = function (a) {
                h.isOpen && a.target !== i[0] && h.$apply(function () {
                    h.isOpen = !1
                })
            }, t = function (a) {
                h.keydown(a)
            };
            i.bind("keydown", t), h.keydown = function (a) {
                27 === a.which ? (a.preventDefault(), a.stopPropagation(), h.close()) : 40 !== a.which || h.isOpen || (h.isOpen = !0)
            }, h.$watch("isOpen", function (a) {
                a ? (h.$broadcast("datepicker.focus"), h.position = p ? d.offset(i) : d.position(i), h.position.top = h.position.top + i.prop("offsetHeight"), c.bind("click", s)) : c.unbind("click", s)
            }), h.select = function (a) {
                if ("today" === a) {
                    var b = new Date;
                    angular.isDate(k.$modelValue) ? (a = new Date(k.$modelValue), a.setFullYear(b.getFullYear(), b.getMonth(), b.getDate())) : a = new Date(b.setHours(0, 0, 0, 0))
                }
                h.dateSelection(a)
            }, h.close = function () {
                h.isOpen = !1, i[0].focus()
            };
            var u = a(q)(h);
            p ? c.find("body").append(u) : i.after(u), h.$on("$destroy", function () {
                u.remove(), i.unbind("keydown", t), c.unbind("click", s)
            })
        }
    }
}]).directive("datepickerPopupWrap", function () {
    return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        templateUrl: "template/datepicker/popup.html",
        link: function (a, b) {
            b.bind("click", function (a) {
                a.preventDefault(), a.stopPropagation()
            })
        }
    }
}), angular.module("ui.bootstrap.dropdown", []).constant("dropdownConfig", {openClass: "open"}).service("dropdownService", ["$document", function (a) {
    var b = null;
    this.open = function (e) {
        b || (a.bind("click", c), a.bind("keydown", d)), b && b !== e && (b.isOpen = !1), b = e
    }, this.close = function (e) {
        b === e && (b = null, a.unbind("click", c), a.unbind("keydown", d))
    };
    var c = function (a) {
        a && a.isDefaultPrevented() || b.$apply(function () {
            b.isOpen = !1
        })
    }, d = function (a) {
        27 === a.which && (b.focusToggleElement(), c())
    }
}]).controller("DropdownController", ["$scope", "$attrs", "$parse", "dropdownConfig", "dropdownService", "$animate", function (a, b, c, d, e, f) {
    var g, h = this, i = a.$new(), j = d.openClass, k = angular.noop, l = b.onToggle ? c(b.onToggle) : angular.noop;
    this.init = function (d) {
        h.$element = d, b.isOpen && (g = c(b.isOpen), k = g.assign, a.$watch(g, function (a) {
            i.isOpen = !!a
        }))
    }, this.toggle = function (a) {
        return i.isOpen = arguments.length ? !!a : !i.isOpen
    }, this.isOpen = function () {
        return i.isOpen
    }, i.focusToggleElement = function () {
        h.toggleElement && h.toggleElement[0].focus()
    }, i.$watch("isOpen", function (b, c) {
        f[b ? "addClass" : "removeClass"](h.$element, j), b ? (i.focusToggleElement(), e.open(i)) : e.close(i), k(a, b), angular.isDefined(b) && b !== c && l(a, {open: !!b})
    }), a.$on("$locationChangeSuccess", function () {
        i.isOpen = !1
    }), a.$on("$destroy", function () {
        i.$destroy()
    })
}]).directive("dropdown", function () {
    return {
        restrict: "CA", controller: "DropdownController", link: function (a, b, c, d) {
            d.init(b)
        }
    }
}).directive("dropdownToggle", function () {
    return {
        restrict: "CA", require: "?^dropdown", link: function (a, b, c, d) {
            if (d) {
                d.toggleElement = b;
                var e = function (e) {
                    e.preventDefault(), b.hasClass("disabled") || c.disabled || a.$apply(function () {
                        d.toggle()
                    })
                };
                b.bind("click", e), b.attr({
                    "aria-haspopup": !0,
                    "aria-expanded": !1
                }), a.$watch(d.isOpen, function (a) {
                    b.attr("aria-expanded", !!a)
                }), a.$on("$destroy", function () {
                    b.unbind("click", e)
                })
            }
        }
    }
}), angular.module("ui.bootstrap.modal", ["ui.bootstrap.transition"]).factory("$$stackedMap", function () {
    return {
        createNew: function () {
            var a = [];
            return {
                add: function (b, c) {
                    a.push({key: b, value: c})
                }, get: function (b) {
                    for (var c = 0; c < a.length; c++)if (b == a[c].key)return a[c]
                }, keys: function () {
                    for (var b = [], c = 0; c < a.length; c++)b.push(a[c].key);
                    return b
                }, top: function () {
                    return a[a.length - 1]
                }, remove: function (b) {
                    for (var c = -1, d = 0; d < a.length; d++)if (b == a[d].key) {
                        c = d;
                        break
                    }
                    return a.splice(c, 1)[0]
                }, removeTop: function () {
                    return a.splice(a.length - 1, 1)[0]
                }, length: function () {
                    return a.length
                }
            }
        }
    }
}).directive("modalBackdrop", ["$timeout", function (a) {
    return {
        restrict: "EA", replace: !0, templateUrl: "template/modal/backdrop.html", link: function (b) {
            b.animate = !1, a(function () {
                b.animate = !0
            })
        }
    }
}]).directive("modalWindow", ["$modalStack", "$timeout", function (a, b) {
    return {
        restrict: "EA",
        scope: {index: "@", animate: "="},
        replace: !0,
        transclude: !0,
        templateUrl: function (a, b) {
            return b.templateUrl || "template/modal/window.html"
        },
        link: function (c, d, e) {
            d.addClass(e.windowClass || ""), c.size = e.size, b(function () {
                c.animate = !0, d[0].focus()
            }), c.close = function (b) {
                var c = a.getTop();
                c && c.value.backdrop && "static" != c.value.backdrop && b.target === b.currentTarget && (b.preventDefault(), b.stopPropagation(), a.dismiss(c.key, "backdrop click"))
            }
        }
    }
}]).factory("$modalStack", ["$transition", "$timeout", "$document", "$compile", "$rootScope", "$$stackedMap", function (a, b, c, d, e, f) {
    function g() {
        for (var a = -1, b = n.keys(), c = 0; c < b.length; c++)n.get(b[c]).value.backdrop && (a = c);
        return a
    }

    function h(a) {
        var b = c.find("body").eq(0), d = n.get(a).value;
        n.remove(a), j(d.modalDomEl, d.modalScope, 300, function () {
            d.modalScope.$destroy(), b.toggleClass(m, n.length() > 0), i()
        })
    }

    function i() {
        if (k && -1 == g()) {
            var a = l;
            j(k, l, 150, function () {
                a.$destroy(), a = null
            }), k = void 0, l = void 0
        }
    }

    function j(c, d, e, f) {
        function g() {
            g.done || (g.done = !0, c.remove(), f && f())
        }

        d.animate = !1;
        var h = a.transitionEndEventName;
        if (h) {
            var i = b(g, e);
            c.bind(h, function () {
                b.cancel(i), g(), d.$apply()
            })
        } else b(g, 0)
    }

    var k, l, m = "modal-open", n = f.createNew(), o = {};
    return e.$watch(g, function (a) {
        l && (l.index = a)
    }), c.bind("keydown", function (a) {
        var b;
        27 === a.which && (b = n.top(), b && b.value.keyboard && (a.preventDefault(), e.$apply(function () {
            o.dismiss(b.key, "escape key press")
        })))
    }), o.open = function (a, b) {
        n.add(a, {deferred: b.deferred, modalScope: b.scope, backdrop: b.backdrop, keyboard: b.keyboard});
        var f = c.find("body").eq(0), h = g();
        h >= 0 && !k && (l = e.$new(!0), l.index = h, k = d("<div modal-backdrop></div>")(l), f.append(k));
        var i = angular.element("<div modal-window></div>");
        i.attr({
            "template-url": b.windowTemplateUrl,
            "window-class": b.windowClass,
            size: b.size,
            index: n.length() - 1,
            animate: "animate"
        }).html(b.content);
        var j = d(i)(b.scope);
        n.top().value.modalDomEl = j, f.append(j), f.addClass(m)
    }, o.close = function (a, b) {
        var c = n.get(a).value;
        c && (c.deferred.resolve(b), h(a))
    }, o.dismiss = function (a, b) {
        var c = n.get(a).value;
        c && (c.deferred.reject(b), h(a))
    }, o.dismissAll = function (a) {
        for (var b = this.getTop(); b;)this.dismiss(b.key, a), b = this.getTop()
    }, o.getTop = function () {
        return n.top()
    }, o
}]).provider("$modal", function () {
    var a = {
        options: {backdrop: !0, keyboard: !0},
        $get: ["$injector", "$rootScope", "$q", "$http", "$templateCache", "$controller", "$modalStack", function (b, c, d, e, f, g, h) {
            function i(a) {
                return a.template ? d.when(a.template) : e.get(a.templateUrl, {cache: f}).then(function (a) {
                    return a.data
                })
            }

            function j(a) {
                var c = [];
                return angular.forEach(a, function (a) {
                    (angular.isFunction(a) || angular.isArray(a)) && c.push(d.when(b.invoke(a)))
                }), c
            }

            var k = {};
            return k.open = function (b) {
                var e = d.defer(), f = d.defer(), k = {
                    result: e.promise, opened: f.promise, close: function (a) {
                        h.close(k, a)
                    }, dismiss: function (a) {
                        h.dismiss(k, a)
                    }
                };
                if (b = angular.extend({}, a.options, b), b.resolve = b.resolve || {}, !b.template && !b.templateUrl)throw new Error("One of template or templateUrl options is required.");
                var l = d.all([i(b)].concat(j(b.resolve)));
                return l.then(function (a) {
                    var d = (b.scope || c).$new();
                    d.$close = k.close, d.$dismiss = k.dismiss;
                    var f, i = {}, j = 1;
                    b.controller && (i.$scope = d, i.$modalInstance = k, angular.forEach(b.resolve, function (b, c) {
                        i[c] = a[j++]
                    }), f = g(b.controller, i)), h.open(k, {
                        scope: d,
                        deferred: e,
                        content: a[0],
                        backdrop: b.backdrop,
                        keyboard: b.keyboard,
                        windowClass: b.windowClass,
                        windowTemplateUrl: b.windowTemplateUrl,
                        size: b.size
                    })
                }, function (a) {
                    e.reject(a)
                }), l.then(function () {
                    f.resolve(!0)
                }, function () {
                    f.reject(!1)
                }), k
            }, k
        }]
    };
    return a
}), angular.module("ui.bootstrap.pagination", []).controller("PaginationController", ["$scope", "$attrs", "$parse", function (a, b, c) {
    var d = this, e = {$setViewValue: angular.noop}, f = b.numPages ? c(b.numPages).assign : angular.noop;
    this.init = function (f, g) {
        e = f, this.config = g, e.$render = function () {
            d.render()
        }, b.itemsPerPage ? a.$parent.$watch(c(b.itemsPerPage), function (b) {
            d.itemsPerPage = parseInt(b, 10), a.totalPages = d.calculateTotalPages()
        }) : this.itemsPerPage = g.itemsPerPage
    }, this.calculateTotalPages = function () {
        var b = this.itemsPerPage < 1 ? 1 : Math.ceil(a.totalItems / this.itemsPerPage);
        return Math.max(b || 0, 1)
    }, this.render = function () {
        a.page = parseInt(e.$viewValue, 10) || 1
    }, a.selectPage = function (b) {
        a.page !== b && b > 0 && b <= a.totalPages && (e.$setViewValue(b), e.$render())
    }, a.getText = function (b) {
        return a[b + "Text"] || d.config[b + "Text"]
    }, a.noPrevious = function () {
        return 1 === a.page
    }, a.noNext = function () {
        return a.page === a.totalPages
    }, a.$watch("totalItems", function () {
        a.totalPages = d.calculateTotalPages()
    }), a.$watch("totalPages", function (b) {
        f(a.$parent, b), a.page > b ? a.selectPage(b) : e.$render()
    })
}]).constant("paginationConfig", {
    itemsPerPage: 10,
    boundaryLinks: !1,
    directionLinks: !0,
    firstText: "First",
    previousText: "Previous",
    nextText: "Next",
    lastText: "Last",
    rotate: !0
}).directive("pagination", ["$parse", "paginationConfig", function (a, b) {
    return {
        restrict: "EA",
        scope: {totalItems: "=", firstText: "@", previousText: "@", nextText: "@", lastText: "@"},
        require: ["pagination", "?ngModel"],
        controller: "PaginationController",
        templateUrl: "template/pagination/pagination.html",
        replace: !0,
        link: function (c, d, e, f) {
            function g(a, b, c) {
                return {number: a, text: b, active: c}
            }

            function h(a, b) {
                var c = [], d = 1, e = b, f = angular.isDefined(k) && b > k;
                f && (l ? (d = Math.max(a - Math.floor(k / 2), 1), e = d + k - 1, e > b && (e = b, d = e - k + 1)) : (d = (Math.ceil(a / k) - 1) * k + 1, e = Math.min(d + k - 1, b)));
                for (var h = d; e >= h; h++) {
                    var i = g(h, h, h === a);
                    c.push(i)
                }
                if (f && !l) {
                    if (d > 1) {
                        var j = g(d - 1, "...", !1);
                        c.unshift(j)
                    }
                    if (b > e) {
                        var m = g(e + 1, "...", !1);
                        c.push(m)
                    }
                }
                return c
            }

            var i = f[0], j = f[1];
            if (j) {
                var k = angular.isDefined(e.maxSize) ? c.$parent.$eval(e.maxSize) : b.maxSize, l = angular.isDefined(e.rotate) ? c.$parent.$eval(e.rotate) : b.rotate;
                c.boundaryLinks = angular.isDefined(e.boundaryLinks) ? c.$parent.$eval(e.boundaryLinks) : b.boundaryLinks, c.directionLinks = angular.isDefined(e.directionLinks) ? c.$parent.$eval(e.directionLinks) : b.directionLinks, i.init(j, b), e.maxSize && c.$parent.$watch(a(e.maxSize), function (a) {
                    k = parseInt(a, 10), i.render()
                });
                var m = i.render;
                i.render = function () {
                    m(), c.page > 0 && c.page <= c.totalPages && (c.pages = h(c.page, c.totalPages))
                }
            }
        }
    }
}]).constant("pagerConfig", {
    itemsPerPage: 10,
    previousText: "« Previous",
    nextText: "Next »",
    align: !0
}).directive("pager", ["pagerConfig", function (a) {
    return {
        restrict: "EA",
        scope: {totalItems: "=", previousText: "@", nextText: "@"},
        require: ["pager", "?ngModel"],
        controller: "PaginationController",
        templateUrl: "template/pagination/pager.html",
        replace: !0,
        link: function (b, c, d, e) {
            var f = e[0], g = e[1];
            g && (b.align = angular.isDefined(d.align) ? b.$parent.$eval(d.align) : a.align, f.init(g, a))
        }
    }
}]), angular.module("ui.bootstrap.tooltip", ["ui.bootstrap.position", "ui.bootstrap.bindHtml"]).provider("$tooltip", function () {
    function a(a) {
        var b = /[A-Z]/g, c = "-";
        return a.replace(b, function (a, b) {
            return (b ? c : "") + a.toLowerCase()
        })
    }

    var b = {placement: "top", animation: !0, popupDelay: 0}, c = {
        mouseenter: "mouseleave",
        click: "click",
        focus: "blur"
    }, d = {};
    this.options = function (a) {
        angular.extend(d, a)
    }, this.setTriggers = function (a) {
        angular.extend(c, a)
    }, this.$get = ["$window", "$compile", "$timeout", "$parse", "$document", "$position", "$interpolate", function (e, f, g, h, i, j, k) {
        return function (e, l, m) {
            function n(a) {
                var b = a || o.trigger || m, d = c[b] || b;
                return {show: b, hide: d}
            }

            var o = angular.extend({}, b, d), p = a(e), q = k.startSymbol(), r = k.endSymbol(), s = "<div " + p + '-popup title="' + q + "tt_title" + r + '" content="' + q + "tt_content" + r + '" placement="' + q + "tt_placement" + r + '" animation="tt_animation" is-open="tt_isOpen"></div>';
            return {
                restrict: "EA", scope: !0, compile: function () {
                    var a = f(s);
                    return function (b, c, d) {
                        function f() {
                            b.tt_isOpen ? m() : k()
                        }

                        function k() {
                            (!y || b.$eval(d[l + "Enable"])) && (b.tt_popupDelay ? v || (v = g(p, b.tt_popupDelay, !1), v.then(function (a) {
                                a()
                            })) : p()())
                        }

                        function m() {
                            b.$apply(function () {
                                q()
                            })
                        }

                        function p() {
                            return v = null, u && (g.cancel(u), u = null), b.tt_content ? (r(), t.css({
                                top: 0,
                                left: 0,
                                display: "block"
                            }), w ? i.find("body").append(t) : c.after(t), z(), b.tt_isOpen = !0, b.$digest(), z) : angular.noop
                        }

                        function q() {
                            b.tt_isOpen = !1, g.cancel(v), v = null, b.tt_animation ? u || (u = g(s, 500)) : s()
                        }

                        function r() {
                            t && s(), t = a(b, function () {
                            }), b.$digest()
                        }

                        function s() {
                            u = null, t && (t.remove(), t = null)
                        }

                        var t, u, v, w = angular.isDefined(o.appendToBody) ? o.appendToBody : !1, x = n(void 0), y = angular.isDefined(d[l + "Enable"]), z = function () {
                            var a = j.positionElements(c, t, b.tt_placement, w);
                            a.top += "px", a.left += "px", t.css(a)
                        };
                        b.tt_isOpen = !1, d.$observe(e, function (a) {
                            b.tt_content = a, !a && b.tt_isOpen && q()
                        }), d.$observe(l + "Title", function (a) {
                            b.tt_title = a
                        }), d.$observe(l + "Placement", function (a) {
                            b.tt_placement = angular.isDefined(a) ? a : o.placement
                        }), d.$observe(l + "PopupDelay", function (a) {
                            var c = parseInt(a, 10);
                            b.tt_popupDelay = isNaN(c) ? o.popupDelay : c
                        });
                        var A = function () {
                            c.unbind(x.show, k), c.unbind(x.hide, m)
                        };
                        d.$observe(l + "Trigger", function (a) {
                            A(), x = n(a), x.show === x.hide ? c.bind(x.show, f) : (c.bind(x.show, k), c.bind(x.hide, m))
                        });
                        var B = b.$eval(d[l + "Animation"]);
                        b.tt_animation = angular.isDefined(B) ? !!B : o.animation, d.$observe(l + "AppendToBody", function (a) {
                            w = angular.isDefined(a) ? h(a)(b) : w
                        }), w && b.$on("$locationChangeSuccess", function () {
                            b.tt_isOpen && q()
                        }), b.$on("$destroy", function () {
                            g.cancel(u), g.cancel(v), A(), s()
                        })
                    }
                }
            }
        }
    }]
}).directive("tooltipPopup", function () {
    return {
        restrict: "EA",
        replace: !0,
        scope: {content: "@", placement: "@", animation: "&", isOpen: "&"},
        templateUrl: "template/tooltip/tooltip-popup.html"
    }
}).directive("tooltip", ["$tooltip", function (a) {
    return a("tooltip", "tooltip", "mouseenter")
}]).directive("tooltipHtmlUnsafePopup", function () {
    return {
        restrict: "EA",
        replace: !0,
        scope: {content: "@", placement: "@", animation: "&", isOpen: "&"},
        templateUrl: "template/tooltip/tooltip-html-unsafe-popup.html"
    }
}).directive("tooltipHtmlUnsafe", ["$tooltip", function (a) {
    return a("tooltipHtmlUnsafe", "tooltip", "mouseenter")
}]), angular.module("ui.bootstrap.popover", ["ui.bootstrap.tooltip"]).directive("popoverPopup", function () {
    return {
        restrict: "EA",
        replace: !0,
        scope: {title: "@", content: "@", placement: "@", animation: "&", isOpen: "&"},
        templateUrl: "template/popover/popover.html"
    }
}).directive("popover", ["$tooltip", function (a) {
    return a("popover", "popover", "click")
}]), angular.module("ui.bootstrap.progressbar", []).constant("progressConfig", {
    animate: !0,
    max: 100
}).controller("ProgressController", ["$scope", "$attrs", "progressConfig", function (a, b, c) {
    var d = this, e = angular.isDefined(b.animate) ? a.$parent.$eval(b.animate) : c.animate;
    this.bars = [], a.max = angular.isDefined(b.max) ? a.$parent.$eval(b.max) : c.max, this.addBar = function (b, c) {
        e || c.css({transition: "none"}), this.bars.push(b), b.$watch("value", function (c) {
            b.percent = +(100 * c / a.max).toFixed(2)
        }), b.$on("$destroy", function () {
            c = null, d.removeBar(b)
        })
    }, this.removeBar = function (a) {
        this.bars.splice(this.bars.indexOf(a), 1)
    }
}]).directive("progress", function () {
    return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        controller: "ProgressController",
        require: "progress",
        scope: {},
        templateUrl: "template/progressbar/progress.html"
    }
}).directive("bar", function () {
    return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        require: "^progress",
        scope: {value: "=", type: "@"},
        templateUrl: "template/progressbar/bar.html",
        link: function (a, b, c, d) {
            d.addBar(a, b)
        }
    }
}).directive("progressbar", function () {
    return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        controller: "ProgressController",
        scope: {value: "=", type: "@"},
        templateUrl: "template/progressbar/progressbar.html",
        link: function (a, b, c, d) {
            d.addBar(a, angular.element(b.children()[0]))
        }
    }
}), angular.module("ui.bootstrap.rating", []).constant("ratingConfig", {
    max: 5,
    stateOn: null,
    stateOff: null
}).controller("RatingController", ["$scope", "$attrs", "ratingConfig", function (a, b, c) {
    var d = {$setViewValue: angular.noop};
    this.init = function (e) {
        d = e, d.$render = this.render, this.stateOn = angular.isDefined(b.stateOn) ? a.$parent.$eval(b.stateOn) : c.stateOn, this.stateOff = angular.isDefined(b.stateOff) ? a.$parent.$eval(b.stateOff) : c.stateOff;
        var f = angular.isDefined(b.ratingStates) ? a.$parent.$eval(b.ratingStates) : new Array(angular.isDefined(b.max) ? a.$parent.$eval(b.max) : c.max);
        a.range = this.buildTemplateObjects(f)
    }, this.buildTemplateObjects = function (a) {
        for (var b = 0, c = a.length; c > b; b++)a[b] = angular.extend({index: b}, {
            stateOn: this.stateOn,
            stateOff: this.stateOff
        }, a[b]);
        return a
    }, a.rate = function (b) {
        !a.readonly && b >= 0 && b <= a.range.length && (d.$setViewValue(b), d.$render())
    }, a.enter = function (b) {
        a.readonly || (a.value = b), a.onHover({value: b})
    }, a.reset = function () {
        a.value = d.$viewValue, a.onLeave()
    }, a.onKeydown = function (b) {
        /(37|38|39|40)/.test(b.which) && (b.preventDefault(), b.stopPropagation(), a.rate(a.value + (38 === b.which || 39 === b.which ? 1 : -1)))
    }, this.render = function () {
        a.value = d.$viewValue
    }
}]).directive("rating", function () {
    return {
        restrict: "EA",
        require: ["rating", "ngModel"],
        scope: {readonly: "=?", onHover: "&", onLeave: "&"},
        controller: "RatingController",
        templateUrl: "template/rating/rating.html",
        replace: !0,
        link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            f && e.init(f)
        }
    }
}), angular.module("ui.bootstrap.tabs", []).controller("TabsetController", ["$scope", function (a) {
    var b = this, c = b.tabs = a.tabs = [];
    b.select = function (a) {
        angular.forEach(c, function (b) {
            b.active && b !== a && (b.active = !1, b.onDeselect())
        }), a.active = !0, a.onSelect()
    }, b.addTab = function (a) {
        c.push(a), 1 === c.length ? a.active = !0 : a.active && b.select(a)
    }, b.removeTab = function (a) {
        var d = c.indexOf(a);
        if (a.active && c.length > 1) {
            var e = d == c.length - 1 ? d - 1 : d + 1;
            b.select(c[e])
        }
        c.splice(d, 1)
    }
}]).directive("tabset", function () {
    return {
        restrict: "EA",
        transclude: !0,
        replace: !0,
        scope: {type: "@"},
        controller: "TabsetController",
        templateUrl: "template/tabs/tabset.html",
        link: function (a, b, c) {
            a.vertical = angular.isDefined(c.vertical) ? a.$parent.$eval(c.vertical) : !1, a.justified = angular.isDefined(c.justified) ? a.$parent.$eval(c.justified) : !1
        }
    }
}).directive("tab", ["$parse", function (a) {
    return {
        require: "^tabset",
        restrict: "EA",
        replace: !0,
        templateUrl: "template/tabs/tab.html",
        transclude: !0,
        scope: {active: "=?", heading: "@", onSelect: "&select", onDeselect: "&deselect"},
        controller: function () {
        },
        compile: function (b, c, d) {
            return function (b, c, e, f) {
                b.$watch("active", function (a) {
                    a && f.select(b)
                }), b.disabled = !1, e.disabled && b.$parent.$watch(a(e.disabled), function (a) {
                    b.disabled = !!a
                }), b.select = function () {
                    b.disabled || (b.active = !0)
                }, f.addTab(b), b.$on("$destroy", function () {
                    f.removeTab(b)
                }), b.$transcludeFn = d
            }
        }
    }
}]).directive("tabHeadingTransclude", [function () {
    return {
        restrict: "A", require: "^tab", link: function (a, b) {
            a.$watch("headingElement", function (a) {
                a && (b.html(""), b.append(a))
            })
        }
    }
}]).directive("tabContentTransclude", function () {
    function a(a) {
        return a.tagName && (a.hasAttribute("tab-heading") || a.hasAttribute("data-tab-heading") || "tab-heading" === a.tagName.toLowerCase() || "data-tab-heading" === a.tagName.toLowerCase())
    }

    return {
        restrict: "A", require: "^tabset", link: function (b, c, d) {
            var e = b.$eval(d.tabContentTransclude);
            e.$transcludeFn(e.$parent, function (b) {
                angular.forEach(b, function (b) {
                    a(b) ? e.headingElement = b : c.append(b)
                })
            })
        }
    }
}), angular.module("ui.bootstrap.timepicker", []).constant("timepickerConfig", {
    hourStep: 1,
    minuteStep: 1,
    showMeridian: !0,
    meridians: null,
    readonlyInput: !1,
    mousewheel: !0
}).controller("TimepickerController", ["$scope", "$attrs", "$parse", "$log", "$locale", "timepickerConfig", function (a, b, c, d, e, f) {
    function g() {
        var b = parseInt(a.hours, 10), c = a.showMeridian ? b > 0 && 13 > b : b >= 0 && 24 > b;
        return c ? (a.showMeridian && (12 === b && (b = 0), a.meridian === p[1] && (b += 12)), b) : void 0
    }

    function h() {
        var b = parseInt(a.minutes, 10);
        return b >= 0 && 60 > b ? b : void 0
    }

    function i(a) {
        return angular.isDefined(a) && a.toString().length < 2 ? "0" + a : a
    }

    function j(a) {
        k(), o.$setViewValue(new Date(n)), l(a)
    }

    function k() {
        o.$setValidity("time", !0), a.invalidHours = !1, a.invalidMinutes = !1
    }

    function l(b) {
        var c = n.getHours(), d = n.getMinutes();
        a.showMeridian && (c = 0 === c || 12 === c ? 12 : c % 12), a.hours = "h" === b ? c : i(c), a.minutes = "m" === b ? d : i(d), a.meridian = n.getHours() < 12 ? p[0] : p[1]
    }

    function m(a) {
        var b = new Date(n.getTime() + 6e4 * a);
        n.setHours(b.getHours(), b.getMinutes()), j()
    }

    var n = new Date, o = {$setViewValue: angular.noop}, p = angular.isDefined(b.meridians) ? a.$parent.$eval(b.meridians) : f.meridians || e.DATETIME_FORMATS.AMPMS;
    this.init = function (c, d) {
        o = c, o.$render = this.render;
        var e = d.eq(0), g = d.eq(1), h = angular.isDefined(b.mousewheel) ? a.$parent.$eval(b.mousewheel) : f.mousewheel;
        h && this.setupMousewheelEvents(e, g), a.readonlyInput = angular.isDefined(b.readonlyInput) ? a.$parent.$eval(b.readonlyInput) : f.readonlyInput, this.setupInputEvents(e, g)
    };
    var q = f.hourStep;
    b.hourStep && a.$parent.$watch(c(b.hourStep), function (a) {
        q = parseInt(a, 10)
    });
    var r = f.minuteStep;
    b.minuteStep && a.$parent.$watch(c(b.minuteStep), function (a) {
        r = parseInt(a, 10)
    }), a.showMeridian = f.showMeridian, b.showMeridian && a.$parent.$watch(c(b.showMeridian), function (b) {
        if (a.showMeridian = !!b, o.$error.time) {
            var c = g(), d = h();
            angular.isDefined(c) && angular.isDefined(d) && (n.setHours(c), j())
        } else l()
    }), this.setupMousewheelEvents = function (b, c) {
        var d = function (a) {
            a.originalEvent && (a = a.originalEvent);
            var b = a.wheelDelta ? a.wheelDelta : -a.deltaY;
            return a.detail || b > 0
        };
        b.bind("mousewheel wheel", function (b) {
            a.$apply(d(b) ? a.incrementHours() : a.decrementHours()), b.preventDefault()
        }), c.bind("mousewheel wheel", function (b) {
            a.$apply(d(b) ? a.incrementMinutes() : a.decrementMinutes()), b.preventDefault()
        })
    }, this.setupInputEvents = function (b, c) {
        if (a.readonlyInput)return a.updateHours = angular.noop, void(a.updateMinutes = angular.noop);
        var d = function (b, c) {
            o.$setViewValue(null), o.$setValidity("time", !1), angular.isDefined(b) && (a.invalidHours = b), angular.isDefined(c) && (a.invalidMinutes = c)
        };
        a.updateHours = function () {
            var a = g();
            angular.isDefined(a) ? (n.setHours(a), j("h")) : d(!0)
        }, b.bind("blur", function () {
            !a.invalidHours && a.hours < 10 && a.$apply(function () {
                a.hours = i(a.hours)
            })
        }), a.updateMinutes = function () {
            var a = h();
            angular.isDefined(a) ? (n.setMinutes(a), j("m")) : d(void 0, !0)
        }, c.bind("blur", function () {
            !a.invalidMinutes && a.minutes < 10 && a.$apply(function () {
                a.minutes = i(a.minutes)
            })
        })
    }, this.render = function () {
        var a = o.$modelValue ? new Date(o.$modelValue) : null;
        isNaN(a) ? (o.$setValidity("time", !1), d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')) : (a && (n = a), k(), l())
    }, a.incrementHours = function () {
        m(60 * q)
    }, a.decrementHours = function () {
        m(60 * -q)
    }, a.incrementMinutes = function () {
        m(r)
    }, a.decrementMinutes = function () {
        m(-r)
    }, a.toggleMeridian = function () {
        m(720 * (n.getHours() < 12 ? 1 : -1))
    }
}]).directive("timepicker", function () {
    return {
        restrict: "EA",
        require: ["timepicker", "?^ngModel"],
        controller: "TimepickerController",
        replace: !0,
        scope: {},
        templateUrl: "template/timepicker/timepicker.html",
        link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            f && e.init(f, b.find("input"))
        }
    }
}), angular.module("ui.bootstrap.typeahead", ["ui.bootstrap.position", "ui.bootstrap.bindHtml"]).factory("typeaheadParser", ["$parse", function (a) {
    var b = /^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;
    return {
        parse: function (c) {
            var d = c.match(b);
            if (!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "' + c + '".');
            return {itemName: d[3], source: a(d[4]), viewMapper: a(d[2] || d[1]), modelMapper: a(d[1])}
        }
    }
}]).directive("typeahead", ["$compile", "$parse", "$q", "$timeout", "$document", "$position", "typeaheadParser", function (a, b, c, d, e, f, g) {
    var h = [9, 13, 27, 38, 40];
    return {
        require: "ngModel", link: function (i, j, k, l) {
            var m, n = i.$eval(k.typeaheadMinLength) || 1, o = i.$eval(k.typeaheadWaitMs) || 0, p = i.$eval(k.typeaheadEditable) !== !1, q = b(k.typeaheadLoading).assign || angular.noop, r = b(k.typeaheadOnSelect), s = k.typeaheadInputFormatter ? b(k.typeaheadInputFormatter) : void 0, t = k.typeaheadAppendToBody ? i.$eval(k.typeaheadAppendToBody) : !1, u = b(k.ngModel).assign, v = g.parse(k.typeahead), w = i.$new();
            i.$on("$destroy", function () {
                w.$destroy()
            });
            var x = "typeahead-" + w.$id + "-" + Math.floor(1e4 * Math.random());
            j.attr({"aria-autocomplete": "list", "aria-expanded": !1, "aria-owns": x});
            var y = angular.element("<div typeahead-popup></div>");
            y.attr({
                id: x,
                matches: "matches",
                active: "activeIdx",
                select: "select(activeIdx)",
                query: "query",
                position: "position"
            }), angular.isDefined(k.typeaheadTemplateUrl) && y.attr("template-url", k.typeaheadTemplateUrl);
            var z = function () {
                w.matches = [], w.activeIdx = -1, j.attr("aria-expanded", !1)
            }, A = function (a) {
                return x + "-option-" + a
            };
            w.$watch("activeIdx", function (a) {
                0 > a ? j.removeAttr("aria-activedescendant") : j.attr("aria-activedescendant", A(a))
            });
            var B = function (a) {
                var b = {$viewValue: a};
                q(i, !0), c.when(v.source(i, b)).then(function (c) {
                    var d = a === l.$viewValue;
                    if (d && m)if (c.length > 0) {
                        w.activeIdx = 0, w.matches.length = 0;
                        for (var e = 0; e < c.length; e++)b[v.itemName] = c[e], w.matches.push({
                            id: A(e),
                            label: v.viewMapper(w, b),
                            model: c[e]
                        });
                        w.query = a, w.position = t ? f.offset(j) : f.position(j), w.position.top = w.position.top + j.prop("offsetHeight"), j.attr("aria-expanded", !0)
                    } else z();
                    d && q(i, !1)
                }, function () {
                    z(), q(i, !1)
                })
            };
            z(), w.query = void 0;
            var C;
            l.$parsers.unshift(function (a) {
                return m = !0, a && a.length >= n ? o > 0 ? (C && d.cancel(C), C = d(function () {
                    B(a)
                }, o)) : B(a) : (q(i, !1), z()), p ? a : a ? void l.$setValidity("editable", !1) : (l.$setValidity("editable", !0), a)
            }), l.$formatters.push(function (a) {
                var b, c, d = {};
                return s ? (d.$model = a, s(i, d)) : (d[v.itemName] = a, b = v.viewMapper(i, d), d[v.itemName] = void 0, c = v.viewMapper(i, d), b !== c ? b : a)
            }), w.select = function (a) {
                var b, c, e = {};
                e[v.itemName] = c = w.matches[a].model, b = v.modelMapper(i, e), u(i, b), l.$setValidity("editable", !0), r(i, {
                    $item: c,
                    $model: b,
                    $label: v.viewMapper(i, e)
                }), z(), d(function () {
                    j[0].focus()
                }, 0, !1)
            }, j.bind("keydown", function (a) {
                0 !== w.matches.length && -1 !== h.indexOf(a.which) && (a.preventDefault(), 40 === a.which ? (w.activeIdx = (w.activeIdx + 1) % w.matches.length, w.$digest()) : 38 === a.which ? (w.activeIdx = (w.activeIdx ? w.activeIdx : w.matches.length) - 1, w.$digest()) : 13 === a.which || 9 === a.which ? w.$apply(function () {
                    w.select(w.activeIdx)
                }) : 27 === a.which && (a.stopPropagation(), z(), w.$digest()))
            }), j.bind("blur", function () {
                m = !1
            });
            var D = function (a) {
                j[0] !== a.target && (z(), w.$digest())
            };
            e.bind("click", D), i.$on("$destroy", function () {
                e.unbind("click", D)
            });
            var E = a(y)(w);
            t ? e.find("body").append(E) : j.after(E)
        }
    }
}]).directive("typeaheadPopup", function () {
    return {
        restrict: "EA",
        scope: {matches: "=", query: "=", active: "=", position: "=", select: "&"},
        replace: !0,
        templateUrl: "template/typeahead/typeahead-popup.html",
        link: function (a, b, c) {
            a.templateUrl = c.templateUrl, a.isOpen = function () {
                return a.matches.length > 0
            }, a.isActive = function (b) {
                return a.active == b
            }, a.selectActive = function (b) {
                a.active = b
            }, a.selectMatch = function (b) {
                a.select({activeIdx: b})
            }
        }
    }
}).directive("typeaheadMatch", ["$http", "$templateCache", "$compile", "$parse", function (a, b, c, d) {
    return {
        restrict: "EA", scope: {index: "=", match: "=", query: "="}, link: function (e, f, g) {
            var h = d(g.templateUrl)(e.$parent) || "template/typeahead/typeahead-match.html";
            a.get(h, {cache: b}).success(function (a) {
                f.replaceWith(c(a.trim())(e))
            })
        }
    }
}]).filter("typeaheadHighlight", function () {
    function a(a) {
        return a.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1")
    }

    return function (b, c) {
        return c ? ("" + b).replace(new RegExp(a(c), "gi"), "<strong>$&</strong>") : b
    }
}), angular.module("template/accordion/accordion-group.html", []).run(["$templateCache", function (a) {
    a.put("template/accordion/accordion-group.html", '<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')
}]), angular.module("template/accordion/accordion.html", []).run(["$templateCache", function (a) {
    a.put("template/accordion/accordion.html", '<div class="panel-group" ng-transclude></div>')
}]), angular.module("template/alert/alert.html", []).run(["$templateCache", function (a) {
    a.put("template/alert/alert.html", '<div class="alert" ng-class="{\'alert-{{type || \'warning\'}}\': true, \'alert-dismissable\': closeable}" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')
}]), angular.module("template/carousel/carousel.html", []).run(["$templateCache", function (a) {
    a.put("template/carousel/carousel.html", '<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')
}]), angular.module("template/carousel/slide.html", []).run(["$templateCache", function (a) {
    a.put("template/carousel/slide.html", "<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")
}]), angular.module("template/datepicker/datepicker.html", []).run(["$templateCache", function (a) {
    a.put("template/datepicker/datepicker.html", '<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')
}]), angular.module("template/datepicker/day.html", []).run(["$templateCache", function (a) {
    a.put("template/datepicker/day.html", '<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]), angular.module("template/datepicker/month.html", []).run(["$templateCache", function (a) {
    a.put("template/datepicker/month.html", '<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]), angular.module("template/datepicker/popup.html", []).run(["$templateCache", function (a) {
    a.put("template/datepicker/popup.html", '<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')
}]), angular.module("template/datepicker/year.html", []).run(["$templateCache", function (a) {
    a.put("template/datepicker/year.html", '<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]), angular.module("template/modal/backdrop.html", []).run(["$templateCache", function (a) {
    a.put("template/modal/backdrop.html", '<div class="modal-backdrop fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')
}]), angular.module("template/modal/window.html", []).run(["$templateCache", function (a) {
    a.put("template/modal/window.html", '<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" ng-transclude></div></div>\n</div>')
}]), angular.module("template/pagination/pager.html", []).run(["$templateCache", function (a) {
    a.put("template/pagination/pager.html", '<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')
}]), angular.module("template/pagination/pagination.html", []).run(["$templateCache", function (a) {
    a.put("template/pagination/pagination.html", '<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')
}]), angular.module("template/tooltip/tooltip-html-unsafe-popup.html", []).run(["$templateCache", function (a) {
    a.put("template/tooltip/tooltip-html-unsafe-popup.html", '<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')
}]), angular.module("template/tooltip/tooltip-popup.html", []).run(["$templateCache", function (a) {
    a.put("template/tooltip/tooltip-popup.html", '<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')
}]), angular.module("template/popover/popover.html", []).run(["$templateCache", function (a) {
    a.put("template/popover/popover.html", '<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')
}]), angular.module("template/progressbar/bar.html", []).run(["$templateCache", function (a) {
    a.put("template/progressbar/bar.html", '<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')
}]), angular.module("template/progressbar/progress.html", []).run(["$templateCache", function (a) {
    a.put("template/progressbar/progress.html", '<div class="progress" ng-transclude></div>')
}]), angular.module("template/progressbar/progressbar.html", []).run(["$templateCache", function (a) {
    a.put("template/progressbar/progressbar.html", '<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')
}]), angular.module("template/rating/rating.html", []).run(["$templateCache", function (a) {
    a.put("template/rating/rating.html", '<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')
}]), angular.module("template/tabs/tab.html", []).run(["$templateCache", function (a) {
    a.put("template/tabs/tab.html", '<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')
}]), angular.module("template/tabs/tabset-titles.html", []).run(["$templateCache", function (a) {
    a.put("template/tabs/tabset-titles.html", "<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")
}]), angular.module("template/tabs/tabset.html", []).run(["$templateCache", function (a) {
    a.put("template/tabs/tabset.html", '\n<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')
}]), angular.module("template/timepicker/timepicker.html", []).run(["$templateCache", function (a) {
    a.put("template/timepicker/timepicker.html", '<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')
}]), angular.module("template/typeahead/typeahead-match.html", []).run(["$templateCache", function (a) {
    a.put("template/typeahead/typeahead-match.html", '<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')
}]), angular.module("template/typeahead/typeahead-popup.html", []).run(["$templateCache", function (a) {
    a.put("template/typeahead/typeahead-popup.html", '<ul class="dropdown-menu" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>')
}]), angular.module("ui.bootstrap", ["ui.bootstrap.tpls", "ui.bootstrap.transition", "ui.bootstrap.collapse", "ui.bootstrap.accordion", "ui.bootstrap.alert", "ui.bootstrap.bindHtml", "ui.bootstrap.buttons", "ui.bootstrap.carousel", "ui.bootstrap.dateparser", "ui.bootstrap.position", "ui.bootstrap.datepicker", "ui.bootstrap.dropdown", "ui.bootstrap.modal", "ui.bootstrap.pagination", "ui.bootstrap.tooltip", "ui.bootstrap.popover", "ui.bootstrap.progressbar", "ui.bootstrap.rating", "ui.bootstrap.tabs", "ui.bootstrap.timepicker", "ui.bootstrap.typeahead"]), angular.module("ui.bootstrap.tpls", ["template/accordion/accordion-group.html", "template/accordion/accordion.html", "template/alert/alert.html", "template/carousel/carousel.html", "template/carousel/slide.html", "template/datepicker/datepicker.html", "template/datepicker/day.html", "template/datepicker/month.html", "template/datepicker/popup.html", "template/datepicker/year.html", "template/modal/backdrop.html", "template/modal/window.html", "template/pagination/pager.html", "template/pagination/pagination.html", "template/tooltip/tooltip-html-unsafe-popup.html", "template/tooltip/tooltip-popup.html", "template/popover/popover.html", "template/progressbar/bar.html", "template/progressbar/progress.html", "template/progressbar/progressbar.html", "template/rating/rating.html", "template/tabs/tab.html", "template/tabs/tabset.html", "template/timepicker/timepicker.html", "template/typeahead/typeahead-match.html", "template/typeahead/typeahead-popup.html"]), angular.module("ui.bootstrap.transition", []).factory("$transition", ["$q", "$timeout", "$rootScope", function (a, b, c) {
    function d(a) {
        for (var b in a)if (void 0 !== f.style[b])return a[b]
    }

    var e = function (d, f, g) {
        g = g || {};
        var h = a.defer(), i = e[g.animation ? "animationEndEventName" : "transitionEndEventName"], j = function () {
            c.$apply(function () {
                d.unbind(i, j), h.resolve(d)
            })
        };
        return i && d.bind(i, j), b(function () {
            angular.isString(f) ? d.addClass(f) : angular.isFunction(f) ? f(d) : angular.isObject(f) && d.css(f), i || h.resolve(d)
        }), h.promise.cancel = function () {
            i && d.unbind(i, j), h.reject("Transition cancelled")
        }, h.promise
    }, f = document.createElement("trans"), g = {
        WebkitTransition: "webkitTransitionEnd",
        MozTransition: "transitionend",
        OTransition: "oTransitionEnd",
        transition: "transitionend"
    }, h = {
        WebkitTransition: "webkitAnimationEnd",
        MozTransition: "animationend",
        OTransition: "oAnimationEnd",
        transition: "animationend"
    };
    return e.transitionEndEventName = d(g), e.animationEndEventName = d(h), e
}]), angular.module("ui.bootstrap.collapse", ["ui.bootstrap.transition"]).directive("collapse", ["$transition", function (a) {
    return {
        link: function (b, c, d) {
            function e(b) {
                function d() {
                    j === e && (j = void 0)
                }

                var e = a(c, b);
                return j && j.cancel(), j = e, e.then(d, d), e
            }

            function f() {
                k ? (k = !1, g()) : (c.removeClass("collapse").addClass("collapsing"), e({height: c[0].scrollHeight + "px"}).then(g))
            }

            function g() {
                c.removeClass("collapsing"), c.addClass("collapse in"), c.css({height: "auto"})
            }

            function h() {
                if (k)k = !1, i(), c.css({height: 0}); else {
                    c.css({height: c[0].scrollHeight + "px"});
                    {
                        c[0].offsetWidth
                    }
                    c.removeClass("collapse in").addClass("collapsing"), e({height: 0}).then(i)
                }
            }

            function i() {
                c.removeClass("collapsing"), c.addClass("collapse")
            }

            var j, k = !0;
            b.$watch(d.collapse, function (a) {
                a ? h() : f()
            })
        }
    }
}]), angular.module("ui.bootstrap.accordion", ["ui.bootstrap.collapse"]).constant("accordionConfig", {closeOthers: !0}).controller("AccordionController", ["$scope", "$attrs", "accordionConfig", function (a, b, c) {
    this.groups = [], this.closeOthers = function (d) {
        var e = angular.isDefined(b.closeOthers) ? a.$eval(b.closeOthers) : c.closeOthers;
        e && angular.forEach(this.groups, function (a) {
            a !== d && (a.isOpen = !1)
        })
    }, this.addGroup = function (a) {
        var b = this;
        this.groups.push(a), a.$on("$destroy", function () {
            b.removeGroup(a)
        })
    }, this.removeGroup = function (a) {
        var b = this.groups.indexOf(a);
        -1 !== b && this.groups.splice(b, 1)
    }
}]).directive("accordion", function () {
    return {
        restrict: "EA",
        controller: "AccordionController",
        transclude: !0,
        replace: !1,
        templateUrl: "template/accordion/accordion.html"
    }
}).directive("accordionGroup", function () {
    return {
        require: "^accordion",
        restrict: "EA",
        transclude: !0,
        replace: !0,
        templateUrl: "template/accordion/accordion-group.html",
        scope: {heading: "@", isOpen: "=?", isDisabled: "=?"},
        controller: function () {
            this.setHeading = function (a) {
                this.heading = a
            }
        },
        link: function (a, b, c, d) {
            d.addGroup(a), a.$watch("isOpen", function (b) {
                b && d.closeOthers(a)
            }), a.toggleOpen = function () {
                a.isDisabled || (a.isOpen = !a.isOpen)
            }
        }
    }
}).directive("accordionHeading", function () {
    return {
        restrict: "EA",
        transclude: !0,
        template: "",
        replace: !0,
        require: "^accordionGroup",
        link: function (a, b, c, d, e) {
            d.setHeading(e(a, function () {
            }))
        }
    }
}).directive("accordionTransclude", function () {
    return {
        require: "^accordionGroup", link: function (a, b, c, d) {
            a.$watch(function () {
                return d[c.accordionTransclude]
            }, function (a) {
                a && (b.html(""), b.append(a))
            })
        }
    }
}), angular.module("ui.bootstrap.alert", []).controller("AlertController", ["$scope", "$attrs", function (a, b) {
    a.closeable = "close" in b
}]).directive("alert", function () {
    return {
        restrict: "EA",
        controller: "AlertController",
        templateUrl: "template/alert/alert.html",
        transclude: !0,
        replace: !0,
        scope: {type: "@", close: "&"}
    }
}), angular.module("ui.bootstrap.bindHtml", []).directive("bindHtmlUnsafe", function () {
    return function (a, b, c) {
        b.addClass("ng-binding").data("$binding", c.bindHtmlUnsafe), a.$watch(c.bindHtmlUnsafe, function (a) {
            b.html(a || "")
        })
    }
}), angular.module("ui.bootstrap.buttons", []).constant("buttonConfig", {
    activeClass: "active",
    toggleEvent: "click"
}).controller("ButtonsController", ["buttonConfig", function (a) {
    this.activeClass = a.activeClass || "active", this.toggleEvent = a.toggleEvent || "click"
}]).directive("btnRadio", function () {
    return {
        require: ["btnRadio", "ngModel"], controller: "ButtonsController", link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            f.$render = function () {
                b.toggleClass(e.activeClass, angular.equals(f.$modelValue, a.$eval(c.btnRadio)))
            }, b.bind(e.toggleEvent, function () {
                var d = b.hasClass(e.activeClass);
                (!d || angular.isDefined(c.uncheckable)) && a.$apply(function () {
                    f.$setViewValue(d ? null : a.$eval(c.btnRadio)), f.$render()
                })
            })
        }
    }
}).directive("btnCheckbox", function () {
    return {
        require: ["btnCheckbox", "ngModel"], controller: "ButtonsController", link: function (a, b, c, d) {
            function e() {
                return g(c.btnCheckboxTrue, !0)
            }

            function f() {
                return g(c.btnCheckboxFalse, !1)
            }

            function g(b, c) {
                var d = a.$eval(b);
                return angular.isDefined(d) ? d : c
            }

            var h = d[0], i = d[1];
            i.$render = function () {
                b.toggleClass(h.activeClass, angular.equals(i.$modelValue, e()))
            }, b.bind(h.toggleEvent, function () {
                a.$apply(function () {
                    i.$setViewValue(b.hasClass(h.activeClass) ? f() : e()), i.$render()
                })
            })
        }
    }
}), angular.module("ui.bootstrap.carousel", ["ui.bootstrap.transition"]).controller("CarouselController", ["$scope", "$timeout", "$transition", function (a, b, c) {
    function d() {
        e();
        var c = +a.interval;
        !isNaN(c) && c >= 0 && (g = b(f, c))
    }

    function e() {
        g && (b.cancel(g), g = null)
    }

    function f() {
        h ? (a.next(), d()) : a.pause()
    }

    var g, h, i = this, j = i.slides = a.slides = [], k = -1;
    i.currentSlide = null;
    var l = !1;
    i.select = a.select = function (e, f) {
        function g() {
            if (!l) {
                if (i.currentSlide && angular.isString(f) && !a.noTransition && e.$element) {
                    e.$element.addClass(f);
                    {
                        e.$element[0].offsetWidth
                    }
                    angular.forEach(j, function (a) {
                        angular.extend(a, {direction: "", entering: !1, leaving: !1, active: !1})
                    }), angular.extend(e, {
                        direction: f,
                        active: !0,
                        entering: !0
                    }), angular.extend(i.currentSlide || {}, {
                        direction: f,
                        leaving: !0
                    }), a.$currentTransition = c(e.$element, {}), function (b, c) {
                        a.$currentTransition.then(function () {
                            h(b, c)
                        }, function () {
                            h(b, c)
                        })
                    }(e, i.currentSlide)
                } else h(e, i.currentSlide);
                i.currentSlide = e, k = m, d()
            }
        }

        function h(b, c) {
            angular.extend(b, {
                direction: "",
                active: !0,
                leaving: !1,
                entering: !1
            }), angular.extend(c || {}, {
                direction: "",
                active: !1,
                leaving: !1,
                entering: !1
            }), a.$currentTransition = null
        }

        var m = j.indexOf(e);
        void 0 === f && (f = m > k ? "next" : "prev"), e && e !== i.currentSlide && (a.$currentTransition ? (a.$currentTransition.cancel(), b(g)) : g())
    }, a.$on("$destroy", function () {
        l = !0
    }), i.indexOfSlide = function (a) {
        return j.indexOf(a)
    }, a.next = function () {
        var b = (k + 1) % j.length;
        return a.$currentTransition ? void 0 : i.select(j[b], "next")
    }, a.prev = function () {
        var b = 0 > k - 1 ? j.length - 1 : k - 1;
        return a.$currentTransition ? void 0 : i.select(j[b], "prev")
    }, a.isActive = function (a) {
        return i.currentSlide === a
    }, a.$watch("interval", d), a.$on("$destroy", e), a.play = function () {
        h || (h = !0, d())
    }, a.pause = function () {
        a.noPause || (h = !1, e())
    }, i.addSlide = function (b, c) {
        b.$element = c, j.push(b), 1 === j.length || b.active ? (i.select(j[j.length - 1]), 1 == j.length && a.play()) : b.active = !1
    }, i.removeSlide = function (a) {
        var b = j.indexOf(a);
        j.splice(b, 1), j.length > 0 && a.active ? i.select(b >= j.length ? j[b - 1] : j[b]) : k > b && k--
    }
}]).directive("carousel", [function () {
    return {
        restrict: "EA",
        transclude: !0,
        replace: !0,
        controller: "CarouselController",
        require: "carousel",
        templateUrl: "template/carousel/carousel.html",
        scope: {interval: "=", noTransition: "=", noPause: "="}
    }
}]).directive("slide", function () {
    return {
        require: "^carousel",
        restrict: "EA",
        transclude: !0,
        replace: !0,
        templateUrl: "template/carousel/slide.html",
        scope: {active: "=?"},
        link: function (a, b, c, d) {
            d.addSlide(a, b), a.$on("$destroy", function () {
                d.removeSlide(a)
            }), a.$watch("active", function (b) {
                b && d.select(a)
            })
        }
    }
}), angular.module("ui.bootstrap.dateparser", []).service("dateParser", ["$locale", "orderByFilter", function (a, b) {
    function c(a, b, c) {
        return 1 === b && c > 28 ? 29 === c && (a % 4 === 0 && a % 100 !== 0 || a % 400 === 0) : 3 === b || 5 === b || 8 === b || 10 === b ? 31 > c : !0
    }

    this.parsers = {};
    var d = {
        yyyy: {
            regex: "\\d{4}", apply: function (a) {
                this.year = +a
            }
        }, yy: {
            regex: "\\d{2}", apply: function (a) {
                this.year = +a + 2e3
            }
        }, y: {
            regex: "\\d{1,4}", apply: function (a) {
                this.year = +a
            }
        }, MMMM: {
            regex: a.DATETIME_FORMATS.MONTH.join("|"), apply: function (b) {
                this.month = a.DATETIME_FORMATS.MONTH.indexOf(b)
            }
        }, MMM: {
            regex: a.DATETIME_FORMATS.SHORTMONTH.join("|"), apply: function (b) {
                this.month = a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)
            }
        }, MM: {
            regex: "0[1-9]|1[0-2]", apply: function (a) {
                this.month = a - 1
            }
        }, M: {
            regex: "[1-9]|1[0-2]", apply: function (a) {
                this.month = a - 1
            }
        }, dd: {
            regex: "[0-2][0-9]{1}|3[0-1]{1}", apply: function (a) {
                this.date = +a
            }
        }, d: {
            regex: "[1-2]?[0-9]{1}|3[0-1]{1}", apply: function (a) {
                this.date = +a
            }
        }, EEEE: {regex: a.DATETIME_FORMATS.DAY.join("|")}, EEE: {regex: a.DATETIME_FORMATS.SHORTDAY.join("|")}
    };
    this.createParser = function (a) {
        console.info("format", a);
        var c = [], e = a.split("");
        return angular.forEach(d, function (b, d) {
            var f = a.indexOf(d);
            if (f > -1) {
                a = a.split(""), e[f] = "(" + b.regex + ")", a[f] = "$";
                for (var g = f + 1, h = f + d.length; h > g; g++)e[g] = "", a[g] = "$";
                a = a.join(""), c.push({index: f, apply: b.apply})
            }
        }), {regex: new RegExp("^" + e.join("") + "$"), map: b(c, "index")}
    }, this.parse = function (b, d) {
        if (!angular.isString(b))return b;
        d = a.DATETIME_FORMATS[d] || d, console.info("in parse,format is ", d), this.parsers[d] || (this.parsers[d] = this.createParser(d));
        var e = this.parsers[d], f = e.regex, g = e.map, h = b.match(f);
        if (h && h.length) {
            for (var i, j = {year: 1900, month: 0, date: 1, hours: 0}, k = 1, l = h.length; l > k; k++) {
                var m = g[k - 1];
                m.apply && m.apply.call(j, h[k])
            }
            return c(j.year, j.month, j.date) && (i = new Date(j.year, j.month, j.date, j.hours)), i
        }
    }
}]), angular.module("ui.bootstrap.position", []).factory("$position", ["$document", "$window", function (a, b) {
    function c(a, c) {
        return a.currentStyle ? a.currentStyle[c] : b.getComputedStyle ? b.getComputedStyle(a)[c] : a.style[c]
    }

    function d(a) {
        return "static" === (c(a, "position") || "static")
    }

    var e = function (b) {
        for (var c = a[0], e = b.offsetParent || c; e && e !== c && d(e);)e = e.offsetParent;
        return e || c
    };
    return {
        position: function (b) {
            var c = this.offset(b), d = {top: 0, left: 0}, f = e(b[0]);
            f != a[0] && (d = this.offset(angular.element(f)), d.top += f.clientTop - f.scrollTop, d.left += f.clientLeft - f.scrollLeft);
            var g = b[0].getBoundingClientRect();
            return {
                width: g.width || b.prop("offsetWidth"),
                height: g.height || b.prop("offsetHeight"),
                top: c.top - d.top,
                left: c.left - d.left
            }
        }, offset: function (c) {
            var d = c[0].getBoundingClientRect();
            return {
                width: d.width || c.prop("offsetWidth"),
                height: d.height || c.prop("offsetHeight"),
                top: d.top + (b.pageYOffset || a[0].documentElement.scrollTop),
                left: d.left + (b.pageXOffset || a[0].documentElement.scrollLeft)
            }
        }, positionElements: function (a, b, c, d) {
            var e, f, g, h, i = c.split("-"), j = i[0], k = i[1] || "center";
            e = d ? this.offset(a) : this.position(a), f = b.prop("offsetWidth"), g = b.prop("offsetHeight");
            var l = {
                center: function () {
                    return e.left + e.width / 2 - f / 2
                }, left: function () {
                    return e.left
                }, right: function () {
                    return e.left + e.width
                }
            }, m = {
                center: function () {
                    return e.top + e.height / 2 - g / 2
                }, top: function () {
                    return e.top
                }, bottom: function () {
                    return e.top + e.height
                }
            };
            switch (j) {
                case"right":
                    h = {top: m[k](), left: l[j]()};
                    break;
                case"left":
                    h = {top: m[k](), left: e.left - f};
                    break;
                case"bottom":
                    h = {top: m[j](), left: l[k]()};
                    break;
                default:
                    h = {top: e.top - g, left: l[k]()}
            }
            return h
        }
    }
}]), angular.module("ui.bootstrap.datepicker", ["ui.bootstrap.dateparser", "ui.bootstrap.position"]).constant("datepickerConfig", {
    formatDay: "dd",
    formatMonth: "MMMM",
    formatYear: "yyyy",
    formatDayHeader: "EEE",
    formatDayTitle: "MMMM yyyy",
    formatMonthTitle: "yyyy",
    datepickerMode: "day",
    minMode: "day",
    maxMode: "year",
    showWeeks: !0,
    startingDay: 0,
    yearRange: 20,
    minDate: null,
    maxDate: null
}).controller("DatepickerController", ["$scope", "$attrs", "$parse", "$interpolate", "$timeout", "$log", "dateFilter", "datepickerConfig", function (a, b, c, d, e, f, g, h) {
    var i = this, j = {$setViewValue: angular.noop};
    this.modes = ["day", "month", "year"], angular.forEach(["formatDay", "formatMonth", "formatYear", "formatDayHeader", "formatDayTitle", "formatMonthTitle", "minMode", "maxMode", "showWeeks", "startingDay", "yearRange"], function (c, e) {
        i[c] = angular.isDefined(b[c]) ? 8 > e ? d(b[c])(a.$parent) : a.$parent.$eval(b[c]) : h[c]
    }), angular.forEach(["minDate", "maxDate"], function (d) {
        b[d] ? a.$parent.$watch(c(b[d]), function (a) {
            i[d] = a ? new Date(a) : null, i.refreshView()
        }) : i[d] = h[d] ? new Date(h[d]) : null
    }), a.datepickerMode = a.datepickerMode || h.datepickerMode, a.uniqueId = "datepicker-" + a.$id + "-" + Math.floor(1e4 * Math.random()), this.activeDate = angular.isDefined(b.initDate) ? a.$parent.$eval(b.initDate) : new Date, a.isActive = function (b) {
        return 0 === i.compare(b.date, i.activeDate) ? (a.activeDateId = b.uid, !0) : !1
    }, this.init = function (a) {
        j = a, j.$render = function () {
            i.render()
        }
    }, this.render = function () {
        if (j.$modelValue) {
            var a = new Date(j.$modelValue), b = !isNaN(a);
            b ? this.activeDate = a : f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'), j.$setValidity("date", b)
        }
        this.refreshView()
    }, this.refreshView = function () {
        if (this.element) {
            this._refreshView();
            var a = j.$modelValue ? new Date(j.$modelValue) : null;
            j.$setValidity("date-disabled", !a || this.element && !this.isDisabled(a))
        }
    }, this.createDateObject = function (a, b) {
        var c = j.$modelValue ? new Date(j.$modelValue) : null;
        return {
            date: a,
            label: g(a, b),
            selected: c && 0 === this.compare(a, c),
            disabled: this.isDisabled(a),
            current: 0 === this.compare(a, new Date)
        }
    }, this.isDisabled = function (c) {
        return this.minDate && this.compare(c, this.minDate) < 0 || this.maxDate && this.compare(c, this.maxDate) > 0 || b.dateDisabled && a.dateDisabled({
                date: c,
                mode: a.datepickerMode
            })
    }, this.split = function (a, b) {
        for (var c = []; a.length > 0;)c.push(a.splice(0, b));
        return c
    }, a.select = function (b) {
        if (a.datepickerMode === i.minMode) {
            var c = j.$modelValue ? new Date(j.$modelValue) : new Date(0, 0, 0, 0, 0, 0, 0);
            c.setFullYear(b.getFullYear(), b.getMonth(), b.getDate()), j.$setViewValue(c), j.$render()
        } else i.activeDate = b, a.datepickerMode = i.modes[i.modes.indexOf(a.datepickerMode) - 1]
    }, a.move = function (a) {
        var b = i.activeDate.getFullYear() + a * (i.step.years || 0), c = i.activeDate.getMonth() + a * (i.step.months || 0);
        i.activeDate.setFullYear(b, c, 1), i.refreshView()
    }, a.toggleMode = function (b) {
        b = b || 1, a.datepickerMode === i.maxMode && 1 === b || a.datepickerMode === i.minMode && -1 === b || (a.datepickerMode = i.modes[i.modes.indexOf(a.datepickerMode) + b])
    }, a.keys = {
        13: "enter",
        32: "space",
        33: "pageup",
        34: "pagedown",
        35: "end",
        36: "home",
        37: "left",
        38: "up",
        39: "right",
        40: "down"
    };
    var k = function () {
        e(function () {
            i.element[0].focus()
        }, 0, !1)
    };
    a.$on("datepicker.focus", k), a.keydown = function (b) {
        var c = a.keys[b.which];
        if (c && !b.shiftKey && !b.altKey)if (b.preventDefault(), b.stopPropagation(), "enter" === c || "space" === c) {
            if (i.isDisabled(i.activeDate))return;
            a.select(i.activeDate), k()
        } else!b.ctrlKey || "up" !== c && "down" !== c ? (i.handleKeyDown(c, b), i.refreshView()) : (a.toggleMode("up" === c ? 1 : -1), k())
    }
}]).directive("datepicker", function () {
    return {
        restrict: "EA",
        replace: !0,
        templateUrl: "template/datepicker/datepicker.html",
        scope: {datepickerMode: "=?", dateDisabled: "&"},
        require: ["datepicker", "?^ngModel"],
        controller: "DatepickerController",
        link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            f && e.init(f)
        }
    }
}).directive("daypicker", ["dateFilter", function (a) {
    return {
        restrict: "EA",
        replace: !0,
        templateUrl: "template/datepicker/day.html",
        require: "^datepicker",
        link: function (b, c, d, e) {
            function f(a, b) {
                return 1 !== b || a % 4 !== 0 || a % 100 === 0 && a % 400 !== 0 ? i[b] : 29
            }

            function g(a, b) {
                var c = new Array(b), d = new Date(a), e = 0;
                for (d.setHours(12); b > e;)c[e++] = new Date(d), d.setDate(d.getDate() + 1);
                return c
            }

            function h(a) {
                var b = new Date(a);
                b.setDate(b.getDate() + 4 - (b.getDay() || 7));
                var c = b.getTime();
                return b.setMonth(0), b.setDate(1), Math.floor(Math.round((c - b) / 864e5) / 7) + 1
            }

            b.showWeeks = e.showWeeks, e.step = {months: 1}, e.element = c;
            var i = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            e._refreshView = function () {
                var c = e.activeDate.getFullYear(), d = e.activeDate.getMonth(), f = new Date(c, d, 1), i = e.startingDay - f.getDay(), j = i > 0 ? 7 - i : -i, k = new Date(f);
                j > 0 && k.setDate(-j + 1);
                for (var l = g(k, 42), m = 0; 42 > m; m++)l[m] = angular.extend(e.createDateObject(l[m], e.formatDay), {
                    secondary: l[m].getMonth() !== d,
                    uid: b.uniqueId + "-" + m
                });
                b.labels = new Array(7);
                for (var n = 0; 7 > n; n++)b.labels[n] = {
                    abbr: a(l[n].date, e.formatDayHeader),
                    full: a(l[n].date, "EEEE")
                };
                if (b.title = a(e.activeDate, e.formatDayTitle), b.rows = e.split(l, 7), b.showWeeks) {
                    b.weekNumbers = [];
                    for (var o = h(b.rows[0][0].date), p = b.rows.length; b.weekNumbers.push(o++) < p;);
                }
            }, e.compare = function (a, b) {
                return new Date(a.getFullYear(), a.getMonth(), a.getDate()) - new Date(b.getFullYear(), b.getMonth(), b.getDate())
            }, e.handleKeyDown = function (a) {
                var b = e.activeDate.getDate();
                if ("left" === a)b -= 1; else if ("up" === a)b -= 7; else if ("right" === a)b += 1; else if ("down" === a)b += 7; else if ("pageup" === a || "pagedown" === a) {
                    var c = e.activeDate.getMonth() + ("pageup" === a ? -1 : 1);
                    e.activeDate.setMonth(c, 1), b = Math.min(f(e.activeDate.getFullYear(), e.activeDate.getMonth()), b)
                } else"home" === a ? b = 1 : "end" === a && (b = f(e.activeDate.getFullYear(), e.activeDate.getMonth()));
                e.activeDate.setDate(b)
            }, e.refreshView()
        }
    }
}]).directive("monthpicker", ["dateFilter", function (a) {
    return {
        restrict: "EA",
        replace: !0,
        templateUrl: "template/datepicker/month.html",
        require: "^datepicker",
        link: function (b, c, d, e) {
            e.step = {years: 1}, e.element = c, e._refreshView = function () {
                for (var c = new Array(12), d = e.activeDate.getFullYear(), f = 0; 12 > f; f++)c[f] = angular.extend(e.createDateObject(new Date(d, f, 1), e.formatMonth), {uid: b.uniqueId + "-" + f});
                b.title = a(e.activeDate, e.formatMonthTitle), b.rows = e.split(c, 3)
            }, e.compare = function (a, b) {
                return new Date(a.getFullYear(), a.getMonth()) - new Date(b.getFullYear(), b.getMonth())
            }, e.handleKeyDown = function (a) {
                var b = e.activeDate.getMonth();
                if ("left" === a)b -= 1; else if ("up" === a)b -= 3; else if ("right" === a)b += 1; else if ("down" === a)b += 3; else if ("pageup" === a || "pagedown" === a) {
                    var c = e.activeDate.getFullYear() + ("pageup" === a ? -1 : 1);
                    e.activeDate.setFullYear(c)
                } else"home" === a ? b = 0 : "end" === a && (b = 11);
                e.activeDate.setMonth(b)
            }, e.refreshView()
        }
    }
}]).directive("yearpicker", ["dateFilter", function () {
    return {
        restrict: "EA",
        replace: !0,
        templateUrl: "template/datepicker/year.html",
        require: "^datepicker",
        link: function (a, b, c, d) {
            function e(a) {
                return parseInt((a - 1) / f, 10) * f + 1
            }

            var f = d.yearRange;
            d.step = {years: f}, d.element = b, d._refreshView = function () {
                for (var b = new Array(f), c = 0, g = e(d.activeDate.getFullYear()); f > c; c++)b[c] = angular.extend(d.createDateObject(new Date(g + c, 0, 1), d.formatYear), {uid: a.uniqueId + "-" + c});
                a.title = [b[0].label, b[f - 1].label].join(" - "), a.rows = d.split(b, 5)
            }, d.compare = function (a, b) {
                return a.getFullYear() - b.getFullYear()
            }, d.handleKeyDown = function (a) {
                var b = d.activeDate.getFullYear();
                "left" === a ? b -= 1 : "up" === a ? b -= 5 : "right" === a ? b += 1 : "down" === a ? b += 5 : "pageup" === a || "pagedown" === a ? b += ("pageup" === a ? -1 : 1) * d.step.years : "home" === a ? b = e(d.activeDate.getFullYear()) : "end" === a && (b = e(d.activeDate.getFullYear()) + f - 1), d.activeDate.setFullYear(b)
            }, d.refreshView()
        }
    }
}]).constant("datepickerPopupConfig", {
    datepickerPopup: "yyyy-MM-dd",
    currentText: "Today",
    clearText: "Clear",
    closeText: "Done",
    closeOnDateSelection: !0,
    appendToBody: !1,
    showButtonBar: !0
}).directive("datepickerPopup", ["$compile", "$parse", "$document", "$position", "dateFilter", "dateParser", "datepickerPopupConfig", function (a, b, c, d, e, f, g) {
    return {
        restrict: "EA",
        require: "ngModel",
        scope: {isOpen: "=?", currentText: "@", clearText: "@", closeText: "@", dateDisabled: "&"},
        link: function (h, i, j, k) {
            function l(a) {
                return a.replace(/([A-Z])/g, function (a) {
                    return "-" + a.toLowerCase()
                })
            }

            function m(a) {
                if (a) {
                    if (angular.isDate(a) && !isNaN(a))return k.$setValidity("date", !0), a;
                    if (angular.isString(a)) {
                        console.info("viewValue", a), console.info("dateFormat", n);
                        var b = f.parse(a, "yyyy-MM-dd") || new Date(a);
                        return isNaN(b) ? void k.$setValidity("date", !1) : (k.$setValidity("date", !0), b)
                    }
                    return void k.$setValidity("date", !1)
                }
                return k.$setValidity("date", !0), null
            }

            var n, o = angular.isDefined(j.closeOnDateSelection) ? h.$parent.$eval(j.closeOnDateSelection) : g.closeOnDateSelection, p = angular.isDefined(j.datepickerAppendToBody) ? h.$parent.$eval(j.datepickerAppendToBody) : g.appendToBody;
            h.showButtonBar = angular.isDefined(j.showButtonBar) ? h.$parent.$eval(j.showButtonBar) : g.showButtonBar, h.getText = function (a) {
                return h[a + "Text"] || g[a + "Text"]
            }, j.$observe("datepickerPopup", function (a) {
                n = a || g.datepickerPopup, console.info("attrs.$observe('datepickerPopup', function(value) {", n), k.$render()
            });
            var q = angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");
            q.attr({"ng-model": "date", "ng-change": "dateSelection()"});
            var r = angular.element(q.children()[0]);
            j.datepickerOptions && angular.forEach(h.$parent.$eval(j.datepickerOptions), function (a, b) {
                r.attr(l(b), a)
            }), angular.forEach(["minDate", "maxDate"], function (a) {
                j[a] && (h.$parent.$watch(b(j[a]), function (b) {
                    h[a] = b
                }), r.attr(l(a), a))
            }), j.dateDisabled && r.attr("date-disabled", "dateDisabled({ date: date, mode: mode })"), k.$parsers.unshift(m), h.dateSelection = function (a) {
                angular.isDefined(a) && (h.date = a), k.$setViewValue(h.date), k.$render(), o && (h.isOpen = !1, i[0].focus())
            }, i.bind("input change keyup", function () {
                h.$apply(function () {
                    h.date = k.$modelValue
                })
            }), k.$render = function () {
                var a = k.$viewValue ? e(k.$viewValue, n) : "";
                i.val(a), h.date = m(k.$modelValue)
            };
            var s = function (a) {
                h.isOpen && a.target !== i[0] && h.$apply(function () {
                    h.isOpen = !1
                })
            }, t = function (a) {
                h.keydown(a)
            };
            i.bind("keydown", t), h.keydown = function (a) {
                27 === a.which ? (a.preventDefault(), a.stopPropagation(), h.close()) : 40 !== a.which || h.isOpen || (h.isOpen = !0)
            }, h.$watch("isOpen", function (a) {
                a ? (h.$broadcast("datepicker.focus"), h.position = p ? d.offset(i) : d.position(i), h.position.top = h.position.top + i.prop("offsetHeight"), c.bind("click", s)) : c.unbind("click", s)
            }), h.select = function (a) {
                if ("today" === a) {
                    var b = new Date;
                    angular.isDate(k.$modelValue) ? (a = new Date(k.$modelValue), a.setFullYear(b.getFullYear(), b.getMonth(), b.getDate())) : a = new Date(b.setHours(0, 0, 0, 0))
                }
                h.dateSelection(a)
            }, h.close = function () {
                h.isOpen = !1, i[0].focus()
            };
            var u = a(q)(h);
            p ? c.find("body").append(u) : i.after(u), h.$on("$destroy", function () {
                u.remove(), i.unbind("keydown", t), c.unbind("click", s)
            })
        }
    }
}]).directive("datepickerPopupWrap", function () {
    return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        templateUrl: "template/datepicker/popup.html",
        link: function (a, b) {
            b.bind("click", function (a) {
                a.preventDefault(), a.stopPropagation()
            })
        }
    }
}), angular.module("ui.bootstrap.dropdown", []).constant("dropdownConfig", {openClass: "open"}).service("dropdownService", ["$document", function (a) {
    var b = null;
    this.open = function (e) {
        b || (a.bind("click", c), a.bind("keydown", d)), b && b !== e && (b.isOpen = !1), b = e
    }, this.close = function (e) {
        b === e && (b = null, a.unbind("click", c), a.unbind("keydown", d))
    };
    var c = function (a) {
        a && a.isDefaultPrevented() || b.$apply(function () {
            b.isOpen = !1
        })
    }, d = function (a) {
        27 === a.which && (b.focusToggleElement(), c())
    }
}]).controller("DropdownController", ["$scope", "$attrs", "$parse", "dropdownConfig", "dropdownService", "$animate", function (a, b, c, d, e, f) {
    var g, h = this, i = a.$new(), j = d.openClass, k = angular.noop, l = b.onToggle ? c(b.onToggle) : angular.noop;
    this.init = function (d) {
        h.$element = d, b.isOpen && (g = c(b.isOpen), k = g.assign, a.$watch(g, function (a) {
            i.isOpen = !!a
        }))
    }, this.toggle = function (a) {
        return i.isOpen = arguments.length ? !!a : !i.isOpen
    }, this.isOpen = function () {
        return i.isOpen
    }, i.focusToggleElement = function () {
        h.toggleElement && h.toggleElement[0].focus()
    }, i.$watch("isOpen", function (b, c) {
        f[b ? "addClass" : "removeClass"](h.$element, j), b ? (i.focusToggleElement(), e.open(i)) : e.close(i), k(a, b), angular.isDefined(b) && b !== c && l(a, {open: !!b})
    }), a.$on("$locationChangeSuccess", function () {
        i.isOpen = !1
    }), a.$on("$destroy", function () {
        i.$destroy()
    })
}]).directive("dropdown", function () {
    return {
        restrict: "CA", controller: "DropdownController", link: function (a, b, c, d) {
            d.init(b)
        }
    }
}).directive("dropdownToggle", function () {
    return {
        restrict: "CA", require: "?^dropdown", link: function (a, b, c, d) {
            if (d) {
                d.toggleElement = b;
                var e = function (e) {
                    e.preventDefault(), b.hasClass("disabled") || c.disabled || a.$apply(function () {
                        d.toggle()
                    })
                };
                b.bind("click", e), b.attr({
                    "aria-haspopup": !0,
                    "aria-expanded": !1
                }), a.$watch(d.isOpen, function (a) {
                    b.attr("aria-expanded", !!a)
                }), a.$on("$destroy", function () {
                    b.unbind("click", e)
                })
            }
        }
    }
}), angular.module("ui.bootstrap.modal", ["ui.bootstrap.transition"]).factory("$$stackedMap", function () {
    return {
        createNew: function () {
            var a = [];
            return {
                add: function (b, c) {
                    a.push({key: b, value: c})
                }, get: function (b) {
                    for (var c = 0; c < a.length; c++)if (b == a[c].key)return a[c]
                }, keys: function () {
                    for (var b = [], c = 0; c < a.length; c++)b.push(a[c].key);
                    return b
                }, top: function () {
                    return a[a.length - 1]
                }, remove: function (b) {
                    for (var c = -1, d = 0; d < a.length; d++)if (b == a[d].key) {
                        c = d;
                        break
                    }
                    return a.splice(c, 1)[0]
                }, removeTop: function () {
                    return a.splice(a.length - 1, 1)[0]
                }, length: function () {
                    return a.length
                }
            }
        }
    }
}).directive("modalBackdrop", ["$timeout", function (a) {
    return {
        restrict: "EA", replace: !0, templateUrl: "template/modal/backdrop.html", link: function (b) {
            b.animate = !1, a(function () {
                b.animate = !0
            })
        }
    }
}]).directive("modalWindow", ["$modalStack", "$timeout", function (a, b) {
    return {
        restrict: "EA",
        scope: {index: "@", animate: "="},
        replace: !0,
        transclude: !0,
        templateUrl: function (a, b) {
            return b.templateUrl || "template/modal/window.html"
        },
        link: function (c, d, e) {
            d.addClass(e.windowClass || ""), c.size = e.size, b(function () {
                c.animate = !0, d[0].focus()
            }), c.close = function (b) {
                var c = a.getTop();
                c && c.value.backdrop && "static" != c.value.backdrop && b.target === b.currentTarget && (b.preventDefault(), b.stopPropagation(), a.dismiss(c.key, "backdrop click"))
            }
        }
    }
}]).factory("$modalStack", ["$transition", "$timeout", "$document", "$compile", "$rootScope", "$$stackedMap", function (a, b, c, d, e, f) {
    function g() {
        for (var a = -1, b = n.keys(), c = 0; c < b.length; c++)n.get(b[c]).value.backdrop && (a = c);
        return a
    }

    function h(a) {
        var b = c.find("body").eq(0), d = n.get(a).value;
        n.remove(a), j(d.modalDomEl, d.modalScope, 300, function () {
            d.modalScope.$destroy(), b.toggleClass(m, n.length() > 0), i()
        })
    }

    function i() {
        if (k && -1 == g()) {
            var a = l;
            j(k, l, 150, function () {
                a.$destroy(), a = null
            }), k = void 0, l = void 0
        }
    }

    function j(c, d, e, f) {
        function g() {
            g.done || (g.done = !0, c.remove(), f && f())
        }

        d.animate = !1;
        var h = a.transitionEndEventName;
        if (h) {
            var i = b(g, e);
            c.bind(h, function () {
                b.cancel(i), g(), d.$apply()
            })
        } else b(g, 0)
    }

    var k, l, m = "modal-open", n = f.createNew(), o = {};
    return e.$watch(g, function (a) {
        l && (l.index = a)
    }), c.bind("keydown", function (a) {
        var b;
        27 === a.which && (b = n.top(), b && b.value.keyboard && (a.preventDefault(), e.$apply(function () {
            o.dismiss(b.key, "escape key press")
        })))
    }), o.open = function (a, b) {
        n.add(a, {deferred: b.deferred, modalScope: b.scope, backdrop: b.backdrop, keyboard: b.keyboard});
        var f = c.find("body").eq(0), h = g();
        h >= 0 && !k && (l = e.$new(!0), l.index = h, k = d("<div modal-backdrop></div>")(l), f.append(k));
        var i = angular.element("<div modal-window></div>");
        i.attr({
            "template-url": b.windowTemplateUrl,
            "window-class": b.windowClass,
            size: b.size,
            index: n.length() - 1,
            animate: "animate"
        }).html(b.content);
        var j = d(i)(b.scope);
        n.top().value.modalDomEl = j, f.append(j), f.addClass(m)
    }, o.close = function (a, b) {
        var c = n.get(a).value;
        c && (c.deferred.resolve(b), h(a))
    }, o.dismiss = function (a, b) {
        var c = n.get(a).value;
        c && (c.deferred.reject(b), h(a))
    }, o.dismissAll = function (a) {
        for (var b = this.getTop(); b;)this.dismiss(b.key, a), b = this.getTop()
    }, o.getTop = function () {
        return n.top()
    }, o
}]).provider("$modal", function () {
    var a = {
        options: {backdrop: !0, keyboard: !0},
        $get: ["$injector", "$rootScope", "$q", "$http", "$templateCache", "$controller", "$modalStack", function (b, c, d, e, f, g, h) {
            function i(a) {
                return a.template ? d.when(a.template) : e.get(a.templateUrl, {cache: f}).then(function (a) {
                    return a.data
                })
            }

            function j(a) {
                var c = [];
                return angular.forEach(a, function (a) {
                    (angular.isFunction(a) || angular.isArray(a)) && c.push(d.when(b.invoke(a)))
                }), c
            }

            var k = {};
            return k.open = function (b) {
                var e = d.defer(), f = d.defer(), k = {
                    result: e.promise, opened: f.promise, close: function (a) {
                        h.close(k, a)
                    }, dismiss: function (a) {
                        h.dismiss(k, a)
                    }
                };
                if (b = angular.extend({}, a.options, b), b.resolve = b.resolve || {}, !b.template && !b.templateUrl)throw new Error("One of template or templateUrl options is required.");
                var l = d.all([i(b)].concat(j(b.resolve)));
                return l.then(function (a) {
                    var d = (b.scope || c).$new();
                    d.$close = k.close, d.$dismiss = k.dismiss;
                    var f, i = {}, j = 1;
                    b.controller && (i.$scope = d, i.$modalInstance = k, angular.forEach(b.resolve, function (b, c) {
                        i[c] = a[j++]
                    }), f = g(b.controller, i)), h.open(k, {
                        scope: d,
                        deferred: e,
                        content: a[0],
                        backdrop: b.backdrop,
                        keyboard: b.keyboard,
                        windowClass: b.windowClass,
                        windowTemplateUrl: b.windowTemplateUrl,
                        size: b.size
                    })
                }, function (a) {
                    e.reject(a)
                }), l.then(function () {
                    f.resolve(!0)
                }, function () {
                    f.reject(!1)
                }), k
            }, k
        }]
    };
    return a
}), angular.module("ui.bootstrap.pagination", []).controller("PaginationController", ["$scope", "$attrs", "$parse", function (a, b, c) {
    var d = this, e = {$setViewValue: angular.noop}, f = b.numPages ? c(b.numPages).assign : angular.noop;
    this.init = function (f, g) {
        e = f, this.config = g, e.$render = function () {
            d.render()
        }, b.itemsPerPage ? a.$parent.$watch(c(b.itemsPerPage), function (b) {
            d.itemsPerPage = parseInt(b, 10), a.totalPages = d.calculateTotalPages()
        }) : this.itemsPerPage = g.itemsPerPage
    }, this.calculateTotalPages = function () {
        var b = this.itemsPerPage < 1 ? 1 : Math.ceil(a.totalItems / this.itemsPerPage);
        return Math.max(b || 0, 1)
    }, this.render = function () {
        a.page = parseInt(e.$viewValue, 10) || 1
    }, a.selectPage = function (b) {
        a.page !== b && b > 0 && b <= a.totalPages && (e.$setViewValue(b), e.$render())
    }, a.getText = function (b) {
        return a[b + "Text"] || d.config[b + "Text"]
    }, a.noPrevious = function () {
        return 1 === a.page
    }, a.noNext = function () {
        return a.page === a.totalPages
    }, a.$watch("totalItems", function () {
        a.totalPages = d.calculateTotalPages()
    }), a.$watch("totalPages", function (b) {
        f(a.$parent, b), a.page > b ? a.selectPage(b) : e.$render()
    })
}]).constant("paginationConfig", {
    itemsPerPage: 10,
    boundaryLinks: !1,
    directionLinks: !0,
    firstText: "First",
    previousText: "Previous",
    nextText: "Next",
    lastText: "Last",
    rotate: !0
}).directive("pagination", ["$parse", "paginationConfig", function (a, b) {
    return {
        restrict: "EA",
        scope: {totalItems: "=", firstText: "@", previousText: "@", nextText: "@", lastText: "@"},
        require: ["pagination", "?ngModel"],
        controller: "PaginationController",
        templateUrl: "template/pagination/pagination.html",
        replace: !0,
        link: function (c, d, e, f) {
            function g(a, b, c) {
                return {number: a, text: b, active: c}
            }

            function h(a, b) {
                var c = [], d = 1, e = b, f = angular.isDefined(k) && b > k;
                f && (l ? (d = Math.max(a - Math.floor(k / 2), 1), e = d + k - 1, e > b && (e = b, d = e - k + 1)) : (d = (Math.ceil(a / k) - 1) * k + 1, e = Math.min(d + k - 1, b)));
                for (var h = d; e >= h; h++) {
                    var i = g(h, h, h === a);
                    c.push(i)
                }
                if (f && !l) {
                    if (d > 1) {
                        var j = g(d - 1, "...", !1);
                        c.unshift(j)
                    }
                    if (b > e) {
                        var m = g(e + 1, "...", !1);
                        c.push(m)
                    }
                }
                return c
            }

            var i = f[0], j = f[1];
            if (j) {
                var k = angular.isDefined(e.maxSize) ? c.$parent.$eval(e.maxSize) : b.maxSize, l = angular.isDefined(e.rotate) ? c.$parent.$eval(e.rotate) : b.rotate;
                c.boundaryLinks = angular.isDefined(e.boundaryLinks) ? c.$parent.$eval(e.boundaryLinks) : b.boundaryLinks, c.directionLinks = angular.isDefined(e.directionLinks) ? c.$parent.$eval(e.directionLinks) : b.directionLinks, i.init(j, b), e.maxSize && c.$parent.$watch(a(e.maxSize), function (a) {
                    k = parseInt(a, 10), i.render()
                });
                var m = i.render;
                i.render = function () {
                    m(), c.page > 0 && c.page <= c.totalPages && (c.pages = h(c.page, c.totalPages))
                }
            }
        }
    }
}]).constant("pagerConfig", {
    itemsPerPage: 10,
    previousText: "« Previous",
    nextText: "Next »",
    align: !0
}).directive("pager", ["pagerConfig", function (a) {
    return {
        restrict: "EA",
        scope: {totalItems: "=", previousText: "@", nextText: "@"},
        require: ["pager", "?ngModel"],
        controller: "PaginationController",
        templateUrl: "template/pagination/pager.html",
        replace: !0,
        link: function (b, c, d, e) {
            var f = e[0], g = e[1];
            g && (b.align = angular.isDefined(d.align) ? b.$parent.$eval(d.align) : a.align, f.init(g, a))
        }
    }
}]), angular.module("ui.bootstrap.tooltip", ["ui.bootstrap.position", "ui.bootstrap.bindHtml"]).provider("$tooltip", function () {
    function a(a) {
        var b = /[A-Z]/g, c = "-";
        return a.replace(b, function (a, b) {
            return (b ? c : "") + a.toLowerCase()
        })
    }

    var b = {placement: "top", animation: !0, popupDelay: 0}, c = {
        mouseenter: "mouseleave",
        click: "click",
        focus: "blur"
    }, d = {};
    this.options = function (a) {
        angular.extend(d, a)
    }, this.setTriggers = function (a) {
        angular.extend(c, a)
    }, this.$get = ["$window", "$compile", "$timeout", "$parse", "$document", "$position", "$interpolate", function (e, f, g, h, i, j, k) {
        return function (e, l, m) {
            function n(a) {
                var b = a || o.trigger || m, d = c[b] || b;
                return {show: b, hide: d}
            }

            var o = angular.extend({}, b, d), p = a(e), q = k.startSymbol(), r = k.endSymbol(), s = "<div " + p + '-popup title="' + q + "tt_title" + r + '" content="' + q + "tt_content" + r + '" placement="' + q + "tt_placement" + r + '" animation="tt_animation" is-open="tt_isOpen"></div>';
            return {
                restrict: "EA", scope: !0, compile: function () {
                    var a = f(s);
                    return function (b, c, d) {
                        function f() {
                            b.tt_isOpen ? m() : k()
                        }

                        function k() {
                            (!y || b.$eval(d[l + "Enable"])) && (b.tt_popupDelay ? v || (v = g(p, b.tt_popupDelay, !1), v.then(function (a) {
                                a()
                            })) : p()())
                        }

                        function m() {
                            b.$apply(function () {
                                q()
                            })
                        }

                        function p() {
                            return v = null, u && (g.cancel(u), u = null), b.tt_content ? (r(), t.css({
                                top: 0,
                                left: 0,
                                display: "block"
                            }), w ? i.find("body").append(t) : c.after(t), z(), b.tt_isOpen = !0, b.$digest(), z) : angular.noop
                        }

                        function q() {
                            b.tt_isOpen = !1, g.cancel(v), v = null, b.tt_animation ? u || (u = g(s, 500)) : s()
                        }

                        function r() {
                            t && s(), t = a(b, function () {
                            }), b.$digest()
                        }

                        function s() {
                            u = null, t && (t.remove(), t = null)
                        }

                        var t, u, v, w = angular.isDefined(o.appendToBody) ? o.appendToBody : !1, x = n(void 0), y = angular.isDefined(d[l + "Enable"]), z = function () {
                            var a = j.positionElements(c, t, b.tt_placement, w);
                            a.top += "px", a.left += "px", t.css(a)
                        };
                        b.tt_isOpen = !1, d.$observe(e, function (a) {
                            b.tt_content = a, !a && b.tt_isOpen && q()
                        }), d.$observe(l + "Title", function (a) {
                            b.tt_title = a
                        }), d.$observe(l + "Placement", function (a) {
                            b.tt_placement = angular.isDefined(a) ? a : o.placement
                        }), d.$observe(l + "PopupDelay", function (a) {
                            var c = parseInt(a, 10);
                            b.tt_popupDelay = isNaN(c) ? o.popupDelay : c
                        });
                        var A = function () {
                            c.unbind(x.show, k), c.unbind(x.hide, m)
                        };
                        d.$observe(l + "Trigger", function (a) {
                            A(), x = n(a), x.show === x.hide ? c.bind(x.show, f) : (c.bind(x.show, k), c.bind(x.hide, m))
                        });
                        var B = b.$eval(d[l + "Animation"]);
                        b.tt_animation = angular.isDefined(B) ? !!B : o.animation, d.$observe(l + "AppendToBody", function (a) {
                            w = angular.isDefined(a) ? h(a)(b) : w
                        }), w && b.$on("$locationChangeSuccess", function () {
                            b.tt_isOpen && q()
                        }), b.$on("$destroy", function () {
                            g.cancel(u), g.cancel(v), A(), s()
                        })
                    }
                }
            }
        }
    }]
}).directive("tooltipPopup", function () {
    return {
        restrict: "EA",
        replace: !0,
        scope: {content: "@", placement: "@", animation: "&", isOpen: "&"},
        templateUrl: "template/tooltip/tooltip-popup.html"
    }
}).directive("tooltip", ["$tooltip", function (a) {
    return a("tooltip", "tooltip", "mouseenter")
}]).directive("tooltipHtmlUnsafePopup", function () {
    return {
        restrict: "EA",
        replace: !0,
        scope: {content: "@", placement: "@", animation: "&", isOpen: "&"},
        templateUrl: "template/tooltip/tooltip-html-unsafe-popup.html"
    }
}).directive("tooltipHtmlUnsafe", ["$tooltip", function (a) {
    return a("tooltipHtmlUnsafe", "tooltip", "mouseenter")
}]), angular.module("ui.bootstrap.popover", ["ui.bootstrap.tooltip"]).directive("popoverPopup", function () {
    return {
        restrict: "EA",
        replace: !0,
        scope: {title: "@", content: "@", placement: "@", animation: "&", isOpen: "&"},
        templateUrl: "template/popover/popover.html"
    }
}).directive("popover", ["$tooltip", function (a) {
    return a("popover", "popover", "click")
}]), angular.module("ui.bootstrap.progressbar", []).constant("progressConfig", {
    animate: !0,
    max: 100
}).controller("ProgressController", ["$scope", "$attrs", "progressConfig", function (a, b, c) {
    var d = this, e = angular.isDefined(b.animate) ? a.$parent.$eval(b.animate) : c.animate;
    this.bars = [], a.max = angular.isDefined(b.max) ? a.$parent.$eval(b.max) : c.max, this.addBar = function (b, c) {
        e || c.css({transition: "none"}), this.bars.push(b), b.$watch("value", function (c) {
            b.percent = +(100 * c / a.max).toFixed(2)
        }), b.$on("$destroy", function () {
            c = null, d.removeBar(b)
        })
    }, this.removeBar = function (a) {
        this.bars.splice(this.bars.indexOf(a), 1)
    }
}]).directive("progress", function () {
    return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        controller: "ProgressController",
        require: "progress",
        scope: {},
        templateUrl: "template/progressbar/progress.html"
    }
}).directive("bar", function () {
    return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        require: "^progress",
        scope: {value: "=", type: "@"},
        templateUrl: "template/progressbar/bar.html",
        link: function (a, b, c, d) {
            d.addBar(a, b)
        }
    }
}).directive("progressbar", function () {
    return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        controller: "ProgressController",
        scope: {value: "=", type: "@"},
        templateUrl: "template/progressbar/progressbar.html",
        link: function (a, b, c, d) {
            d.addBar(a, angular.element(b.children()[0]))
        }
    }
}), angular.module("ui.bootstrap.rating", []).constant("ratingConfig", {
    max: 5,
    stateOn: null,
    stateOff: null
}).controller("RatingController", ["$scope", "$attrs", "ratingConfig", function (a, b, c) {
    var d = {$setViewValue: angular.noop};
    this.init = function (e) {
        d = e, d.$render = this.render, this.stateOn = angular.isDefined(b.stateOn) ? a.$parent.$eval(b.stateOn) : c.stateOn, this.stateOff = angular.isDefined(b.stateOff) ? a.$parent.$eval(b.stateOff) : c.stateOff;
        var f = angular.isDefined(b.ratingStates) ? a.$parent.$eval(b.ratingStates) : new Array(angular.isDefined(b.max) ? a.$parent.$eval(b.max) : c.max);
        a.range = this.buildTemplateObjects(f)
    }, this.buildTemplateObjects = function (a) {
        for (var b = 0, c = a.length; c > b; b++)a[b] = angular.extend({index: b}, {
            stateOn: this.stateOn,
            stateOff: this.stateOff
        }, a[b]);
        return a
    }, a.rate = function (b) {
        !a.readonly && b >= 0 && b <= a.range.length && (d.$setViewValue(b), d.$render())
    }, a.enter = function (b) {
        a.readonly || (a.value = b), a.onHover({value: b})
    }, a.reset = function () {
        a.value = d.$viewValue, a.onLeave()
    }, a.onKeydown = function (b) {
        /(37|38|39|40)/.test(b.which) && (b.preventDefault(), b.stopPropagation(), a.rate(a.value + (38 === b.which || 39 === b.which ? 1 : -1)))
    }, this.render = function () {
        a.value = d.$viewValue
    }
}]).directive("rating", function () {
    return {
        restrict: "EA",
        require: ["rating", "ngModel"],
        scope: {readonly: "=?", onHover: "&", onLeave: "&"},
        controller: "RatingController",
        templateUrl: "template/rating/rating.html",
        replace: !0,
        link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            f && e.init(f)
        }
    }
}), angular.module("ui.bootstrap.tabs", []).controller("TabsetController", ["$scope", function (a) {
    var b = this, c = b.tabs = a.tabs = [];
    b.select = function (a) {
        angular.forEach(c, function (b) {
            b.active && b !== a && (b.active = !1, b.onDeselect())
        }), a.active = !0, a.onSelect()
    }, b.addTab = function (a) {
        c.push(a), 1 === c.length ? a.active = !0 : a.active && b.select(a)
    }, b.removeTab = function (a) {
        var d = c.indexOf(a);
        if (a.active && c.length > 1) {
            var e = d == c.length - 1 ? d - 1 : d + 1;
            b.select(c[e])
        }
        c.splice(d, 1)
    }
}]).directive("tabset", function () {
    return {
        restrict: "EA",
        transclude: !0,
        replace: !0,
        scope: {type: "@"},
        controller: "TabsetController",
        templateUrl: "template/tabs/tabset.html",
        link: function (a, b, c) {
            a.vertical = angular.isDefined(c.vertical) ? a.$parent.$eval(c.vertical) : !1, a.justified = angular.isDefined(c.justified) ? a.$parent.$eval(c.justified) : !1
        }
    }
}).directive("tab", ["$parse", function (a) {
    return {
        require: "^tabset",
        restrict: "EA",
        replace: !0,
        templateUrl: "template/tabs/tab.html",
        transclude: !0,
        scope: {active: "=?", heading: "@", onSelect: "&select", onDeselect: "&deselect"},
        controller: function () {
        },
        compile: function (b, c, d) {
            return function (b, c, e, f) {
                b.$watch("active", function (a) {
                    a && f.select(b)
                }), b.disabled = !1, e.disabled && b.$parent.$watch(a(e.disabled), function (a) {
                    b.disabled = !!a
                }), b.select = function () {
                    b.disabled || (b.active = !0)
                }, f.addTab(b), b.$on("$destroy", function () {
                    f.removeTab(b)
                }), b.$transcludeFn = d
            }
        }
    }
}]).directive("tabHeadingTransclude", [function () {
    return {
        restrict: "A", require: "^tab", link: function (a, b) {
            a.$watch("headingElement", function (a) {
                a && (b.html(""), b.append(a))
            })
        }
    }
}]).directive("tabContentTransclude", function () {
    function a(a) {
        return a.tagName && (a.hasAttribute("tab-heading") || a.hasAttribute("data-tab-heading") || "tab-heading" === a.tagName.toLowerCase() || "data-tab-heading" === a.tagName.toLowerCase())
    }

    return {
        restrict: "A", require: "^tabset", link: function (b, c, d) {
            var e = b.$eval(d.tabContentTransclude);
            e.$transcludeFn(e.$parent, function (b) {
                angular.forEach(b, function (b) {
                    a(b) ? e.headingElement = b : c.append(b)
                })
            })
        }
    }
}), angular.module("ui.bootstrap.timepicker", []).constant("timepickerConfig", {
    hourStep: 1,
    minuteStep: 1,
    showMeridian: !0,
    meridians: null,
    readonlyInput: !1,
    mousewheel: !0
}).controller("TimepickerController", ["$scope", "$attrs", "$parse", "$log", "$locale", "timepickerConfig", function (a, b, c, d, e, f) {
    function g() {
        var b = parseInt(a.hours, 10), c = a.showMeridian ? b > 0 && 13 > b : b >= 0 && 24 > b;
        return c ? (a.showMeridian && (12 === b && (b = 0), a.meridian === p[1] && (b += 12)), b) : void 0
    }

    function h() {
        var b = parseInt(a.minutes, 10);
        return b >= 0 && 60 > b ? b : void 0
    }

    function i(a) {
        return angular.isDefined(a) && a.toString().length < 2 ? "0" + a : a
    }

    function j(a) {
        k(), o.$setViewValue(new Date(n)), l(a)
    }

    function k() {
        o.$setValidity("time", !0), a.invalidHours = !1, a.invalidMinutes = !1
    }

    function l(b) {
        var c = n.getHours(), d = n.getMinutes();
        a.showMeridian && (c = 0 === c || 12 === c ? 12 : c % 12), a.hours = "h" === b ? c : i(c), a.minutes = "m" === b ? d : i(d), a.meridian = n.getHours() < 12 ? p[0] : p[1]
    }

    function m(a) {
        var b = new Date(n.getTime() + 6e4 * a);
        n.setHours(b.getHours(), b.getMinutes()), j()
    }

    var n = new Date, o = {$setViewValue: angular.noop}, p = angular.isDefined(b.meridians) ? a.$parent.$eval(b.meridians) : f.meridians || e.DATETIME_FORMATS.AMPMS;
    this.init = function (c, d) {
        o = c, o.$render = this.render;
        var e = d.eq(0), g = d.eq(1), h = angular.isDefined(b.mousewheel) ? a.$parent.$eval(b.mousewheel) : f.mousewheel;
        h && this.setupMousewheelEvents(e, g), a.readonlyInput = angular.isDefined(b.readonlyInput) ? a.$parent.$eval(b.readonlyInput) : f.readonlyInput, this.setupInputEvents(e, g)
    };
    var q = f.hourStep;
    b.hourStep && a.$parent.$watch(c(b.hourStep), function (a) {
        q = parseInt(a, 10)
    });
    var r = f.minuteStep;
    b.minuteStep && a.$parent.$watch(c(b.minuteStep), function (a) {
        r = parseInt(a, 10)
    }), a.showMeridian = f.showMeridian, b.showMeridian && a.$parent.$watch(c(b.showMeridian), function (b) {
        if (a.showMeridian = !!b, o.$error.time) {
            var c = g(), d = h();
            angular.isDefined(c) && angular.isDefined(d) && (n.setHours(c), j())
        } else l()
    }), this.setupMousewheelEvents = function (b, c) {
        var d = function (a) {
            a.originalEvent && (a = a.originalEvent);
            var b = a.wheelDelta ? a.wheelDelta : -a.deltaY;
            return a.detail || b > 0
        };
        b.bind("mousewheel wheel", function (b) {
            a.$apply(d(b) ? a.incrementHours() : a.decrementHours()), b.preventDefault()
        }), c.bind("mousewheel wheel", function (b) {
            a.$apply(d(b) ? a.incrementMinutes() : a.decrementMinutes()), b.preventDefault()
        })
    }, this.setupInputEvents = function (b, c) {
        if (a.readonlyInput)return a.updateHours = angular.noop, void(a.updateMinutes = angular.noop);
        var d = function (b, c) {
            o.$setViewValue(null), o.$setValidity("time", !1), angular.isDefined(b) && (a.invalidHours = b), angular.isDefined(c) && (a.invalidMinutes = c)
        };
        a.updateHours = function () {
            var a = g();
            angular.isDefined(a) ? (n.setHours(a), j("h")) : d(!0)
        }, b.bind("blur", function () {
            !a.invalidHours && a.hours < 10 && a.$apply(function () {
                a.hours = i(a.hours)
            })
        }), a.updateMinutes = function () {
            var a = h();
            angular.isDefined(a) ? (n.setMinutes(a), j("m")) : d(void 0, !0)
        }, c.bind("blur", function () {
            !a.invalidMinutes && a.minutes < 10 && a.$apply(function () {
                a.minutes = i(a.minutes)
            })
        })
    }, this.render = function () {
        var a = o.$modelValue ? new Date(o.$modelValue) : null;
        isNaN(a) ? (o.$setValidity("time", !1), d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')) : (a && (n = a), k(), l())
    }, a.incrementHours = function () {
        m(60 * q)
    }, a.decrementHours = function () {
        m(60 * -q)
    }, a.incrementMinutes = function () {
        m(r)
    }, a.decrementMinutes = function () {
        m(-r)
    }, a.toggleMeridian = function () {
        m(720 * (n.getHours() < 12 ? 1 : -1))
    }
}]).directive("timepicker", function () {
    return {
        restrict: "EA",
        require: ["timepicker", "?^ngModel"],
        controller: "TimepickerController",
        replace: !0,
        scope: {},
        templateUrl: "template/timepicker/timepicker.html",
        link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            f && e.init(f, b.find("input"))
        }
    }
}), angular.module("ui.bootstrap.typeahead", ["ui.bootstrap.position", "ui.bootstrap.bindHtml"]).factory("typeaheadParser", ["$parse", function (a) {
    var b = /^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;
    return {
        parse: function (c) {
            var d = c.match(b);
            if (!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "' + c + '".');
            return {itemName: d[3], source: a(d[4]), viewMapper: a(d[2] || d[1]), modelMapper: a(d[1])}
        }
    }
}]).directive("typeahead", ["$compile", "$parse", "$q", "$timeout", "$document", "$position", "typeaheadParser", function (a, b, c, d, e, f, g) {
    var h = [9, 13, 27, 38, 40];
    return {
        require: "ngModel", link: function (i, j, k, l) {
            var m, n = i.$eval(k.typeaheadMinLength) || 1, o = i.$eval(k.typeaheadWaitMs) || 0, p = i.$eval(k.typeaheadEditable) !== !1, q = b(k.typeaheadLoading).assign || angular.noop, r = b(k.typeaheadOnSelect), s = k.typeaheadInputFormatter ? b(k.typeaheadInputFormatter) : void 0, t = k.typeaheadAppendToBody ? i.$eval(k.typeaheadAppendToBody) : !1, u = b(k.ngModel).assign, v = g.parse(k.typeahead), w = i.$new();
            i.$on("$destroy", function () {
                w.$destroy()
            });
            var x = "typeahead-" + w.$id + "-" + Math.floor(1e4 * Math.random());
            j.attr({"aria-autocomplete": "list", "aria-expanded": !1, "aria-owns": x});
            var y = angular.element("<div typeahead-popup></div>");
            y.attr({
                id: x,
                matches: "matches",
                active: "activeIdx",
                select: "select(activeIdx)",
                query: "query",
                position: "position"
            }), angular.isDefined(k.typeaheadTemplateUrl) && y.attr("template-url", k.typeaheadTemplateUrl);
            var z = function () {
                w.matches = [], w.activeIdx = -1, j.attr("aria-expanded", !1)
            }, A = function (a) {
                return x + "-option-" + a
            };
            w.$watch("activeIdx", function (a) {
                0 > a ? j.removeAttr("aria-activedescendant") : j.attr("aria-activedescendant", A(a))
            });
            var B = function (a) {
                var b = {$viewValue: a};
                q(i, !0), c.when(v.source(i, b)).then(function (c) {
                    var d = a === l.$viewValue;
                    if (d && m)if (c.length > 0) {
                        w.activeIdx = 0, w.matches.length = 0;
                        for (var e = 0; e < c.length; e++)b[v.itemName] = c[e], w.matches.push({
                            id: A(e),
                            label: v.viewMapper(w, b),
                            model: c[e]
                        });
                        w.query = a, w.position = t ? f.offset(j) : f.position(j), w.position.top = w.position.top + j.prop("offsetHeight"), j.attr("aria-expanded", !0)
                    } else z();
                    d && q(i, !1)
                }, function () {
                    z(), q(i, !1)
                })
            };
            z(), w.query = void 0;
            var C;
            l.$parsers.unshift(function (a) {
                return m = !0, a && a.length >= n ? o > 0 ? (C && d.cancel(C), C = d(function () {
                    B(a)
                }, o)) : B(a) : (q(i, !1), z()), p ? a : a ? void l.$setValidity("editable", !1) : (l.$setValidity("editable", !0), a)
            }), l.$formatters.push(function (a) {
                var b, c, d = {};
                return s ? (d.$model = a, s(i, d)) : (d[v.itemName] = a, b = v.viewMapper(i, d), d[v.itemName] = void 0, c = v.viewMapper(i, d), b !== c ? b : a)
            }), w.select = function (a) {
                var b, c, e = {};
                e[v.itemName] = c = w.matches[a].model, b = v.modelMapper(i, e), u(i, b), l.$setValidity("editable", !0), r(i, {
                    $item: c,
                    $model: b,
                    $label: v.viewMapper(i, e)
                }), z(), d(function () {
                    j[0].focus()
                }, 0, !1)
            }, j.bind("keydown", function (a) {
                0 !== w.matches.length && -1 !== h.indexOf(a.which) && (a.preventDefault(), 40 === a.which ? (w.activeIdx = (w.activeIdx + 1) % w.matches.length, w.$digest()) : 38 === a.which ? (w.activeIdx = (w.activeIdx ? w.activeIdx : w.matches.length) - 1, w.$digest()) : 13 === a.which || 9 === a.which ? w.$apply(function () {
                    w.select(w.activeIdx)
                }) : 27 === a.which && (a.stopPropagation(), z(), w.$digest()))
            }), j.bind("blur", function () {
                m = !1
            });
            var D = function (a) {
                j[0] !== a.target && (z(), w.$digest())
            };
            e.bind("click", D), i.$on("$destroy", function () {
                e.unbind("click", D)
            });
            var E = a(y)(w);
            t ? e.find("body").append(E) : j.after(E)
        }
    }
}]).directive("typeaheadPopup", function () {
    return {
        restrict: "EA",
        scope: {matches: "=", query: "=", active: "=", position: "=", select: "&"},
        replace: !0,
        templateUrl: "template/typeahead/typeahead-popup.html",
        link: function (a, b, c) {
            a.templateUrl = c.templateUrl, a.isOpen = function () {
                return a.matches.length > 0
            }, a.isActive = function (b) {
                return a.active == b
            }, a.selectActive = function (b) {
                a.active = b
            }, a.selectMatch = function (b) {
                a.select({activeIdx: b})
            }
        }
    }
}).directive("typeaheadMatch", ["$http", "$templateCache", "$compile", "$parse", function (a, b, c, d) {
    return {
        restrict: "EA", scope: {index: "=", match: "=", query: "="}, link: function (e, f, g) {
            var h = d(g.templateUrl)(e.$parent) || "template/typeahead/typeahead-match.html";
            a.get(h, {cache: b}).success(function (a) {
                f.replaceWith(c(a.trim())(e))
            })
        }
    }
}]).filter("typeaheadHighlight", function () {
    function a(a) {
        return a.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1")
    }

    return function (b, c) {
        return c ? ("" + b).replace(new RegExp(a(c), "gi"), "<strong>$&</strong>") : b
    }
}), angular.module("template/accordion/accordion-group.html", []).run(["$templateCache", function (a) {
    a.put("template/accordion/accordion-group.html", '<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')
}]), angular.module("template/accordion/accordion.html", []).run(["$templateCache", function (a) {
    a.put("template/accordion/accordion.html", '<div class="panel-group" ng-transclude></div>')
}]), angular.module("template/alert/alert.html", []).run(["$templateCache", function (a) {
    a.put("template/alert/alert.html", '<div class="alert" ng-class="{\'alert-{{type || \'warning\'}}\': true, \'alert-dismissable\': closeable}" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')
}]), angular.module("template/carousel/carousel.html", []).run(["$templateCache", function (a) {
    a.put("template/carousel/carousel.html", '<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')
}]), angular.module("template/carousel/slide.html", []).run(["$templateCache", function (a) {
    a.put("template/carousel/slide.html", "<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")
}]), angular.module("template/datepicker/datepicker.html", []).run(["$templateCache", function (a) {
    a.put("template/datepicker/datepicker.html", '<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')
}]), angular.module("template/datepicker/day.html", []).run(["$templateCache", function (a) {
    a.put("template/datepicker/day.html", '<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]), angular.module("template/datepicker/month.html", []).run(["$templateCache", function (a) {
    a.put("template/datepicker/month.html", '<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]), angular.module("template/datepicker/popup.html", []).run(["$templateCache", function (a) {
    a.put("template/datepicker/popup.html", '<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')
}]), angular.module("template/datepicker/year.html", []).run(["$templateCache", function (a) {
    a.put("template/datepicker/year.html", '<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]), angular.module("template/modal/backdrop.html", []).run(["$templateCache", function (a) {
    a.put("template/modal/backdrop.html", '<div class="modal-backdrop fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')
}]), angular.module("template/modal/window.html", []).run(["$templateCache", function (a) {
    a.put("template/modal/window.html", '<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" ng-transclude></div></div>\n</div>')
}]), angular.module("template/pagination/pager.html", []).run(["$templateCache", function (a) {
    a.put("template/pagination/pager.html", '<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')
}]), angular.module("template/pagination/pagination.html", []).run(["$templateCache", function (a) {
    a.put("template/pagination/pagination.html", '<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')
}]), angular.module("template/tooltip/tooltip-html-unsafe-popup.html", []).run(["$templateCache", function (a) {
    a.put("template/tooltip/tooltip-html-unsafe-popup.html", '<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')
}]), angular.module("template/tooltip/tooltip-popup.html", []).run(["$templateCache", function (a) {
    a.put("template/tooltip/tooltip-popup.html", '<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')
}]), angular.module("template/popover/popover.html", []).run(["$templateCache", function (a) {
    a.put("template/popover/popover.html", '<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')
}]), angular.module("template/progressbar/bar.html", []).run(["$templateCache", function (a) {
    a.put("template/progressbar/bar.html", '<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')
}]), angular.module("template/progressbar/progress.html", []).run(["$templateCache", function (a) {
    a.put("template/progressbar/progress.html", '<div class="progress" ng-transclude></div>')
}]), angular.module("template/progressbar/progressbar.html", []).run(["$templateCache", function (a) {
    a.put("template/progressbar/progressbar.html", '<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')
}]), angular.module("template/rating/rating.html", []).run(["$templateCache", function (a) {
    a.put("template/rating/rating.html", '<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')
}]), angular.module("template/tabs/tab.html", []).run(["$templateCache", function (a) {
    a.put("template/tabs/tab.html", '<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')
}]),angular.module("template/tabs/tabset-titles.html", []).run(["$templateCache", function (a) {
    a.put("template/tabs/tabset-titles.html", "<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")
}]),angular.module("template/tabs/tabset.html", []).run(["$templateCache", function (a) {
    a.put("template/tabs/tabset.html", '\n<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')
}]),angular.module("template/timepicker/timepicker.html", []).run(["$templateCache", function (a) {
    a.put("template/timepicker/timepicker.html", '<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')
}]),angular.module("template/typeahead/typeahead-match.html", []).run(["$templateCache", function (a) {
    a.put("template/typeahead/typeahead-match.html", '<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')
}]),angular.module("template/typeahead/typeahead-popup.html", []).run(["$templateCache", function (a) {
    a.put("template/typeahead/typeahead-popup.html", '<ul class="dropdown-menu" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>')
}]),!function (a) {
    a(["jquery"], function (a) {
        return function () {
            function b(a, b, c) {
                return o({type: u.error, iconClass: p().iconClasses.error, message: a, optionsOverride: c, title: b})
            }

            function c(b, c) {
                return b || (b = p()), r = a("#" + b.containerId), r.length ? r : (c && (r = l(b)), r)
            }

            function d(a, b, c) {
                return o({type: u.info, iconClass: p().iconClasses.info, message: a, optionsOverride: c, title: b})
            }

            function e(a) {
                s = a
            }

            function f(a, b, c) {
                return o({
                    type: u.success,
                    iconClass: p().iconClasses.success,
                    message: a,
                    optionsOverride: c,
                    title: b
                })
            }

            function g(a, b, c) {
                return o({
                    type: u.warning,
                    iconClass: p().iconClasses.warning,
                    message: a,
                    optionsOverride: c,
                    title: b
                })
            }

            function h(a) {
                var b = p();
                r || c(b), k(a, b) || j(b)
            }

            function i(b) {
                var d = p();
                return r || c(d), b && 0 === a(":focus", b).length ? void q(b) : void(r.children().length && r.remove())
            }

            function j(b) {
                for (var c = r.children(), d = c.length - 1; d >= 0; d--)k(a(c[d]), b)
            }

            function k(b, c) {
                return b && 0 === a(":focus", b).length ? (b[c.hideMethod]({
                    duration: c.hideDuration,
                    easing: c.hideEasing,
                    complete: function () {
                        q(b)
                    }
                }), !0) : !1
            }

            function l(b) {
                return r = a("<div/>").attr("id", b.containerId).addClass(b.positionClass).attr("aria-live", "polite").attr("role", "alert"), r.appendTo(a(b.target)), r
            }

            function m() {
                return {
                    tapToDismiss: !0,
                    toastClass: "toast",
                    containerId: "toast-container",
                    debug: !1,
                    showMethod: "fadeIn",
                    showDuration: 300,
                    showEasing: "swing",
                    onShown: void 0,
                    hideMethod: "fadeOut",
                    hideDuration: 1e3,
                    hideEasing: "swing",
                    onHidden: void 0,
                    extendedTimeOut: 1e3,
                    iconClasses: {
                        error: "toast-error",
                        info: "toast-info",
                        success: "toast-success",
                        warning: "toast-warning"
                    },
                    iconClass: "toast-info",
                    positionClass: "toast-top-right",
                    timeOut: 5e3,
                    titleClass: "toast-title",
                    messageClass: "toast-message",
                    target: "body",
                    closeHtml: "<button>&times;</button>",
                    newestOnTop: !0
                }
            }

            function n(a) {
                s && s(a)
            }

            function o(b) {
                function d(b) {
                    return !a(":focus", j).length || b ? j[g.hideMethod]({
                        duration: g.hideDuration,
                        easing: g.hideEasing,
                        complete: function () {
                            q(j), g.onHidden && "hidden" !== o.state && g.onHidden(), o.state = "hidden", o.endTime = new Date, n(o)
                        }
                    }) : void 0
                }

                function e() {
                    (g.timeOut > 0 || g.extendedTimeOut > 0) && (i = setTimeout(d, g.extendedTimeOut))
                }

                function f() {
                    clearTimeout(i), j.stop(!0, !0)[g.showMethod]({duration: g.showDuration, easing: g.showEasing})
                }

                var g = p(), h = b.iconClass || g.iconClass;
                "undefined" != typeof b.optionsOverride && (g = a.extend(g, b.optionsOverride), h = b.optionsOverride.iconClass || h), t++, r = c(g, !0);
                var i = null, j = a("<div/>"), k = a("<div/>"), l = a("<div/>"), m = a(g.closeHtml), o = {
                    toastId: t,
                    state: "visible",
                    startTime: new Date,
                    options: g,
                    map: b
                };
                return b.iconClass && j.addClass(g.toastClass).addClass(h), b.title && (k.append(b.title).addClass(g.titleClass), j.append(k)), b.message && (l.append(b.message).addClass(g.messageClass), j.append(l)), g.closeButton && (m.addClass("toast-close-button").attr("role", "button"), j.prepend(m)), j.hide(), g.newestOnTop ? r.prepend(j) : r.append(j), j[g.showMethod]({
                    duration: g.showDuration,
                    easing: g.showEasing,
                    complete: g.onShown
                }), g.timeOut > 0 && (i = setTimeout(d, g.timeOut)), j.hover(f, e), !g.onclick && g.tapToDismiss && j.click(d), g.closeButton && m && m.click(function (a) {
                    a.stopPropagation ? a.stopPropagation() : void 0 !== a.cancelBubble && a.cancelBubble !== !0 && (a.cancelBubble = !0), d(!0)
                }), g.onclick && j.click(function () {
                    g.onclick(), d()
                }), n(o), g.debug && console && console.log(o), j
            }

            function p() {
                return a.extend({}, m(), v.options)
            }

            function q(a) {
                r || (r = c()), a.is(":visible") || (a.remove(), a = null, 0 === r.children().length && r.remove())
            }

            var r, s, t = 0, u = {error: "error", info: "info", success: "success", warning: "warning"}, v = {
                clear: h,
                remove: i,
                error: b,
                getContainer: c,
                info: d,
                options: {},
                subscribe: e,
                success: f,
                version: "2.0.3",
                warning: g
            };
            return v
        }()
    })
}("function" == typeof define && define.amd ? define : function (a, b) {
    "undefined" != typeof module && module.exports ? module.exports = b(require("jquery")) : window.toastr = b(window.jQuery)
}),function (a) {
    a.fn.extend({
        slimScroll: function (b) {
            var c = a.extend({
                width: "auto",
                height: "250px",
                size: "7px",
                color: "#000",
                position: "right",
                distance: "1px",
                start: "top",
                opacity: .4,
                alwaysVisible: !1,
                disableFadeOut: !1,
                railVisible: !1,
                railColor: "#333",
                railOpacity: .2,
                railDraggable: !0,
                railClass: "slimScrollRail",
                barClass: "slimScrollBar",
                wrapperClass: "slimScrollDiv",
                allowPageScroll: !1,
                wheelStep: 20,
                touchScrollStep: 200,
                borderRadius: "7px",
                railBorderRadius: "7px"
            }, b);
            return this.each(function () {
                function d(b) {
                    if (j) {
                        b = b || window.event;
                        var d = 0;
                        b.wheelDelta && (d = -b.wheelDelta / 120), b.detail && (d = b.detail / 3), a(b.target || b.srcTarget || b.srcElement).closest("." + c.wrapperClass).is(s.parent()) && e(d, !0), b.preventDefault && !r && b.preventDefault(), r || (b.returnValue = !1)
                    }
                }

                function e(a, b, d) {
                    r = !1;
                    var e = a, f = s.outerHeight() - v.outerHeight();
                    b && (e = parseInt(v.css("top")) + a * parseInt(c.wheelStep) / 100 * v.outerHeight(), e = Math.min(Math.max(e, 0), f), e = a > 0 ? Math.ceil(e) : Math.floor(e), v.css({top: e + "px"})), p = parseInt(v.css("top")) / (s.outerHeight() - v.outerHeight()), e = p * (s[0].scrollHeight - s.outerHeight()), d && (e = a, a = e / s[0].scrollHeight * s.outerHeight(), a = Math.min(Math.max(a, 0), f), v.css({top: a + "px"})), s.scrollTop(e), s.trigger("slimscrolling", ~~e), h(), i()
                }

                function f() {
                    window.addEventListener ? (this.addEventListener("DOMMouseScroll", d, !1), this.addEventListener("mousewheel", d, !1)) : document.attachEvent("onmousewheel", d)
                }

                function g() {
                    o = Math.max(s.outerHeight() / s[0].scrollHeight * s.outerHeight(), 30), v.css({height: o + "px"});
                    var a = o == s.outerHeight() ? "none" : "block";
                    v.css({display: a})
                }

                function h() {
                    g(), clearTimeout(m), p == ~~p ? (r = c.allowPageScroll, q != p && s.trigger("slimscroll", 0 == ~~p ? "top" : "bottom")) : r = !1, q = p, o >= s.outerHeight() ? r = !0 : (v.stop(!0, !0).fadeIn("fast"), c.railVisible && w.stop(!0, !0).fadeIn("fast"))
                }

                function i() {
                    c.alwaysVisible || (m = setTimeout(function () {
                        c.disableFadeOut && j || k || l || (v.fadeOut("slow"), w.fadeOut("slow"))
                    }, 1e3))
                }

                var j, k, l, m, n, o, p, q, r = !1, s = a(this);
                if (s.parent().hasClass(c.wrapperClass)) {
                    var u = s.scrollTop(), v = s.parent().find("." + c.barClass), w = s.parent().find("." + c.railClass);
                    if (g(), a.isPlainObject(b)) {
                        if ("height" in b && "auto" == b.height) {
                            s.parent().css("height", "auto"), s.css("height", "auto");
                            var x = s.parent().parent().height();
                            s.parent().css("height", x), s.css("height", x)
                        }
                        if ("scrollTo" in b)u = parseInt(c.scrollTo); else if ("scrollBy" in b)u += parseInt(c.scrollBy); else if ("destroy" in b)return v.remove(), w.remove(), void s.unwrap();
                        e(u, !1, !0)
                    }
                } else if (!(a.isPlainObject(b) && "destroy" in b)) {
                    c.height = "auto" == c.height ? s.parent().height() : c.height, u = a("<div></div>").addClass(c.wrapperClass).css({
                        position: "relative",
                        overflow: "hidden",
                        width: c.width,
                        height: c.height
                    }), s.css({overflow: "hidden", width: c.width, height: c.height});
                    var w = a("<div></div>").addClass(c.railClass).css({
                        width: c.size,
                        height: "100%",
                        position: "absolute",
                        top: 0,
                        display: c.alwaysVisible && c.railVisible ? "block" : "none",
                        "border-radius": c.railBorderRadius,
                        background: c.railColor,
                        opacity: c.railOpacity,
                        zIndex: 90
                    }), v = a("<div></div>").addClass(c.barClass).css({
                        background: c.color,
                        width: c.size,
                        position: "absolute",
                        top: 0,
                        opacity: c.opacity,
                        display: c.alwaysVisible ? "block" : "none",
                        "border-radius": c.borderRadius,
                        BorderRadius: c.borderRadius,
                        MozBorderRadius: c.borderRadius,
                        WebkitBorderRadius: c.borderRadius,
                        zIndex: 99
                    }), x = "right" == c.position ? {right: c.distance} : {left: c.distance};
                    w.css(x), v.css(x), s.wrap(u), s.parent().append(v), s.parent().append(w), c.railDraggable && v.bind("mousedown", function (b) {
                        var c = a(document);
                        return l = !0, t = parseFloat(v.css("top")), pageY = b.pageY, c.bind("mousemove.slimscroll", function (a) {
                            currTop = t + a.pageY - pageY, v.css("top", currTop), e(0, v.position().top, !1)
                        }), c.bind("mouseup.slimscroll", function () {
                            l = !1, i(), c.unbind(".slimscroll")
                        }), !1
                    }).bind("selectstart.slimscroll", function (a) {
                        return a.stopPropagation(), a.preventDefault(), !1
                    }), w.hover(function () {
                        h()
                    }, function () {
                        i()
                    }), v.hover(function () {
                        k = !0
                    }, function () {
                        k = !1
                    }), s.hover(function () {
                        j = !0, h(), i()
                    }, function () {
                        j = !1, i()
                    }), s.bind("touchstart", function (a) {
                        a.originalEvent.touches.length && (n = a.originalEvent.touches[0].pageY)
                    }), s.bind("touchmove", function (a) {
                        r || a.originalEvent.preventDefault(), a.originalEvent.touches.length && (e((n - a.originalEvent.touches[0].pageY) / c.touchScrollStep, !0), n = a.originalEvent.touches[0].pageY)
                    }), g(), "bottom" === c.start ? (v.css({top: s.outerHeight() - v.outerHeight()}), e(0, !0)) : "top" !== c.start && (e(a(c.start).position().top, null, !0), c.alwaysVisible || v.hide()), f()
                }
            }), this
        }
    }), a.fn.extend({slimscroll: a.fn.slimScroll})
}(jQuery),!function (a, b) {
    "object" == typeof exports ? module.exports = b(require("angular")) : "function" == typeof define && define.amd ? define(["angular"], b) : b(a.angular)
}(this, function (a) {
    !function (a) {
        "use strict";
        return a.module("easypiechart", []).directive("easypiechart", [function () {
            return {
                restrict: "A", require: "?ngModel", scope: {percent: "=", options: "="}, link: function (b, d) {
                    b.percent = b.percent || 0;
                    var e = {
                        barColor: "#ef1e25",
                        trackColor: "#f9f9f9",
                        scaleColor: "#dfe0e0",
                        scaleLength: 5,
                        lineCap: "round",
                        lineWidth: 3,
                        size: 110,
                        rotate: 0,
                        animate: {duration: 1e3, enabled: !0}
                    };
                    b.options = a.extend(e, b.options);
                    var f = new c(d[0], e);
                    b.$watch("percent", function (a) {
                        f.update(a)
                    })
                }
            }
        }])
    }(a);
    var b = function (a, b) {
        var c, d = document.createElement("canvas");
        a.appendChild(d), "undefined" != typeof G_vmlCanvasManager && G_vmlCanvasManager.initElement(d);
        var e = d.getContext("2d");
        d.width = d.height = b.size;
        var f = 1;
        window.devicePixelRatio > 1 && (f = window.devicePixelRatio, d.style.width = d.style.height = [b.size, "px"].join(""), d.width = d.height = b.size * f, e.scale(f, f)), e.translate(b.size / 2, b.size / 2), e.rotate((-.5 + b.rotate / 180) * Math.PI);
        var g = (b.size - b.lineWidth) / 2;
        b.scaleColor && b.scaleLength && (g -= b.scaleLength + 2), Date.now = Date.now || function () {
                return +new Date
            };
        var h = function (a, b, c) {
            c = Math.min(Math.max(-1, c || 0), 1);
            var d = 0 >= c ? !0 : !1;
            e.beginPath(), e.arc(0, 0, g, 0, 2 * Math.PI * c, d), e.strokeStyle = a, e.lineWidth = b, e.stroke()
        }, i = function () {
            var a, c;
            e.lineWidth = 1, e.fillStyle = b.scaleColor, e.save();
            for (var d = 24; d > 0; --d)d % 6 === 0 ? (c = b.scaleLength, a = 0) : (c = .6 * b.scaleLength, a = b.scaleLength - c), e.fillRect(-b.size / 2 + a, 0, c, 1), e.rotate(Math.PI / 12);
            e.restore()
        }, j = function () {
            return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (a) {
                    window.setTimeout(a, 1e3 / 60)
                }
        }(), k = function () {
            b.scaleColor && i(), b.trackColor && h(b.trackColor, b.trackWidth || b.lineWidth, 1)
        };
        this.getCanvas = function () {
            return d
        }, this.getCtx = function () {
            return e
        }, this.clear = function () {
            e.clearRect(b.size / -2, b.size / -2, b.size, b.size)
        }, this.draw = function (a) {
            b.scaleColor || b.trackColor ? e.getImageData && e.putImageData ? c ? e.putImageData(c, 0, 0) : (k(), c = e.getImageData(0, 0, b.size * f, b.size * f)) : (this.clear(), k()) : this.clear(), e.lineCap = b.lineCap;
            var d;
            d = "function" == typeof b.barColor ? b.barColor(a) : b.barColor, h(d, b.lineWidth, a / 100)
        }.bind(this), this.animate = function (a, c) {
            var d = Date.now();
            b.onStart(a, c);
            var e = function () {
                var f = Math.min(Date.now() - d, b.animate.duration), g = b.easing(this, f, a, c - a, b.animate.duration);
                this.draw(g), b.onStep(a, c, g), f >= b.animate.duration ? b.onStop(a, c) : j(e)
            }.bind(this);
            j(e)
        }.bind(this)
    }, c = function (a, c) {
        var d = {
            barColor: "#ef1e25",
            trackColor: "#f9f9f9",
            scaleColor: "#dfe0e0",
            scaleLength: 5,
            lineCap: "round",
            lineWidth: 3,
            trackWidth: void 0,
            size: 110,
            rotate: 0,
            animate: {duration: 1e3, enabled: !0},
            easing: function (a, b, c, d, e) {
                return b /= e / 2, 1 > b ? d / 2 * b * b + c : -d / 2 * (--b * (b - 2) - 1) + c
            },
            onStart: function () {
            },
            onStep: function () {
            },
            onStop: function () {
            }
        };
        if ("undefined" != typeof b)d.renderer = b; else {
            if ("undefined" == typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");
            d.renderer = SVGRenderer
        }
        var e = {}, f = 0, g = function () {
            this.el = a, this.options = e;
            for (var b in d)d.hasOwnProperty(b) && (e[b] = c && "undefined" != typeof c[b] ? c[b] : d[b], "function" == typeof e[b] && (e[b] = e[b].bind(this)));
            e.easing = "string" == typeof e.easing && "undefined" != typeof jQuery && jQuery.isFunction(jQuery.easing[e.easing]) ? jQuery.easing[e.easing] : d.easing, "number" == typeof e.animate && (e.animate = {
                duration: e.animate,
                enabled: !0
            }), "boolean" != typeof e.animate || e.animate || (e.animate = {
                duration: 1e3,
                enabled: e.animate
            }), this.renderer = new e.renderer(a, e), this.renderer.draw(f), a.dataset && a.dataset.percent ? this.update(parseFloat(a.dataset.percent)) : a.getAttribute && a.getAttribute("data-percent") && this.update(parseFloat(a.getAttribute("data-percent")))
        }.bind(this);
        this.update = function (a) {
            return a = parseFloat(a), e.animate.enabled ? this.renderer.animate(f, a) : this.renderer.draw(a), f = a, this
        }.bind(this), this.disableAnimation = function () {
            return e.animate.enabled = !1, this
        }, this.enableAnimation = function () {
            return e.animate.enabled = !0, this
        }, g()
    }
}),!function () {
    "use strict";
    var a = {
        TAB: 9,
        ENTER: 13,
        ESC: 27,
        SPACE: 32,
        LEFT: 37,
        UP: 38,
        RIGHT: 39,
        DOWN: 40,
        SHIFT: 16,
        CTRL: 17,
        ALT: 18,
        PAGE_UP: 33,
        PAGE_DOWN: 34,
        HOME: 36,
        END: 35,
        BACKSPACE: 8,
        DELETE: 46,
        COMMAND: 91,
        isControl: function (b) {
            var c = b.which;
            switch (c) {
                case a.COMMAND:
                case a.SHIFT:
                case a.CTRL:
                case a.ALT:
                    return !0
            }
            return b.metaKey ? !0 : !1
        },
        isFunctionKey: function (a) {
            return a = a.which ? a.which : a, a >= 112 && 123 >= a
        },
        isVerticalMovement: function (b) {
            return ~[a.UP, a.DOWN].indexOf(b)
        },
        isHorizontalMovement: function (b) {
            return ~[a.LEFT, a.RIGHT, a.BACKSPACE, a.DELETE].indexOf(b)
        }
    };
    void 0 === angular.element.prototype.querySelectorAll && (angular.element.prototype.querySelectorAll = function (a) {
        return angular.element(this[0].querySelectorAll(a))
    }), angular.module("ui.select", []).constant("uiSelectConfig", {
        theme: "bootstrap",
        searchEnabled: !0,
        placeholder: "",
        refreshDelay: 1e3
    }).service("uiSelectMinErr", function () {
        var a = angular.$$minErr("ui.select");
        return function () {
            var b = a.apply(this, arguments), c = b.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"), "");
            return new Error(c)
        }
    }).service("RepeatParser", ["uiSelectMinErr", "$parse", function (a, b) {
        var c = this;
        c.parse = function (c) {
            var d = c.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
            if (!d)throw a("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", c);
            return {itemName: d[2], source: b(d[3]), trackByExp: d[4], modelMapper: b(d[1] || d[2])}
        }, c.getGroupNgRepeatExpression = function () {
            return "$group in $select.groups"
        }, c.getNgRepeatExpression = function (a, b, c, d) {
            var e = a + " in " + (d ? "$group.items" : b);
            return c && (e += " track by " + c), e
        }
    }]).controller("uiSelectCtrl", ["$scope", "$element", "$timeout", "RepeatParser", "uiSelectMinErr", function (b, c, d, e, f) {
        function g() {
            l.resetSearchInput && (l.search = m, l.selected && l.items.length && !l.multiple && (l.activeIndex = l.items.indexOf(l.selected)))
        }

        function h(b) {
            var c = !0;
            switch (b) {
                case a.DOWN:
                    !l.open && l.multiple ? l.activate(!1, !0) : l.activeIndex < l.items.length - 1 && l.activeIndex++;
                    break;
                case a.UP:
                    !l.open && l.multiple ? l.activate(!1, !0) : l.activeIndex > 0 && l.activeIndex--;
                    break;
                case a.TAB:
                    (!l.multiple || l.open) && l.select(l.items[l.activeIndex], !0);
                    break;
                case a.ENTER:
                    l.open ? l.select(l.items[l.activeIndex]) : l.activate(!1, !0);
                    break;
                case a.ESC:
                    l.close();
                    break;
                default:
                    c = !1
            }
            return c
        }

        function i(b) {
            function c() {
                switch (b) {
                    case a.LEFT:
                        return ~l.activeMatchIndex ? k : g;
                    case a.RIGHT:
                        return ~l.activeMatchIndex && h !== g ? i : (l.activate(), !1);
                    case a.BACKSPACE:
                        return ~l.activeMatchIndex ? (l.removeChoice(h), k) : g;
                    case a.DELETE:
                        return ~l.activeMatchIndex ? (l.removeChoice(l.activeMatchIndex), h) : !1
                }
            }

            var d = j(n[0]), e = l.selected.length, f = 0, g = e - 1, h = l.activeMatchIndex, i = l.activeMatchIndex + 1, k = l.activeMatchIndex - 1, m = h;
            return d > 0 || l.search.length && b == a.RIGHT ? !1 : (l.close(), m = c(), l.activeMatchIndex = l.selected.length && m !== !1 ? Math.min(g, Math.max(f, m)) : -1, !0)
        }

        function j(a) {
            return angular.isNumber(a.selectionStart) ? a.selectionStart : a.value.length
        }

        function k() {
            var a = c.querySelectorAll(".ui-select-choices-content"), b = a.querySelectorAll(".ui-select-choices-row");
            if (b.length < 1)throw f("choices", "Expected multiple .ui-select-choices-row but got '{0}'.", b.length);
            var d = b[l.activeIndex], e = d.offsetTop + d.clientHeight - a[0].scrollTop, g = a[0].offsetHeight;
            e > g ? a[0].scrollTop += e - g : e < d.clientHeight && (l.isGrouped && 0 === l.activeIndex ? a[0].scrollTop = 0 : a[0].scrollTop -= d.clientHeight - e)
        }

        var l = this, m = "";
        l.placeholder = void 0, l.search = m, l.activeIndex = 0, l.activeMatchIndex = -1, l.items = [], l.selected = void 0, l.open = !1, l.focus = !1, l.focusser = void 0, l.disabled = void 0, l.searchEnabled = void 0, l.resetSearchInput = void 0, l.refreshDelay = void 0, l.multiple = !1, l.disableChoiceExpression = void 0, l.isEmpty = function () {
            return angular.isUndefined(l.selected) || null === l.selected || "" === l.selected
        };
        var n = c.querySelectorAll("input.ui-select-search");
        if (1 !== n.length)throw f("searchInput", "Expected 1 input.ui-select-search but got '{0}'.", n.length);
        l.activate = function (a, b) {
            l.disabled || l.open || (b || g(), l.focusser.prop("disabled", !0), l.open = !0, l.activeMatchIndex = -1, l.activeIndex = l.activeIndex >= l.items.length ? 0 : l.activeIndex, d(function () {
                l.search = a || l.search, n[0].focus()
            }))
        }, l.findGroupByName = function (a) {
            return l.groups && l.groups.filter(function (b) {
                    return b.name === a
                })[0]
        }, l.parseRepeatAttr = function (a, c) {
            function d(a) {
                l.groups = [], angular.forEach(a, function (a) {
                    var d = b.$eval(c), e = angular.isFunction(d) ? d(a) : a[d], f = l.findGroupByName(e);
                    f ? f.items.push(a) : l.groups.push({name: e, items: [a]})
                }), l.items = [], l.groups.forEach(function (a) {
                    l.items = l.items.concat(a.items)
                })
            }

            function g(a) {
                l.items = a
            }

            var h = c ? d : g;
            l.parserResult = e.parse(a), l.isGrouped = !!c, l.itemProperty = l.parserResult.itemName, b.$watchCollection(l.parserResult.source, function (a) {
                if (void 0 === a || null === a)l.items = []; else {
                    if (!angular.isArray(a))throw f("items", "Expected an array but got '{0}'.", a);
                    if (l.multiple) {
                        var b = a.filter(function (a) {
                            return l.selected.indexOf(a) < 0
                        });
                        h(b)
                    } else h(a);
                    l.ngModel.$modelValue = null
                }
            }), l.multiple && b.$watchCollection("$select.selected", function (a) {
                var c = l.parserResult.source(b);
                if (a.length) {
                    var d = c.filter(function (b) {
                        return a.indexOf(b) < 0
                    });
                    h(d)
                } else h(c);
                l.sizeSearchInput()
            })
        };
        var o;
        l.refresh = function (a) {
            void 0 !== a && (o && d.cancel(o), o = d(function () {
                b.$eval(a)
            }, l.refreshDelay))
        }, l.setActiveItem = function (a) {
            l.activeIndex = l.items.indexOf(a)
        }, l.isActive = function (a) {
            return l.open && l.items.indexOf(a[l.itemProperty]) === l.activeIndex
        }, l.isDisabled = function (a) {
            if (l.open) {
                var b, c = l.items.indexOf(a[l.itemProperty]), d = !1;
                return c >= 0 && !angular.isUndefined(l.disableChoiceExpression) && (b = l.items[c], d = !!a.$eval(l.disableChoiceExpression), b._uiSelectChoiceDisabled = d), d
            }
        }, l.select = function (a, c) {
            if (void 0 === a || !a._uiSelectChoiceDisabled) {
                var d = {};
                d[l.parserResult.itemName] = a, l.onSelectCallback(b, {
                    $item: a,
                    $model: l.parserResult.modelMapper(b, d)
                }), l.multiple ? (l.selected.push(a), l.sizeSearchInput()) : l.selected = a, l.close(c)
            }
        }, l.close = function (a) {
            l.open && (g(), l.open = !1, l.multiple || d(function () {
                l.focusser.prop("disabled", !1), a || l.focusser[0].focus()
            }, 0, !1))
        }, l.toggle = function (a) {
            l.open ? l.close() : l.activate(), a.preventDefault(), a.stopPropagation()
        }, l.removeChoice = function (a) {
            var c = l.selected[a], d = {};
            d[l.parserResult.itemName] = c, l.selected.splice(a, 1), l.activeMatchIndex = -1, l.sizeSearchInput(), l.onRemoveCallback(b, {
                $item: c,
                $model: l.parserResult.modelMapper(b, d)
            })
        }, l.getPlaceholder = function () {
            return l.multiple && l.selected.length ? void 0 : l.placeholder
        };
        var p;
        l.sizeSearchInput = function () {
            var a = n[0], c = n.parent().parent()[0];
            n.css("width", "10px");
            var e = function () {
                var b = c.clientWidth - a.offsetLeft - 10;
                50 > b && (b = c.clientWidth), n.css("width", b + "px")
            };
            d(function () {
                0 !== c.clientWidth || p ? p || e() : p = b.$watch(function () {
                    return c.clientWidth
                }, function (a) {
                    0 !== a && (e(), p(), p = null)
                })
            }, 0, !1)
        }, n.on("keydown", function (c) {
            var d = c.which;
            b.$apply(function () {
                var b = !1;
                l.multiple && a.isHorizontalMovement(d) && (b = i(d)), !b && l.items.length > 0 && (b = h(d)), b && d != a.TAB && (c.preventDefault(), c.stopPropagation())
            }), a.isVerticalMovement(d) && l.items.length > 0 && k()
        }), n.on("blur", function () {
            d(function () {
                l.activeMatchIndex = -1
            })
        }), b.$on("$destroy", function () {
            n.off("keydown blur")
        })
    }]).directive("uiSelect", ["$document", "uiSelectConfig", "uiSelectMinErr", "$compile", "$parse", function (b, c, d, e, f) {
        return {
            restrict: "EA",
            templateUrl: function (a, b) {
                var d = b.theme || c.theme;
                return d + (angular.isDefined(b.multiple) ? "/select-multiple.tpl.html" : "/select.tpl.html")
            },
            replace: !0,
            transclude: !0,
            require: ["uiSelect", "ngModel"],
            scope: !0,
            controller: "uiSelectCtrl",
            controllerAs: "$select",
            link: function (c, g, h, i, j) {
                function k(a) {
                    var b = !1;
                    b = window.jQuery ? window.jQuery.contains(g[0], a.target) : g[0].contains(a.target), b || (l.close(), c.$digest())
                }

                var l = i[0], m = i[1], n = g.querySelectorAll("input.ui-select-search");
                l.multiple = angular.isDefined(h.multiple) ? "" === h.multiple ? !0 : "true" === h.multiple.toLowerCase() : !1, l.onSelectCallback = f(h.onSelect), l.onRemoveCallback = f(h.onRemove), m.$parsers.unshift(function (a) {
                    var b, d = {};
                    if (l.multiple) {
                        for (var e = [], f = l.selected.length - 1; f >= 0; f--)d = {}, d[l.parserResult.itemName] = l.selected[f], b = l.parserResult.modelMapper(c, d), e.unshift(b);
                        return e
                    }
                    return d = {}, d[l.parserResult.itemName] = a, b = l.parserResult.modelMapper(c, d)
                }), m.$formatters.unshift(function (a) {
                    var b, d = l.parserResult.source(c, {$select: {search: ""}}), e = {};
                    if (d) {
                        if (l.multiple) {
                            var f = [], g = function (a, d) {
                                if (a && a.length) {
                                    for (var g = a.length - 1; g >= 0; g--)if (e[l.parserResult.itemName] = a[g], b = l.parserResult.modelMapper(c, e), b == d)return f.unshift(a[g]), !0;
                                    return !1
                                }
                            };
                            if (!a)return f;
                            for (var h = a.length - 1; h >= 0; h--)g(l.selected, a[h]) || g(d, a[h]);
                            return f
                        }
                        var i = function (d) {
                            return e[l.parserResult.itemName] = d, b = l.parserResult.modelMapper(c, e), b == a
                        };
                        if (l.selected && i(l.selected))return l.selected;
                        for (var j = d.length - 1; j >= 0; j--)if (i(d[j]))return d[j]
                    }
                    return a
                }), l.ngModel = m;
                var o = angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' aria-haspopup='true' role='button' />");
                h.tabindex && h.$observe("tabindex", function (a) {
                    l.multiple ? n.attr("tabindex", a) : o.attr("tabindex", a), g.removeAttr("tabindex")
                }), e(o)(c), l.focusser = o, l.multiple || (g.append(o), o.bind("focus", function () {
                    c.$evalAsync(function () {
                        l.focus = !0
                    })
                }), o.bind("blur", function () {
                    c.$evalAsync(function () {
                        l.focus = !1
                    })
                }), o.bind("keydown", function (b) {
                    return b.which === a.BACKSPACE ? (b.preventDefault(), b.stopPropagation(), l.select(void 0), void c.$apply()) : void(b.which === a.TAB || a.isControl(b) || a.isFunctionKey(b) || b.which === a.ESC || ((b.which == a.DOWN || b.which == a.UP || b.which == a.ENTER || b.which == a.SPACE) && (b.preventDefault(), b.stopPropagation(), l.activate()), c.$digest()))
                }), o.bind("keyup input", function (b) {
                    b.which === a.TAB || a.isControl(b) || a.isFunctionKey(b) || b.which === a.ESC || b.which == a.ENTER || b.which === a.BACKSPACE || (l.activate(o.val()), o.val(""), c.$digest())
                })), c.$watch("searchEnabled", function () {
                    var a = c.$eval(h.searchEnabled);
                    l.searchEnabled = void 0 !== a ? a : !0
                }), h.$observe("disabled", function () {
                    l.disabled = void 0 !== h.disabled ? h.disabled : !1
                }), h.$observe("resetSearchInput", function () {
                    var a = c.$eval(h.resetSearchInput);
                    l.resetSearchInput = void 0 !== a ? a : !0
                }), l.multiple ? (c.$watchCollection(function () {
                    return m.$modelValue
                }, function (a, b) {
                    b != a && (m.$modelValue = null)
                }), c.$watchCollection("$select.selected", function () {
                    m.$setViewValue(Date.now())
                }), o.prop("disabled", !0)) : c.$watch("$select.selected", function (a) {
                    m.$viewValue !== a && m.$setViewValue(a)
                }), m.$render = function () {
                    if (l.multiple && !angular.isArray(m.$viewValue)) {
                        if (!angular.isUndefined(m.$viewValue) && null !== m.$viewValue)throw d("multiarr", "Expected model value to be array but got '{0}'", m.$viewValue);
                        l.selected = []
                    }
                    l.selected = m.$viewValue
                }, b.on("click", k), c.$on("$destroy", function () {
                    b.off("click", k)
                }), j(c, function (a) {
                    var b = angular.element("<div>").append(a), c = b.querySelectorAll(".ui-select-match");
                    if (c.removeAttr("ui-select-match"), 1 !== c.length)throw d("transcluded", "Expected 1 .ui-select-match but got '{0}'.", c.length);
                    g.querySelectorAll(".ui-select-match").replaceWith(c);
                    var e = b.querySelectorAll(".ui-select-choices");
                    if (e.removeAttr("ui-select-choices"), 1 !== e.length)throw d("transcluded", "Expected 1 .ui-select-choices but got '{0}'.", e.length);
                    g.querySelectorAll(".ui-select-choices").replaceWith(e)
                })
            }
        }
    }]).directive("uiSelectChoices", ["uiSelectConfig", "RepeatParser", "uiSelectMinErr", "$compile", function (a, b, c, d) {
        return {
            restrict: "EA", require: "^uiSelect", replace: !0, transclude: !0, templateUrl: function (b) {
                var c = b.parent().attr("theme") || a.theme;
                return c + "/choices.tpl.html"
            }, compile: function (e, f) {
                if (!f.repeat)throw c("repeat", "Expected 'repeat' expression.");
                return function (e, f, g, h, i) {
                    var j = g.groupBy;
                    if (h.parseRepeatAttr(g.repeat, j), h.disableChoiceExpression = g.uiDisableChoice, j) {
                        var k = f.querySelectorAll(".ui-select-choices-group");
                        if (1 !== k.length)throw c("rows", "Expected 1 .ui-select-choices-group but got '{0}'.", k.length);
                        k.attr("ng-repeat", b.getGroupNgRepeatExpression())
                    }
                    var l = f.querySelectorAll(".ui-select-choices-row");
                    if (1 !== l.length)throw c("rows", "Expected 1 .ui-select-choices-row but got '{0}'.", l.length);
                    l.attr("ng-repeat", b.getNgRepeatExpression(h.parserResult.itemName, "$select.items", h.parserResult.trackByExp, j)).attr("ng-mouseenter", "$select.setActiveItem(" + h.parserResult.itemName + ")").attr("ng-click", "$select.select(" + h.parserResult.itemName + ")");
                    var m = f.querySelectorAll(".ui-select-choices-row-inner");
                    if (1 !== m.length)throw c("rows", "Expected 1 .ui-select-choices-row-inner but got '{0}'.", m.length);
                    m.attr("uis-transclude-append", ""), d(f, i)(e), e.$watch("$select.search", function (a) {
                        a && !h.open && h.multiple && h.activate(!1, !0), h.activeIndex = 0, h.refresh(g.refresh)
                    }), g.$observe("refreshDelay", function () {
                        var b = e.$eval(g.refreshDelay);
                        h.refreshDelay = void 0 !== b ? b : a.refreshDelay
                    })
                }
            }
        }
    }]).directive("uisTranscludeAppend", function () {
        return {
            link: function (a, b, c, d, e) {
                e(a, function (a) {
                    b.append(a)
                })
            }
        }
    }).directive("uiSelectMatch", ["uiSelectConfig", function (a) {
        return {
            restrict: "EA", require: "^uiSelect", replace: !0, transclude: !0, templateUrl: function (b) {
                var c = b.parent().attr("theme") || a.theme, d = b.parent().attr("multiple");
                return c + (d ? "/match-multiple.tpl.html" : "/match.tpl.html")
            }, link: function (b, c, d, e) {
                d.$observe("placeholder", function (b) {
                    e.placeholder = void 0 !== b ? b : a.placeholder
                }), e.multiple && e.sizeSearchInput()
            }
        }
    }]).filter("highlight", function () {
        function a(a) {
            return a.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1")
        }

        return function (b, c) {
            return c && b ? b.replace(new RegExp(a(c), "gi"), '<span class="ui-select-highlight">$&</span>') : b
        }
    })
}(),angular.module("ui.select").run(["$templateCache", function (a) {
    a.put("bootstrap/choices.tpl.html", '<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="menu" aria-labelledby="dLabel" ng-show="$select.items.length > 0"><li class="ui-select-choices-group"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header">{{$group.name}}</div><div class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'), a.put("bootstrap/match-multiple.tpl.html", '<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span style="margin-right: 3px;" class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$select.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$select.activeMatchIndex === $index}"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$select.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'), a.put("bootstrap/match.tpl.html", '<button type="button" class="btn btn-default form-control ui-select-match" tabindex="-1" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}" ;="" ng-click="$select.activate()"><span ng-show="$select.searchEnabled && $select.isEmpty()" class="text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" ng-transclude=""></span> <span class="caret ui-select-toggle" ng-click="$select.toggle($event)"></span></button>'), a.put("bootstrap/select-multiple.tpl.html", '<div class="ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$select.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search"></div><div class="ui-select-choices"></div></div>'), a.put("bootstrap/select.tpl.html", '<div class="ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'), a.put("select2/choices.tpl.html", '<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.isGrouped}"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label select2-result-label">{{$group.name}}</div><ul ng-class="{\'select2-result-sub\': $select.isGrouped, \'select2-result-single\': !$select.isGrouped}"><li class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'), a.put("select2/match-multiple.tpl.html", '<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$select.activeMatchIndex === $index}"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$select.removeChoice($index)" tabindex="-1"></a></li></span>'), a.put("select2/match.tpl.html", '<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.activate()"><span ng-show="$select.searchEnabled && $select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <span class="select2-arrow ui-select-toggle" ng-click="$select.toggle($event)"><b></b></span></a>'), a.put("select2/select-multiple.tpl.html", '<div class="ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open\': $select.open,\n                \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="select2-input ui-select-search" placeholder="{{$select.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'), a.put("select2/select.tpl.html", '<div class="select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open\': $select.open,\n                \'select2-container-disabled\': $select.disabled,\n                \'select2-container-active\': $select.focus }"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'), a.put("selectize/choices.tpl.html", '<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header">{{$group.name}}</div><div class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'), a.put("selectize/match.tpl.html", '<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'), a.put("selectize/select.tpl.html", '<div class="selectize-control single"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled"></div><div class="ui-select-choices"></div></div>')
}]),angular.module("com.2fdevs.videogular", ["ngSanitize"]).constant("VG_STATES", {
    PLAY: "play",
    PAUSE: "pause",
    STOP: "stop"
}).service("VG_UTILS", function () {
    this.fixEventOffset = function (a) {
        if (navigator.userAgent.match(/Firefox/i)) {
            var b = a.currentTarget.currentStyle || window.getComputedStyle(a.target, null), c = parseInt(b.borderLeftWidth, 10), d = parseInt(b.borderTopWidth, 10), e = a.currentTarget.getBoundingClientRect(), f = a.clientX - c - e.left, g = a.clientY - d - e.top;
            a.offsetX = f, a.offsetY = g
        }
        return a
    }, this.getZIndex = function () {
        var a = 1;
        return angular.element("*").filter(function () {
            return "auto" !== angular.element(this).css("zIndex")
        }).each(function () {
            var b = parseInt(angular.element(this).css("zIndex"));
            b > a && (a = b + 1)
        }), a
    }, this.toUTCDate = function (a) {
        return new Date(a.getUTCFullYear(), a.getUTCMonth(), a.getUTCDate(), a.getUTCHours(), a.getUTCMinutes(), a.getUTCSeconds(), a.getUTCMilliseconds())
    }, this.secondsToDate = function (a) {
        isNaN(a) && (a = 0);
        var b = new Date;
        return b.setTime(1e3 * a), b = this.toUTCDate(b)
    }, this.isMobileDevice = function () {
        return "undefined" != typeof window.orientation || -1 !== navigator.userAgent.indexOf("IEMobile")
    }, this.isiOSDevice = function () {
        return navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/iPad/i)
    }
}).run(["$window", "VG_UTILS", function (a, b) {
    var c, d = {
        w3: {
            enabled: "fullscreenEnabled",
            element: "fullscreenElement",
            request: "requestFullscreen",
            exit: "exitFullscreen",
            onchange: "fullscreenchange",
            onerror: "fullscreenerror"
        },
        newWebkit: {
            enabled: "webkitFullscreenEnabled",
            element: "webkitFullscreenElement",
            request: "webkitRequestFullscreen",
            exit: "webkitExitFullscreen",
            onchange: "webkitfullscreenchange",
            onerror: "webkitfullscreenerror"
        },
        oldWebkit: {
            enabled: "webkitIsFullScreen",
            element: "webkitCurrentFullScreenElement",
            request: "webkitRequestFullScreen",
            exit: "webkitCancelFullScreen",
            onchange: "webkitfullscreenchange",
            onerror: "webkitfullscreenerror"
        },
        moz: {
            enabled: "mozFullScreen",
            element: "mozFullScreenElement",
            request: "mozRequestFullScreen",
            exit: "mozCancelFullScreen",
            onchange: "mozfullscreenchange",
            onerror: "mozfullscreenerror"
        },
        ios: {
            enabled: "webkitFullscreenEnabled",
            element: "webkitFullscreenElement",
            request: "webkitEnterFullscreen",
            exit: "webkitExitFullscreen",
            onchange: "webkitfullscreenchange",
            onerror: "webkitfullscreenerror"
        },
        ms: {
            enabled: "msFullscreenEnabled",
            element: "msFullscreenElement",
            request: "msRequestFullscreen",
            exit: "msExitFullscreen",
            onchange: "msfullscreenchange",
            onerror: "msfullscreenerror"
        }
    };
    for (var e in d)if (d[e].enabled in document) {
        c = d[e], c.isFullScreen = function () {
            return null != document[this.element]
        };
        break
    }
    b.isiOSDevice() && (c = d.ios, c.isFullScreen = function () {
        return null != document[this.element]
    }), angular.element(a)[0].fullScreenAPI = c
}]).directive("videogular", ["$window", "VG_STATES", "VG_UTILS", function (a, b, c) {
    return {
        restrict: "E",
        scope: {
            theme: "=vgTheme",
            autoPlay: "=vgAutoplay",
            vgComplete: "&",
            vgUpdateVolume: "&",
            vgUpdateTime: "&",
            vgUpdateState: "&",
            vgPlayerReady: "&",
            vgChangeSource: "&",
            vgError: "&"
        },
        controller: ["$scope", "$timeout", function (d) {
            var e = null, f = !1, g = !1, h = d.vgComplete(), i = d.vgUpdateVolume(), j = d.vgUpdateTime(), k = d.vgUpdateState(), l = d.vgPlayerReady(), m = d.vgChangeSource(), n = d.vgError();
            this.videogularElement = null, this.clearMedia = function () {
                d.API.mediaElement[0].src = ""
            }, this.onCanPlay = function () {
                d.API.isBuffering = !1, d.$apply()
            }, this.onVideoReady = function () {
                d.API.isReady = !0, d.API.autoPlay = d.autoPlay, d.API.currentState = b.STOP, g = !0, d.vgPlayerReady() && (l = d.vgPlayerReady())(d.API)
            }, this.onLoadMetaData = function (a) {
                d.API.isBuffering = !1, d.API.onUpdateTime(a)
            }, this.onUpdateTime = function (a) {
                d.API.currentTime = c.secondsToDate(a.target.currentTime), 1 / 0 != a.target.duration ? (d.API.totalTime = c.secondsToDate(a.target.duration), d.API.timeLeft = c.secondsToDate(a.target.duration - a.target.currentTime), d.API.isLive = !1) : d.API.isLive = !0, d.vgUpdateTime() && (j = d.vgUpdateTime())(a.target.currentTime, a.target.duration), d.$apply()
            }, this.onPlay = function () {
                d.API.setState(b.PLAY), d.$apply()
            }, this.onPause = function () {
                d.API.setState(b.PAUSE), d.$apply()
            }, this.onVolumeChange = function () {
                d.API.volume = d.API.mediaElement[0].volume, d.$apply()
            }, this.seekTime = function (a, b) {
                var e;
                b ? (e = a * d.API.mediaElement[0].duration / 100, d.API.mediaElement[0].currentTime = e) : (e = a, d.API.mediaElement[0].currentTime = e), d.API.currentTime = c.secondsToDate(e)
            }, this.playPause = function () {
                d.API.mediaElement[0].paused ? this.play() : this.pause()
            }, this.setState = function (a) {
                return a && a != d.API.currentState && (d.vgUpdateState() && (k = d.vgUpdateState())(a), d.API.currentState = a), d.API.currentState
            }, this.play = function () {
                d.API.mediaElement[0].play(), this.setState(b.PLAY)
            }, this.pause = function () {
                d.API.mediaElement[0].pause(), this.setState(b.PAUSE)
            }, this.stop = function () {
                d.API.mediaElement[0].pause(), d.API.mediaElement[0].currentTime = 0, this.setState(b.STOP)
            }, this.toggleFullScreen = function () {
                angular.element(a)[0].fullScreenAPI ? angular.element(a)[0].fullScreenAPI.isFullScreen() ? c.isMobileDevice() || document[angular.element(a)[0].fullScreenAPI.exit]() : c.isMobileDevice() ? c.isiOSDevice() ? g ? this.enterElementInFullScreen(d.API.mediaElement[0]) : (f = !0, this.play()) : this.enterElementInFullScreen(d.API.mediaElement[0]) : this.enterElementInFullScreen(d.API.videogularElement[0]) : (d.API.isFullScreen ? (d.API.videogularElement.removeClass("fullscreen"), d.API.videogularElement.css("z-index", 0)) : (d.API.videogularElement.addClass("fullscreen"), d.API.videogularElement.css("z-index", c.getZIndex())), d.API.isFullScreen = !d.API.isFullScreen)
            }, this.enterElementInFullScreen = function (b) {
                b[angular.element(a)[0].fullScreenAPI.request]()
            }, this.changeSource = function (a) {
                d.vgChangeSource() && (m = d.vgChangeSource())(a)
            }, this.setVolume = function (a) {
                d.vgUpdateVolume() && (i = d.vgUpdateVolume())(a), d.API.mediaElement[0].volume = a, d.API.volume = a
            }, this.updateTheme = function (a) {
                if (e)for (var b = document.getElementsByTagName("link"), c = 0, d = b.length; d > c; c++)b[c].outerHTML.indexOf(e) >= 0 && b[c].parentNode.removeChild(b[c]);
                if (a) {
                    var f = angular.element(document).find("head");
                    f.append("<link rel='stylesheet' href='" + a + "'>"), e = a
                }
            }, this.onStartBuffering = function () {
                d.API.isBuffering = !0, d.$apply()
            }, this.onStartPlaying = function () {
                d.API.isBuffering = !1, d.$apply()
            }, this.onComplete = function () {
                d.vgComplete() && (h = d.vgComplete())(), d.API.setState(b.STOP), d.API.isCompleted = !0, d.$apply()
            }, this.onVideoError = function (a) {
                d.vgError() && (n = d.vgError())(a)
            }, this.addListeners = function () {
                d.API.mediaElement[0].addEventListener("canplay", d.API.onCanPlay, !1), d.API.mediaElement[0].addEventListener("loadedmetadata", d.API.onLoadMetaData, !1), d.API.mediaElement[0].addEventListener("waiting", d.API.onStartBuffering, !1), d.API.mediaElement[0].addEventListener("ended", d.API.onComplete, !1), d.API.mediaElement[0].addEventListener("playing", d.API.onStartPlaying, !1), d.API.mediaElement[0].addEventListener("play", d.API.onPlay, !1), d.API.mediaElement[0].addEventListener("pause", d.API.onPause, !1), d.API.mediaElement[0].addEventListener("volumechange", d.API.onVolumeChange, !1), d.API.mediaElement[0].addEventListener("timeupdate", d.API.onUpdateTime, !1), d.API.mediaElement[0].addEventListener("error", d.API.onVideoError, !1)
            }, d.API = this, d.init = function () {
                d.API.isReady = !1, d.API.isCompleted = !1, d.API.currentTime = c.secondsToDate(0), d.API.totalTime = c.secondsToDate(0), d.API.timeLeft = c.secondsToDate(0), d.API.isLive = !1, d.API.updateTheme(d.theme), d.addBindings(), angular.element(a)[0].fullScreenAPI && document.addEventListener(angular.element(a)[0].fullScreenAPI.onchange, d.onFullScreenChange)
            }, d.addBindings = function () {
                d.$watch("theme", function (a, b) {
                    a != b && d.API.updateTheme(a)
                }), d.$watch("autoPlay", function (a, b) {
                    a != b && a && d.API.play()
                })
            }, d.onFullScreenChange = function () {
                d.API.isFullScreen = angular.element(a)[0].fullScreenAPI.isFullScreen(), d.$apply()
            }, d.$on("$destroy", this.clearMedia), d.$on("$routeChangeStart", this.clearMedia), d.init()
        }],
        link: {
            pre: function (a, b, c, d) {
                d.videogularElement = angular.element(b)
            }
        }
    }
}]).directive("vgVideo", ["$compile", "$timeout", "VG_UTILS", "VG_STATES", function (a, b, c, d) {
    return {
        restrict: "E",
        require: "^videogular",
        scope: {vgSrc: "=", vgLoop: "=", vgPreload: "=", vgNativeControls: "=", vgTracks: "="},
        link: function (e, f, g, h) {
            function i() {
                if (k = "", h.mediaElement[0].canPlayType) {
                    for (var a = 0, e = j.length; e > a; a++)if (k = h.mediaElement[0].canPlayType(j[a].type), "maybe" == k || "probably" == k) {
                        h.mediaElement.attr("src", j[a].src), h.mediaElement.attr("type", j[a].type);
                        break
                    }
                } else h.mediaElement.attr("src", j[0].src), h.mediaElement.attr("type", j[0].type);
                b(function () {
                    (h.autoPlay && !c.isMobileDevice() || h.currentState === d.PLAY) && h.play()
                }), "" == k && h.onVideoError()
            }

            var j, k;
            e.$watch("vgSrc", function (a, b) {
                j && a == b || !a || (j = a, h.sources = j, i())
            }), h.sources = e.vgSrc, h.mediaElement = angular.element('<video vg-source="vgSrc"></video>');
            var l = a(h.mediaElement)(e);
            h.addListeners(), f.append(l), h.onVideoReady()
        }
    }
}]).directive("vgAudio", ["$compile", "$timeout", "VG_UTILS", "VG_STATES", function (a, b, c, d) {
    return {
        restrict: "E",
        require: "^videogular",
        scope: {vgSrc: "=", vgLoop: "=", vgPreload: "=", vgNativeControls: "=", vgTracks: "="},
        link: function (e, f, g, h) {
            function i() {
                if (k = "", h.mediaElement[0].canPlayType) {
                    for (var a = 0, e = j.length; e > a; a++)if (k = h.mediaElement[0].canPlayType(j[a].type), "maybe" == k || "probably" == k) {
                        h.mediaElement.attr("src", j[a].src), h.mediaElement.attr("type", j[a].type);
                        break
                    }
                } else h.mediaElement.attr("src", j[0].src), h.mediaElement.attr("type", j[0].type);
                b(function () {
                    (h.autoPlay && !c.isMobileDevice() || h.currentState === d.PLAY) && h.play()
                })
            }

            var j, k;
            e.$watch("vgSrc", function (a, b) {
                j && a == b || !a || (j = a, h.sources = j, i())
            }), h.sources = e.vgSrc, h.mediaElement = angular.element('<audio vg-source="vgSrc"></audio>');
            var l = a(h.mediaElement)(e);
            h.addListeners(), f.append(l), h.onVideoReady()
        }
    }
}]).directive("vgTracks", [function () {
    return {
        restrict: "A", require: "^videogular", link: {
            pre: function (a, b, c, d) {
                function e() {
                    var a, b, c = d.mediaElement.children();
                    for (a = 0, b = c.length; b > a; a++)c[a].remove();
                    if (f)for (a = 0, b = f.length; b > a; a++) {
                        g = "", g += "<track ";
                        for (var e in f[a])g += e + '="' + f[a][e] + '" ';
                        g += "></track>", d.mediaElement.append(g)
                    }
                }

                var f, g;
                a.$watch(c.vgTracks, function (a, b) {
                    f && a == b || (f = a, d.tracks = f, e())
                })
            }
        }
    }
}]).directive("vgLoop", [function () {
    return {
        restrict: "A", require: "^videogular", link: {
            pre: function (a, b, c, d) {
                var e;
                a.$watch(c.vgLoop, function (a, b) {
                    e && a == b || !a ? d.mediaElement.removeAttr("loop") : (e = a, d.mediaElement.attr("loop", e))
                })
            }
        }
    }
}]).directive("vgPreload", [function () {
    return {
        restrict: "A", require: "^videogular", link: {
            pre: function (a, b, c, d) {
                var e;
                a.$watch(c.vgPreload, function (a, b) {
                    e && a == b || !a ? d.mediaElement.removeAttr("preload") : (e = a, d.mediaElement.attr("preload", e))
                })
            }
        }
    }
}]).directive("vgNativeControls", [function () {
    return {
        restrict: "A", require: "^videogular", link: {
            pre: function (a, b, c, d) {
                var e;
                a.$watch(c.vgNativeControls, function (a, b) {
                    e && a == b || !a ? d.mediaElement.removeAttr("controls") : (e = a, d.mediaElement.attr("controls", ""))
                })
            }
        }
    }
}]),angular.module("com.2fdevs.videogular.plugins.controls", []).directive("vgControls", ["$timeout", function (a) {
    return {
        restrict: "E",
        require: "^videogular",
        transclude: !0,
        template: '<div id="controls-container" ng-mousemove="onMouseMove()" ng-class="animationClass" ng-transclude></div>',
        scope: {autoHide: "=vgAutohide", autoHideTime: "=vgAutohideTime"},
        link: function (b) {
            function c() {
                b.animationClass = "hide-animation"
            }

            function d() {
                b.animationClass = "show-animation", a.cancel(e), b.autoHide && (e = a(c, f))
            }

            var e, f = 2e3;
            b.onMouseMove = function () {
                b.autoHide && d()
            }, void 0 != b.autoHide && b.$watch("autoHide", function (c) {
                c ? b.animationClass = "hide-animation" : (b.animationClass = "", a.cancel(e), d())
            }), void 0 != b.autoHideTime && b.$watch("autoHideTime", function (a) {
                f = a
            })
        }
    }
}]).directive("vgPlayPauseButton", ["VG_STATES", function (a) {
    return {
        restrict: "E",
        require: "^videogular",
        template: "<button class='iconButton' ng-click='onClickPlayPause()' ng-class='playPauseIcon' aria-label='Play/Pause' type='button'></button>",
        link: function (b, c, d, e) {
            function f(c) {
                switch (c) {
                    case a.PLAY:
                        b.playPauseIcon = {pause: !0};
                        break;
                    case a.PAUSE:
                        b.playPauseIcon = {play: !0};
                        break;
                    case a.STOP:
                        b.playPauseIcon = {play: !0}
                }
            }

            b.onClickPlayPause = function () {
                e.playPause()
            }, b.playPauseIcon = {play: !0}, b.$watch(function () {
                return e.currentState
            }, function (a, b) {
                a != b && f(a)
            })
        }
    }
}]).directive("vgTimedisplay", [function () {
    return {
        require: "^videogular", restrict: "E", link: function (a, b, c, d) {
            a.currentTime = d.currentTime, a.timeLeft = d.timeLeft, a.totalTime = d.totalTime, a.isLive = d.isLive, a.$watch(function () {
                return d.currentTime
            }, function (b, c) {
                b != c && (a.currentTime = b)
            }), a.$watch(function () {
                return d.timeLeft
            }, function (b, c) {
                b != c && (a.timeLeft = b)
            }), a.$watch(function () {
                return d.totalTime
            }, function (b, c) {
                b != c && (a.totalTime = b)
            }), a.$watch(function () {
                return d.isLive
            }, function (b, c) {
                b != c && (a.isLive = b)
            })
        }
    }
}]).directive("vgScrubbar", ["VG_STATES", "VG_UTILS", function (a, b) {
    return {
        restrict: "E",
        require: "^videogular",
        transclude: !0,
        template: '<div role="slider" aria-valuemax="{{ariaTime(API.totalTime)}}" aria-valuenow="{{ariaTime(API.currentTime)}}" aria-valuemin="0" aria-label="Time scrub bar" tabindex="0" ng-transclude ng-keydown="onScrubBarKeyDown($event)"></div>',
        link: function (c, d, e, f) {
            function g(a) {
                var e, g = a.originalEvent || a, h = g.touches;
                t = b.isiOSDevice() ? -1 * (h[0].clientX - g.layerX) : g.layerX, e = h[0].clientX + t - h[0].target.offsetLeft, q = !0, r && (s = !0), f.pause(), o(e * f.mediaElement[0].duration / d[0].scrollWidth), c.$apply()
            }

            function h(a) {
                a.originalEvent || a, s && (s = !1, f.play()), q = !1, c.$apply()
            }

            function i(a) {
                var b, e = a.originalEvent || a, g = e.touches;
                q && (b = g[0].clientX + t - g[0].target.offsetLeft, o(b * f.mediaElement[0].duration / d[0].scrollWidth)), c.$apply()
            }

            function j() {
                q = !1, c.$apply()
            }

            function k(a) {
                a = b.fixEventOffset(a), q = !0, r && (s = !0), f.pause(), o(a.offsetX * f.mediaElement[0].duration / d[0].scrollWidth), c.$apply()
            }

            function l(a) {
                a = b.fixEventOffset(a), s && (s = !1, f.play()), q = !1, o(a.offsetX * f.mediaElement[0].duration / d[0].scrollWidth), c.$apply()
            }

            function m(a) {
                q && (a = b.fixEventOffset(a), o(a.offsetX * f.mediaElement[0].duration / d[0].scrollWidth)), c.$apply()
            }

            function n() {
                q = !1, c.$apply()
            }

            function o(a) {
                f.seekTime(a, !1)
            }

            function p(b) {
                if (!q)switch (b) {
                    case a.PLAY:
                        r = !0;
                        break;
                    case a.PAUSE:
                        r = !1;
                        break;
                    case a.STOP:
                        r = !1
                }
            }

            var q = !1, r = !1, s = !1, t = 0, u = 37, v = 39, w = 5;
            c.API = f, c.ariaTime = function (a) {
                return 0 === a ? "0" : Math.round(a.getTime() / 1e3)
            }, c.onScrubBarKeyDown = function (a) {
                var b = f.currentTime.getTime() - 6e4 * f.totalTime.getTimezoneOffset(), c = f.totalTime.getTime() - 6e4 * f.totalTime.getTimezoneOffset(), d = b / c * 100;
                a.which === u || a.keyCode === u ? (f.seekTime(d - w, !0), a.preventDefault()) : (a.which === v || a.keyCode === v) && (f.seekTime(d + w, !0), a.preventDefault())
            }, c.$watch(function () {
                return f.currentState
            }, function (a, b) {
                a != b && p(a)
            }), b.isMobileDevice() ? (d.bind("touchstart", g), d.bind("touchend", h), d.bind("touchmove", i), d.bind("touchleave", j)) : (d.bind("mousedown", k), d.bind("mouseup", l), d.bind("mousemove", m), d.bind("mouseleave", n))
        }
    }
}]).directive("vgScrubbarcurrenttime", [function () {
    return {
        restrict: "E", require: "^videogular", link: function (a, b, c, d) {
            function e(a) {
                if (a && d.totalTime) {
                    var c = a.getTime() - 6e4 * d.totalTime.getTimezoneOffset(), e = d.totalTime.getTime() - 6e4 * d.totalTime.getTimezoneOffset();
                    g = -1 * c / 1e3 * 100 / (-1 * e / 1e3), b.css("width", g + "%")
                }
            }

            function f() {
                g = 0, b.css("width", g + "%")
            }

            var g = 0;
            a.$watch(function () {
                return d.currentTime
            }, function (a) {
                e(a)
            }), a.$watch(function () {
                return d.isCompleted
            }, function (a) {
                f(a)
            })
        }
    }
}]).directive("vgVolume", ["VG_UTILS", function (a) {
    return {
        restrict: "E", link: function (b, c) {
            function d() {
                b.volumeVisibility = "visible", b.$apply()
            }

            function e() {
                b.volumeVisibility = "hidden", b.$apply()
            }

            a.isMobileDevice() ? c.css("display", "none") : (b.volumeVisibility = "hidden", c.bind("mouseover", d), c.bind("mouseleave", e))
        }
    }
}]).directive("vgVolumebar", ["VG_UTILS", function (a) {
    return {
        restrict: "E",
        require: "^videogular",
        template: "<div class='verticalVolumeBar'><div class='volumeBackground' ng-click='onClickVolume($event)' ng-mousedown='onMouseDownVolume()' ng-mouseup='onMouseUpVolume()' ng-mousemove='onMouseMoveVolume($event)' ng-mouseleave='onMouseLeaveVolume()'><div class='volumeValue'></div><div class='volumeClickArea'></div></div></div>",
        link: function (b, c, d, e) {
            function f(a) {
                a = 100 * a, j.css("height", a + "%"), j.css("top", 100 - a + "%")
            }

            function g(a) {
                c.css("visibility", a)
            }

            var h = !1, i = angular.element(c[0].getElementsByClassName("volumeBackground")), j = angular.element(c[0].getElementsByClassName("volumeValue"));
            b.onClickVolume = function (b) {
                b = a.fixEventOffset(b);
                var c = parseInt(i.prop("offsetHeight")), d = 100 * b.offsetY / c, f = 1 - d / 100;
                e.setVolume(f)
            }, b.onMouseDownVolume = function () {
                h = !0
            }, b.onMouseUpVolume = function () {
                h = !1
            }, b.onMouseLeaveVolume = function () {
                h = !1
            }, b.onMouseMoveVolume = function (b) {
                if (h) {
                    b = a.fixEventOffset(b);
                    var c = parseInt(i.prop("offsetHeight")), d = 100 * b.offsetY / c, f = 1 - d / 100;
                    e.setVolume(f)
                }
            }, c.css("visibility", b.volumeVisibility), b.$watch("volumeVisibility", g), b.$watch(function () {
                return e.volume
            }, function (a, b) {
                a != b && f(a)
            })
        }
    }
}]).directive("vgMutebutton", [function () {
    return {
        restrict: "E",
        require: "^videogular",
        template: "<button class='iconButton' ng-class='muteIcon' ng-click='onClickMute()' ng-focus='onMuteButtonFocus()' ng-blur='onMuteButtonLoseFocus()' ng-keydown='onMuteButtonKeyDown($event)' aria-label='Mute' type='button'></button>",
        link: function (a, b, c, d) {
            function e(b) {
                a.currentVolume = b, f ? b > 0 && (a.defaultVolume = b) : a.defaultVolume = b;
                var c = Math.round(100 * b);
                0 == c ? a.muteIcon = {mute: !0} : c > 0 && 25 > c ? a.muteIcon = {level0: !0} : c >= 25 && 50 > c ? a.muteIcon = {level1: !0} : c >= 50 && 75 > c ? a.muteIcon = {level2: !0} : c >= 75 && (a.muteIcon = {level3: !0})
            }

            var f = !1, g = 38, h = 40, i = .05;
            a.onClickMute = function () {
                f ? a.currentVolume = a.defaultVolume : (a.currentVolume = 0, a.muteIcon = {mute: !0}), f = !f, d.setVolume(a.currentVolume)
            }, a.onMuteButtonFocus = function () {
                a.volumeVisibility = "visible"
            }, a.onMuteButtonLoseFocus = function () {
                a.volumeVisibility = "hidden"
            }, a.onMuteButtonKeyDown = function (a) {
                var b, c = null != d.volume ? d.volume : 1;
                a.which === g || a.keyCode === g ? (b = c + i, b > 1 && (b = 1), d.setVolume(b), a.preventDefault()) : (a.which === h || a.keyCode === h) && (b = c - i, 0 > b && (b = 0), d.setVolume(b), a.preventDefault())
            }, a.defaultVolume = 1, a.currentVolume = a.defaultVolume, a.muteIcon = {level3: !0}, a.$watch(function () {
                return d.volume
            }, function (a, b) {
                a != b && e(a)
            })
        }
    }
}]).directive("vgFullscreenbutton", [function () {
    return {
        restrict: "E",
        require: "^videogular",
        scope: {vgEnterFullScreenIcon: "=", vgExitFullScreenIcon: "="},
        template: "<button class='iconButton' ng-click='onClickFullScreen()' ng-class='fullscreenIcon' aria-label='Toggle full screen' type='button'></button>",
        link: function (a, b, c, d) {
            function e(b) {
                a.fullscreenIcon = {enter: !b, exit: b}
            }

            a.onClickFullScreen = function () {
                d.toggleFullScreen()
            }, a.fullscreenIcon = {exit: !1}, a.fullscreenIcon = {enter: !0}, a.$watch(function () {
                return d.isFullScreen
            }, function (a, b) {
                a != b && e(a)
            })
        }
    }
}]),angular.module("com.2fdevs.videogular.plugins.overlayplay", []).directive("vgOverlayPlay", ["VG_STATES", function (a) {
    return {
        restrict: "E",
        require: "^videogular",
        template: "<div class='overlayPlayContainer' ng-click='onClickOverlayPlay()'><div class='iconButton' ng-class='overlayPlayIcon'></div></div>",
        link: function (b, c, d, e) {
            function f(c) {
                switch (c) {
                    case a.PLAY:
                        b.overlayPlayIcon = {};
                        break;
                    case a.PAUSE:
                        b.overlayPlayIcon = {play: !0};
                        break;
                    case a.STOP:
                        b.overlayPlayIcon = {play: !0}
                }
            }

            b.onClickOverlayPlay = function () {
                e.playPause()
            }, b.overlayPlayIcon = {play: !0}, b.$watch(function () {
                return e.currentState
            }, function (a, b) {
                a != b && f(a)
            })
        }
    }
}]),angular.module("com.2fdevs.videogular.plugins.buffering", []).directive("vgBuffering", ["VG_STATES", "VG_UTILS", function (a, b) {
    return {
        restrict: "E",
        require: "^videogular",
        template: "<div class='bufferingContainer'><div ng-class='spinnerClass' class='loadingSpinner'></div></div>",
        link: function (c, d, e, f) {
            function g() {
                c.spinnerClass = {stop: f.isBuffering}, d.css("display", "block")
            }

            function h() {
                c.spinnerClass = {stop: f.isBuffering}, d.css("display", "none")
            }

            function i(a) {
                a ? g() : h()
            }

            function j(b) {
                b == a.STOP && h()
            }

            function k(a) {
                a && h()
            }

            g(), b.isMobileDevice() ? h() : c.$watch(function () {
                return f.isReady
            }, function (a, b) {
                (1 == f.isReady || a != b) && k(a)
            }), c.$watch(function () {
                return f.currentState
            }, function (a, b) {
                a != b && j(a)
            }), c.$watch(function () {
                return f.isBuffering
            }, function (a, b) {
                a != b && i(a)
            })
        }
    }
}]),angular.module("com.2fdevs.videogular.plugins.poster", []).directive("vgPosterImage", ["VG_STATES", function (a) {
    return {
        restrict: "E",
        require: "^videogular",
        scope: {vgUrl: "="},
        template: '<img ng-src="{{vgUrl}}">',
        link: function (b, c, d, e) {
            function f(b) {
                switch (b) {
                    case a.PLAY:
                        c.css("display", "none");
                        break;
                    case a.STOP:
                        c.css("display", "block")
                }
            }

            b.$watch(function () {
                return e.currentState
            }, function (a, b) {
                a != b && f(a)
            })
        }
    }
}]),function () {
    var a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L = function (a, b) {
        return function () {
            return a.apply(b, arguments)
        }
    }, M = [].slice;
    a = jQuery, H = 0, I = 1, J = 2, y = 13, E = 9, v = 46, u = 8, A = 37, D = 39, F = 38, w = 40, z = 36, x = 35, C = 33, B = 34, i = "jqconsole-", e = "" + i + "cursor", f = "" + i + "header", j = "" + i + "prompt", h = "" + i + "old-prompt", g = "" + i + "input", d = "" + i + "blurred", s = "keypress", p = "<span/>", n = "<div/>", o = ":empty", G = "\n", m = ">>> ", l = "... ", k = 2, c = "" + i + "ansi-", q = "", r = /\[(\d*)(?:;(\d*))*m/, b = function () {
        function a() {
            this.stylize = L(this.stylize, this), this._closeSpan = L(this._closeSpan, this), this._openSpan = L(this._openSpan, this), this.getClasses = L(this.getClasses, this), this._style = L(this._style, this), this._color = L(this._color, this), this._remove = L(this._remove, this), this._append = L(this._append, this), this.klasses = []
        }

        return a.prototype.COLORS = ["black", "red", "green", "yellow", "blue", "magenta", "cyan", "white"], a.prototype._append = function (a) {
            return a = "" + c + a, -1 === this.klasses.indexOf(a) ? this.klasses.push(a) : void 0
        }, a.prototype._remove = function () {
            var a, b, d, e, f, g;
            for (d = 1 <= arguments.length ? M.call(arguments, 0) : [], g = [], e = 0, f = d.length; f > e; e++)b = d[e], "fonts" === b || "color" === b || "background-color" === b ? g.push(this.klasses = function () {
                var d, e, f, g;
                for (f = this.klasses, g = [], d = 0, e = f.length; e > d; d++)a = f[d], a.indexOf(b) !== c.length && g.push(a);
                return g
            }.call(this)) : (b = "" + c + b, g.push(this.klasses = function () {
                var c, d, e, f;
                for (e = this.klasses, f = [], c = 0, d = e.length; d > c; c++)a = e[c], a !== b && f.push(a);
                return f
            }.call(this)));
            return g
        }, a.prototype._color = function (a) {
            return this.COLORS[a]
        }, a.prototype._style = function (a) {
            if ("" === a && (a = 0), a = parseInt(a), !isNaN(a))switch (a) {
                case 0:
                    return this.klasses = [];
                case 1:
                    return this._append("bold");
                case 2:
                    return this._append("lighter");
                case 3:
                    return this._append("italic");
                case 4:
                    return this._append("underline");
                case 5:
                    return this._append("blink");
                case 6:
                    return this._append("blink-rapid");
                case 8:
                    return this._append("hidden");
                case 9:
                    return this._append("line-through");
                case 10:
                    return this._remove("fonts");
                case 11:
                case 12:
                case 13:
                case 14:
                case 15:
                case 16:
                case 17:
                case 18:
                case 19:
                    return this._remove("fonts"), this._append("fonts-" + (a - 10));
                case 20:
                    return this._append("fraktur");
                case 21:
                    return this._remove("bold", "lighter");
                case 22:
                    return this._remove("bold", "lighter");
                case 23:
                    return this._remove("italic", "fraktur");
                case 24:
                    return this._remove("underline");
                case 25:
                    return this._remove("blink", "blink-rapid");
                case 28:
                    return this._remove("hidden");
                case 29:
                    return this._remove("line-through");
                case 30:
                case 31:
                case 32:
                case 33:
                case 34:
                case 35:
                case 36:
                case 37:
                    return this._remove("color"), this._append("color-" + this._color(a - 30));
                case 39:
                    return this._remove("color");
                case 40:
                case 41:
                case 42:
                case 43:
                case 44:
                case 45:
                case 46:
                case 47:
                    return this._remove("background-color"), this._append("background-color-" + this._color(a - 40));
                case 49:
                    return this._remove("background-color");
                case 51:
                    return this._append("framed");
                case 53:
                    return this._append("overline");
                case 54:
                    return this._remove("framed");
                case 55:
                    return this._remove("overline")
            }
        }, a.prototype.getClasses = function () {
            return this.klasses.join(" ")
        }, a.prototype._openSpan = function (a) {
            return '<span class="' + this.getClasses() + '">' + a
        }, a.prototype._closeSpan = function (a) {
            return "" + a + "</span>"
        }, a.prototype.stylize = function (a) {
            var b, c, d, e, f, g;
            for (a = this._openSpan(a), d = 0; (d = a.indexOf(q, d)) && -1 !== d;)if (c = a.slice(d).match(r)) {
                for (g = c.slice(1), e = 0, f = g.length; f > e; e++)b = g[e], this._style(b);
                a = this._closeSpan(a.slice(0, d)) + this._openSpan(a.slice(d + 1 + c[0].length))
            } else d++;
            return this._closeSpan(a)
        }, a
    }(), K = function (a, b) {
        return '<span class="' + a + '">' + (b || "") + "</span>"
    }, t = function () {
        function c(c, d, e, g) {
            this._HideComposition = L(this._HideComposition, this), this._ShowComposition = L(this._ShowComposition, this), this._UpdateComposition = L(this._UpdateComposition, this), this._EndComposition = L(this._EndComposition, this), this._StartComposition = L(this._StartComposition, this), this._CheckComposition = L(this._CheckComposition, this), this._ProcessMatch = L(this._ProcessMatch, this), this._HandleKey = L(this._HandleKey, this), this._HandleChar = L(this._HandleChar, this), this.isMobile = !!navigator.userAgent.match(/iPhone|iPad|iPod|Android/i), this.isIos = !!navigator.userAgent.match(/iPhone|iPad|iPod/i), this.isAndroid = !!navigator.userAgent.match(/Android/i), this.$window = a(window), this.header = d || "", this.prompt_label_main = "string" == typeof e ? e : m, this.prompt_label_continue = g || l, this.indent_width = k, this.state = I, this.input_queue = [], this.input_callback = null, this.multiline_callback = null, this.history = [], this.history_index = 0, this.history_new = "", this.history_active = !1, this.shortcuts = {}, this.$container = a("<div/>").appendTo(c), this.$container.css({
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                position: "absolute",
                overflow: "auto"
            }), this.$console = a('<pre class="jqconsole"/>').appendTo(this.$container), this.$console.css({
                margin: 0,
                position: "relative",
                "min-height": "100%",
                "box-sizing": "border-box",
                "-moz-box-sizing": "border-box",
                "-webkit-box-sizing": "border-box"
            }), this.$console_focused = !0, this.$input_container = a(n).appendTo(this.$container), this.$input_container.css({
                position: "absolute",
                width: 1,
                height: 0,
                overflow: "hidden"
            }), this.$input_source = a(this.isAndroid ? "<input/>" : "<textarea/>"), this.$input_source.attr({
                wrap: "off",
                autocapitalize: "off",
                autocorrect: "off",
                spellcheck: "false",
                autocomplete: "off"
            }), this.$input_source.css({
                position: "absolute",
                width: 2
            }), this.$input_source.appendTo(this.$input_container), this.$composition = a(n), this.$composition.addClass("" + i + "composition"), this.$composition.css({
                display: "inline",
                position: "relative"
            }), this.matchings = {
                openings: {},
                closings: {},
                clss: []
            }, this.ansi = new b, this._InitPrompt(), this._SetupEvents(), this.Write(this.header, f), a(c).data("jqconsole", this)
        }

        return c.prototype.ResetHistory = function () {
            return this.SetHistory([])
        }, c.prototype.ResetShortcuts = function () {
            return this.shortcuts = {}
        }, c.prototype.ResetMatchings = function () {
            return this.matchings = {openings: {}, closings: {}, clss: []}
        }, c.prototype.Reset = function () {
            return this.state !== I && this.ClearPromptText(!0), this.state = I, this.input_queue = [], this.input_callback = null, this.multiline_callback = null, this.ResetHistory(), this.ResetShortcuts(), this.ResetMatchings(), this.$prompt.detach(), this.$input_container.detach(), this.$console.html(""), this.$prompt.appendTo(this.$console), this.$input_container.appendTo(this.$container), void this.Write(this.header, f)
        }, c.prototype.GetHistory = function () {
            return this.history
        }, c.prototype.SetHistory = function (a) {
            return this.history = a.slice(), this.history_index = this.history.length
        }, c.prototype._CheckKeyCode = function (a) {
            if (a = isNaN(a) ? a.charCodeAt(0) : parseInt(a, 10), !(a > 0 && 256 > a) || isNaN(a))throw new Error("Key code must be a number between 0 and 256 exclusive.");
            return a
        }, c.prototype._LetterCaseHelper = function (a, b) {
            return b(a), a >= 65 && 90 >= a && b(a + 32), a >= 97 && 122 >= a ? b(a - 32) : void 0
        }, c.prototype.RegisterShortcut = function (a, b) {
            var c, d = this;
            if (a = this._CheckKeyCode(a), "function" != typeof b)throw new Error("Callback must be a function, not " + b + ".");
            return c = function (a) {
                return a in d.shortcuts || (d.shortcuts[a] = []), d.shortcuts[a].push(b)
            }, void this._LetterCaseHelper(a, c)
        }, c.prototype.UnRegisterShortcut = function (a, b) {
            var c, d = this;
            return a = this._CheckKeyCode(a), c = function (a) {
                return a in d.shortcuts ? b ? d.shortcuts[a].splice(d.shortcuts[a].indexOf(b), 1) : delete d.shortcuts[a] : void 0
            }, void this._LetterCaseHelper(a, c)
        }, c.prototype.GetColumn = function () {
            var a;
            return this.$prompt_right.detach(), this.$prompt_cursor.text(""), a = this.$console.text().split(G), this.$prompt_cursor.html("&nbsp;"), this.$prompt_cursor.after(this.$prompt_right), a[a.length - 1].length
        }, c.prototype.GetLine = function () {
            return this.$console.text().split(G).length - 1
        }, c.prototype.ClearPromptText = function (a) {
            if (this.state === I)throw new Error("ClearPromptText() is not allowed in output state.");
            return this.$prompt_before.html(""), this.$prompt_after.html(""), this.$prompt_label.text(a ? "" : this._SelectPromptLabel(!1)), this.$prompt_left.text(""), void this.$prompt_right.text("")
        }, c.prototype.GetPromptText = function (b) {
            var c, d, e, f, g;
            if (this.state === I)throw new Error("GetPromptText() is not allowed in output state.");
            return b ? (this.$prompt_cursor.text(""), g = this.$prompt.text(), this.$prompt_cursor.html("&nbsp;"), g) : (f = function (b) {
                var c;
                return c = [], b.children().each(function () {
                    return c.push(a(this).children().last().text())
                }), c.join(G)
            }, d = f(this.$prompt_before), d && (d += G), e = this.$prompt_left.text() + this.$prompt_right.text(), c = f(this.$prompt_after), c && (c = G + c), d + e + c)
        }, c.prototype.SetPromptText = function (a) {
            if (this.state === I)throw new Error("SetPromptText() is not allowed in output state.");
            return this.ClearPromptText(!1), this._AppendPromptText(a), void this._ScrollToEnd()
        }, c.prototype.SetPromptLabel = function (a, b) {
            return this.prompt_label_main = a, void(null != b && (this.prompt_label_continue = b))
        }, c.prototype.Write = function (b, c, d) {
            var e;
            return null == d && (d = !0), d && (b = this.ansi.stylize(a(p).text(b).html())), e = a(p).html(b), null != c && e.addClass(c), this.Append(e)
        }, c.prototype.Append = function (b) {
            var c;
            return c = a(b).insertBefore(this.$prompt), this._ScrollToEnd(), this.$prompt_cursor.detach().insertAfter(this.$prompt_left), c
        }, c.prototype.Input = function (a) {
            var b, c, d, e, f = this;
            if (this.state === J)d = this.input_callback, e = this.multiline_callback, c = this.history_active, b = this.async_multiline, this.AbortPrompt(), this.input_queue.unshift(function () {
                return f.Prompt(c, d, e, b)
            }); else if (this.state !== I)return void this.input_queue.push(function () {
                return f.Input(a)
            });
            return this.history_active = !1, this.input_callback = a, this.multiline_callback = null, this.state = H, this.$prompt.attr("class", g), this.$prompt_label.text(this._SelectPromptLabel(!1)), this.Focus(), void this._ScrollToEnd()
        }, c.prototype.Prompt = function (a, b, c, d) {
            var e = this;
            return this.state !== I ? void this.input_queue.push(function () {
                return e.Prompt(a, b, c, d)
            }) : (this.history_active = a, this.input_callback = b, this.multiline_callback = c, this.async_multiline = d, this.state = J, this.$prompt.attr("class", j + " " + this.ansi.getClasses()), this.$prompt_label.text(this._SelectPromptLabel(!1)), this.Focus(), void this._ScrollToEnd())
        }, c.prototype.AbortPrompt = function () {
            if (this.state !== J)throw new Error("Cannot abort prompt when not in prompt state.");
            return this.Write(this.GetPromptText(!0) + G, h), this.ClearPromptText(!0), this.state = I, this.input_callback = this.multiline_callback = null, void this._CheckInputQueue()
        }, c.prototype.Focus = function () {
            return void(this.IsDisabled() || this.$input_source.focus())
        }, c.prototype.SetIndentWidth = function (a) {
            return this.indent_width = a
        }, c.prototype.GetIndentWidth = function () {
            return this.indent_width
        }, c.prototype.RegisterMatching = function (a, b, c) {
            var d;
            return d = {
                opening_char: a,
                closing_char: b,
                cls: c
            }, this.matchings.clss.push(c), this.matchings.openings[a] = d, this.matchings.closings[b] = d
        }, c.prototype.UnRegisterMatching = function (a, b) {
            var c;
            return c = this.matchings.openings[a].cls, delete this.matchings.openings[a], delete this.matchings.closings[b], this.matchings.clss.splice(this.matchings.clss.indexOf(c), 1)
        }, c.prototype.Dump = function () {
            var b, c;
            return b = this.$console.find("." + f).nextUntil("." + j).addBack(), function () {
                var d, e, f;
                for (f = [], d = 0, e = b.length; e > d; d++)c = b[d], f.push(a(c).is("." + h) ? a(c).text().replace(/^\s+/, ">>> ") : a(c).text());
                return f
            }().join("")
        }, c.prototype.GetState = function () {
            return this.state === H ? "input" : this.state === I ? "output" : "prompt"
        }, c.prototype.Disable = function () {
            return this.$input_source.attr("disabled", !0), this.$input_source.blur()
        }, c.prototype.Enable = function () {
            return this.$input_source.attr("disabled", !1)
        }, c.prototype.IsDisabled = function () {
            return Boolean(this.$input_source.attr("disabled"))
        }, c.prototype.MoveToStart = function (a) {
            return void this._MoveTo(a, !0)
        }, c.prototype.MoveToEnd = function (a) {
            return void this._MoveTo(a, !1)
        }, c.prototype.Clear = function () {
            return this.$console.find("." + f).nextUntil("." + j).addBack().text(""), this.$prompt_cursor.detach(), this.$prompt_after.before(this.$prompt_cursor)
        }, c.prototype._CheckInputQueue = function () {
            return this.input_queue.length ? this.input_queue.shift()() : void 0
        }, c.prototype._InitPrompt = function () {
            return this.$prompt = a(K(g)).appendTo(this.$console), this.$prompt_before = a(p).appendTo(this.$prompt), this.$prompt_current = a(p).appendTo(this.$prompt), this.$prompt_after = a(p).appendTo(this.$prompt), this.$prompt_label = a(p).appendTo(this.$prompt_current), this.$prompt_left = a(p).appendTo(this.$prompt_current), this.$prompt_right = a(p).appendTo(this.$prompt_current), this.$prompt_right.css({position: "relative"}), this.$prompt_cursor = a(K(e, "&nbsp;")), this.$prompt_cursor.insertBefore(this.$prompt_right), this.$prompt_cursor.css({
                color: "transparent",
                display: "inline",
                zIndex: 0
            }), this.isMobile ? void 0 : this.$prompt_cursor.css("position", "absolute")
        }, c.prototype._SetupEvents = function () {
            var a = this;
            return this.isMobile ? this.$console.click(function (b) {
                return b.preventDefault(), a.Focus()
            }) : this.$console.mouseup(function (b) {
                var c;
                return 2 === b.which ? a.Focus() : (c = function () {
                    return window.getSelection().toString() ? void 0 : (b.preventDefault(), a.Focus())
                }, setTimeout(c, 0))
            }), this.$input_source.focus(function () {
                var b, c;
                return a._ScrollToEnd(), a.$console_focused = !0, a.$console.removeClass(d), c = function () {
                    return a.$console_focused ? a.$console.removeClass(d) : void 0
                }, setTimeout(c, 100), b = function () {
                    return a.isIos && a.$console_focused ? a.$input_source.hide() : void 0
                }, setTimeout(b, 500)
            }), this.$input_source.blur(function () {
                var b;
                return a.$console_focused = !1, a.isIos && a.$input_source.show(), b = function () {
                    return a.$console_focused ? void 0 : a.$console.addClass(d)
                }, setTimeout(b, 100)
            }), this.$input_source.bind("paste", function () {
                var b;
                return b = function () {
                    return a.in_composition ? void 0 : (a._AppendPromptText(a.$input_source.val()), a.$input_source.val(""), a.Focus())
                }, setTimeout(b, 0)
            }), this.$input_source.keypress(this._HandleChar), this.$input_source.keydown(this._HandleKey), this.$input_source.keydown(this._CheckComposition), this.$input_source.bind("compositionstart", this._StartComposition), this.$input_source.bind("compositionend", function (b) {
                return setTimeout(function () {
                    return a._EndComposition(b)
                }, 0)
            }), this.isAndroid ? (this.$input_source.bind("input", this._StartComposition), this.$input_source.bind("input", this._UpdateComposition)) : this.$input_source.bind("text", this._UpdateComposition)
        }, c.prototype._HandleChar = function (a) {
            var b;
            return this.state === I || a.metaKey || a.ctrlKey ? !0 : (b = a.which, 8 === b || 9 === b || 13 === b ? !1 : (this.$prompt_left.text(this.$prompt_left.text() + String.fromCharCode(b)), this._ScrollToEnd(), !1))
        }, c.prototype._HandleKey = function (b) {
            var c;
            if (this.state === I)return !0;
            if (c = b.keyCode || b.which, setTimeout(a.proxy(this._CheckMatchings, this), 0), b.altKey)return !0;
            if (b.ctrlKey || b.metaKey)return this._HandleCtrlShortcut(c);
            if (b.shiftKey) {
                switch (c) {
                    case y:
                        this._HandleEnter(!0);
                        break;
                    case E:
                        this._Unindent();
                        break;
                    case F:
                        this._MoveUp();
                        break;
                    case w:
                        this._MoveDown();
                        break;
                    case C:
                        this._ScrollPage("up");
                        break;
                    case B:
                        this._ScrollPage("down");
                        break;
                    default:
                        return !0
                }
                return !1
            }
            switch (c) {
                case y:
                    this._HandleEnter(!1);
                    break;
                case E:
                    this._Indent();
                    break;
                case v:
                    this._Delete(!1);
                    break;
                case u:
                    this._Backspace(!1);
                    break;
                case A:
                    this._MoveLeft(!1);
                    break;
                case D:
                    this._MoveRight(!1);
                    break;
                case F:
                    this._HistoryPrevious();
                    break;
                case w:
                    this._HistoryNext();
                    break;
                case z:
                    this.MoveToStart(!1);
                    break;
                case x:
                    this.MoveToEnd(!1);
                    break;
                case C:
                    this._ScrollPage("up");
                    break;
                case B:
                    this._ScrollPage("down");
                    break;
                default:
                    return !0
            }
            return !1
        }, c.prototype._HandleCtrlShortcut = function (a) {
            var b, c, d, e;
            switch (a) {
                case v:
                    this._Delete(!0);
                    break;
                case u:
                    this._Backspace(!0);
                    break;
                case A:
                    this._MoveLeft(!0);
                    break;
                case D:
                    this._MoveRight(!0);
                    break;
                case F:
                    this._MoveUp();
                    break;
                case w:
                    this._MoveDown();
                    break;
                case x:
                    this.MoveToEnd(!0);
                    break;
                case z:
                    this.MoveToStart(!0);
                    break;
                default:
                    if (a in this.shortcuts) {
                        for (e = this.shortcuts[a], c = 0, d = e.length; d > c; c++)b = e[c], b.call(this);
                        return !1
                    }
                    return !0
            }
            return !1
        }, c.prototype._HandleEnter = function (a) {
            var b, c, d = this;
            return this._EndComposition(), a ? this._InsertNewLine(!0) : (c = this.GetPromptText(), b = function (a) {
                var b, e, f, g, h, j;
                if (a !== !1) {
                    for (d.MoveToEnd(!0), d._InsertNewLine(!0), j = [], f = g = 0, h = Math.abs(a); h >= 0 ? h > g : g > h; f = h >= 0 ? ++g : --g)j.push(a > 0 ? d._Indent() : d._Unindent());
                    return j
                }
                return e = d.state === H ? "input" : "prompt", d.Write(d.GetPromptText(!0) + G, "" + i + "old-" + e), d.ClearPromptText(!0), d.history_active && (d.history.length && d.history[d.history.length - 1] === c || d.history.push(c), d.history_index = d.history.length), d.state = I, b = d.input_callback, d.input_callback = null, b && b(c), d._CheckInputQueue()
            }, this.multiline_callback ? this.async_multiline ? this.multiline_callback(c, b) : b(this.multiline_callback(c)) : b(!1))
        }, c.prototype._GetDirectionals = function (b) {
            var c, d, e, f, g, h, i, j;
            return f = b ? this.$prompt_left : this.$prompt_right, c = b ? this.$prompt_right : this.$prompt_left, e = b ? this.$prompt_before : this.$prompt_after, d = b ? this.$prompt_after : this.$prompt_before, h = b ? a.proxy(this.MoveToStart, this) : a.proxy(this.MoveToEnd, this), g = b ? a.proxy(this._MoveLeft, this) : a.proxy(this._MoveRight, this), j = b ? "last" : "first", i = b ? "prependTo" : "appendTo", {
                $prompt_which: f,
                $prompt_opposite: c,
                $prompt_relative: e,
                $prompt_rel_opposite: d,
                MoveToLimit: h,
                MoveDirection: g,
                which_end: j,
                where_append: i
            }
        }, c.prototype._VerticalMove = function (a) {
            var b, c, d, e, f, g, h, i;
            return i = this._GetDirectionals(a), d = i.$prompt_which, b = i.$prompt_opposite, c = i.$prompt_relative, f = i.MoveToLimit, e = i.MoveDirection, c.is(o) ? void 0 : (g = this.$prompt_left.text().length, f(), e(), h = d.text(), b.text(a ? h.slice(g) : h.slice(0, g)), d.text(a ? h.slice(0, g) : h.slice(g)))
        }, c.prototype._MoveUp = function () {
            return this._VerticalMove(!0)
        }, c.prototype._MoveDown = function () {
            return this._VerticalMove()
        }, c.prototype._HorizontalMove = function (b, c) {
            var d, e, f, g, h, i, j, k, l, m, n, q, r, s;
            if (s = this._GetDirectionals(c), h = s.$prompt_which, e = s.$prompt_opposite, g = s.$prompt_relative, f = s.$prompt_rel_opposite, q = s.which_end, n = s.where_append, k = c ? /\w*\W*$/ : /^\w*\W*/, l = h.text()) {
                if (b) {
                    if (r = l.match(k), !r)return;
                    return r = r[0], m = e.text(), e.text(c ? r + m : m + r), j = r.length, h.text(c ? l.slice(0, -j) : l.slice(j))
                }
                return m = e.text(), e.text(c ? l.slice(-1) + m : m + l[0]), h.text(c ? l.slice(0, -1) : l.slice(1))
            }
            return g.is(o) ? void 0 : (i = a(p)[n](f), i.append(a(p).text(this.$prompt_label.text())), i.append(a(p).text(e.text())), d = g.children()[q]().detach(), this.$prompt_label.text(d.children().first().text()), h.text(d.children().last().text()), e.text(""))
        }, c.prototype._MoveLeft = function (a) {
            return this._HorizontalMove(a, !0)
        }, c.prototype._MoveRight = function (a) {
            return this._HorizontalMove(a)
        }, c.prototype._MoveTo = function (a, b) {
            var c, d, e, f, g, h, i;
            if (h = this._GetDirectionals(b), e = h.$prompt_which, c = h.$prompt_opposite, d = h.$prompt_relative, g = h.MoveToLimit, f = h.MoveDirection, a) {
                for (i = []; !d.is(o) || "" !== e.text();)g(!1), i.push(f(!1));
                return i
            }
            return c.text(this.$prompt_left.text() + this.$prompt_right.text()), e.text("")
        }, c.prototype._Delete = function (a) {
            var b, c, d;
            if (c = this.$prompt_right.text()) {
                if (a) {
                    if (d = c.match(/^\w*\W*/), !d)return;
                    return d = d[0], this.$prompt_right.text(c.slice(d.length))
                }
                return this.$prompt_right.text(c.slice(1))
            }
            return this.$prompt_after.is(o) ? void 0 : (b = this.$prompt_after.children().first().detach(), this.$prompt_right.text(b.children().last().text()))
        }, c.prototype._Backspace = function (b) {
            var c, d, e;
            if (setTimeout(a.proxy(this._ScrollToEnd, this), 0), d = this.$prompt_left.text()) {
                if (b) {
                    if (e = d.match(/\w*\W*$/), !e)return;
                    return e = e[0], this.$prompt_left.text(d.slice(0, -e.length))
                }
                return this.$prompt_left.text(d.slice(0, -1))
            }
            return this.$prompt_before.is(o) ? void 0 : (c = this.$prompt_before.children().last().detach(), this.$prompt_label.text(c.children().first().text()), this.$prompt_left.text(c.children().last().text()))
        }, c.prototype._Indent = function () {
            var a;
            return this.$prompt_left.prepend(function () {
                var b, c, d;
                for (d = [], a = b = 1, c = this.indent_width; c >= 1 ? c >= b : b >= c; a = c >= 1 ? ++b : --b)d.push(" ");
                return d
            }.call(this).join(""))
        }, c.prototype._Unindent = function () {
            var a, b, c, d, e;
            for (a = this.$prompt_left.text() + this.$prompt_right.text(), e = [], b = c = 1, d = this.indent_width; (d >= 1 ? d >= c : c >= d) && /^ /.test(a); b = d >= 1 ? ++c : --c)this.$prompt_left.text() ? this.$prompt_left.text(this.$prompt_left.text().slice(1)) : this.$prompt_right.text(this.$prompt_right.text().slice(1)), e.push(a = a.slice(1));
            return e
        }, c.prototype._InsertNewLine = function (b) {
            var c, d, e;
            return null == b && (b = !1), e = this._SelectPromptLabel(!this.$prompt_before.is(o)), c = a(p).appendTo(this.$prompt_before), c.append(a(p).text(e)), c.append(a(p).text(this.$prompt_left.text())), this.$prompt_label.text(this._SelectPromptLabel(!0)), this.$prompt_left.text(b && (d = this.$prompt_left.text().match(/^\s+/)) ? d[0] : ""), this._ScrollToEnd()
        }, c.prototype._AppendPromptText = function (a) {
            var b, c, d, e, f, g;
            for (c = a.split(G), this.$prompt_left.text(this.$prompt_left.text() + c[0]), f = c.slice(1), g = [], d = 0, e = f.length; e > d; d++)b = f[d], this._InsertNewLine(), g.push(this.$prompt_left.text(b));
            return g
        }, c.prototype._ScrollPage = function (a) {
            var b;
            return b = this.$container[0].scrollTop, "up" === a ? b -= this.$container.height() : b += this.$container.height(), this.$container.stop().animate({scrollTop: b}, "fast")
        }, c.prototype._ScrollToEnd = function () {
            var a;
            return this.$container.scrollTop(this.$container[0].scrollHeight), a = this.$prompt_cursor.position(), this.$input_container.css({
                left: a.left,
                top: a.top
            }), setTimeout(this.ScrollWindowToPrompt.bind(this), 50)
        }, c.prototype.ScrollWindowToPrompt = function () {
            var a, b, c, d, e, f;
            if (b = this.$prompt_cursor.height(), f = this.$window.scrollTop(), e = this.$window.scrollLeft(), a = document.documentElement.clientHeight, d = this.$prompt_cursor.offset(), c = d.top - 2 * b, this.isMobile && "undefined" != typeof orientation && null !== orientation) {
                if (f < d.top || f > d.top)return this.$window.scrollTop(c)
            } else {
                if (f + a < d.top)return this.$window.scrollTop(d.top - a + b);
                if (f > c)return this.$window.scrollTop(d.top)
            }
        }, c.prototype._SelectPromptLabel = function (a) {
            return this.state === J ? a ? " \n" + this.prompt_label_continue : this.prompt_label_main : a ? "\n " : " "
        }, c.prototype._Wrap = function (a, b, c) {
            var d, e;
            return e = a.html(), d = e.slice(0, b) + K(c, e[b]) + e.slice(b + 1), a.html(d)
        }, c.prototype._WalkCharacters = function (a, b, c, d, e) {
            var f, g, h;
            for (g = e ? a.length : 0, a = a.split(""), h = function () {
                var b, c, d, f;
                return e ? (d = a, a = 2 <= d.length ? M.call(d, 0, c = d.length - 1) : (c = 0, []), b = d[c++]) : (f = a, b = f[0], a = 2 <= f.length ? M.call(f, 1) : []), b && (g += e ? -1 : 1), b
            }; f = h();)if (f === b ? d++ : f === c && d--, 0 === d)return {index: g, current_count: d};
            return {index: -1, current_count: d}
        }, c.prototype._ProcessMatch = function (b, c, d) {
            var e, f, g, h, i, j, k, l, m, n, o, p, q = this;
            return n = c ? [b.closing_char, b.opening_char] : [b.opening_char, b.closing_char], h = n[0], l = n[1], o = this._GetDirectionals(c), g = o.$prompt_which, f = o.$prompt_relative, i = 1, j = !1, m = g.html(), c || (m = m.slice(1)), d && c && (m = m.slice(0, -1)), p = this._WalkCharacters(m, h, l, i, c), k = p.index, i = p.current_count, k > -1 ? (this._Wrap(g, k, b.cls), j = !0) : (e = f.children(), e = c ? Array.prototype.reverse.call(e) : e, e.each(function (d, e) {
                var f, g;
                return f = a(e).children().last(), m = f.html(), g = q._WalkCharacters(m, h, l, i, c), k = g.index, i = g.current_count, k > -1 ? (c || k--, q._Wrap(f, k, b.cls), j = !0, !1) : void 0
            })), j
        }, c.prototype._CheckMatchings = function (b) {
            var c, d, e, f, g, h, i;
            for (e = b ? this.$prompt_left.text().slice(this.$prompt_left.text().length - 1) : this.$prompt_right.text()[0], i = this.matchings.clss, g = 0, h = i.length; h > g; g++)c = i[g], a("." + c, this.$console).contents().unwrap();
            if ((d = this.matchings.closings[e]) ? f = this._ProcessMatch(d, !0, b) : (d = this.matchings.openings[e]) ? f = this._ProcessMatch(d, !1, b) : b || this._CheckMatchings(!0), b) {
                if (f)return this._Wrap(this.$prompt_left, this.$prompt_left.html().length - 1, d.cls)
            } else if (f)return this._Wrap(this.$prompt_right, 0, d.cls)
        }, c.prototype._HistoryPrevious = function () {
            return !this.history_active || this.history_index <= 0 ? void 0 : (this.history_index === this.history.length && (this.history_new = this.GetPromptText()), this.SetPromptText(this.history[--this.history_index]))
        }, c.prototype._HistoryNext = function () {
            return !this.history_active || this.history_index >= this.history.length ? void 0 : this.history_index === this.history.length - 1 ? (this.history_index++, this.SetPromptText(this.history_new)) : this.SetPromptText(this.history[++this.history_index])
        }, c.prototype._CheckComposition = function (a) {
            var b;
            return b = a.keyCode || a.which, 229 === b ? this.in_composition ? this._UpdateComposition() : this._StartComposition() : void 0
        }, c.prototype._StartComposition = function () {
            return this.in_composition ? void 0 : (this.in_composition = !0, this._ShowComposition(), setTimeout(this._UpdateComposition, 0))
        }, c.prototype._EndComposition = function () {
            return this.in_composition ? (this._HideComposition(), this.$prompt_left.text(this.$prompt_left.text() + this.$composition.text()), this.$composition.text(""), this.$input_source.val(""), this.in_composition = !1) : void 0
        }, c.prototype._UpdateComposition = function () {
            var a, b = this;
            return a = function () {
                return b.in_composition ? b.$composition.text(b.$input_source.val()) : void 0
            }, setTimeout(a, 0)
        }, c.prototype._ShowComposition = function () {
            return this.$composition.css("height", this.$prompt_cursor.height()), this.$composition.empty(), this.$composition.appendTo(this.$prompt_left)
        }, c.prototype._HideComposition = function () {
            return this.$composition.detach()
        }, c
    }(), a.fn.jqconsole = function (a, b, c) {
        return new t(this, a, b, c)
    }, a.fn.jqconsole.JQConsole = t, a.fn.jqconsole.Ansi = b
}.call(this),function (a, b) {
    "object" == typeof exports ? module.exports = b() : "function" == typeof define && define.amd ? define(b) : a.Spinner = b()
}(this, function () {
    "use strict";
    function a(a, b) {
        var c, d = document.createElement(a || "div");
        for (c in b)d[c] = b[c];
        return d
    }

    function b(a) {
        for (var b = 1, c = arguments.length; c > b; b++)a.appendChild(arguments[b]);
        return a
    }

    function c(a, b, c, d) {
        var e = ["opacity", b, ~~(100 * a), c, d].join("-"), f = .01 + c / d * 100, g = Math.max(1 - (1 - a) / b * (100 - f), a), h = j.substring(0, j.indexOf("Animation")).toLowerCase(), i = h && "-" + h + "-" || "";
        return l[e] || (m.insertRule("@" + i + "keyframes " + e + "{0%{opacity:" + g + "}" + f + "%{opacity:" + a + "}" + (f + .01) + "%{opacity:1}" + (f + b) % 100 + "%{opacity:" + a + "}100%{opacity:" + g + "}}", m.cssRules.length), l[e] = 1), e
    }

    function d(a, b) {
        var c, d, e = a.style;
        for (b = b.charAt(0).toUpperCase() + b.slice(1), d = 0; d < k.length; d++)if (c = k[d] + b, void 0 !== e[c])return c;
        return void 0 !== e[b] ? b : void 0
    }

    function e(a, b) {
        for (var c in b)a.style[d(a, c) || c] = b[c];
        return a
    }

    function f(a) {
        for (var b = 1; b < arguments.length; b++) {
            var c = arguments[b];
            for (var d in c)void 0 === a[d] && (a[d] = c[d])
        }
        return a
    }

    function g(a, b) {
        return "string" == typeof a ? a : a[b % a.length]
    }

    function h(a) {
        this.opts = f(a || {}, h.defaults, n)
    }

    function i() {
        function c(b, c) {
            return a("<" + b + ' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">', c)
        }

        m.addRule(".spin-vml", "behavior:url(#default#VML)"), h.prototype.lines = function (a, d) {
            function f() {
                return e(c("group", {coordsize: k + " " + k, coordorigin: -j + " " + -j}), {width: k, height: k})
            }

            function h(a, h, i) {
                b(m, b(e(f(), {
                    rotation: 360 / d.lines * a + "deg",
                    left: ~~h
                }), b(e(c("roundrect", {arcsize: d.corners}), {
                    width: j,
                    height: d.width,
                    left: d.radius,
                    top: -d.width >> 1,
                    filter: i
                }), c("fill", {color: g(d.color, a), opacity: d.opacity}), c("stroke", {opacity: 0}))))
            }

            var i, j = d.length + d.width, k = 2 * j, l = 2 * -(d.width + d.length) + "px", m = e(f(), {
                position: "absolute",
                top: l,
                left: l
            });
            if (d.shadow)for (i = 1; i <= d.lines; i++)h(i, -2, "progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");
            for (i = 1; i <= d.lines; i++)h(i);
            return b(a, m)
        }, h.prototype.opacity = function (a, b, c, d) {
            var e = a.firstChild;
            d = d.shadow && d.lines || 0, e && b + d < e.childNodes.length && (e = e.childNodes[b + d], e = e && e.firstChild, e = e && e.firstChild, e && (e.opacity = c))
        }
    }

    var j, k = ["webkit", "Moz", "ms", "O"], l = {}, m = function () {
        var c = a("style", {type: "text/css"});
        return b(document.getElementsByTagName("head")[0], c), c.sheet || c.styleSheet
    }(), n = {
        lines: 12,
        length: 7,
        width: 5,
        radius: 10,
        rotate: 0,
        corners: 1,
        color: "#000",
        direction: 1,
        speed: 1,
        trail: 100,
        opacity: .25,
        fps: 20,
        zIndex: 2e9,
        className: "spinner",
        top: "50%",
        left: "50%",
        position: "absolute"
    };
    h.defaults = {}, f(h.prototype, {
        spin: function (b) {
            this.stop();
            {
                var c = this, d = c.opts, f = c.el = e(a(0, {className: d.className}), {
                    position: d.position,
                    width: 0,
                    zIndex: d.zIndex
                });
                d.radius + d.length + d.width
            }
            if (e(f, {
                    left: d.left,
                    top: d.top
                }), b && b.insertBefore(f, b.firstChild || null), f.setAttribute("role", "progressbar"), c.lines(f, c.opts), !j) {
                var g, h = 0, i = (d.lines - 1) * (1 - d.direction) / 2, k = d.fps, l = k / d.speed, m = (1 - d.opacity) / (l * d.trail / 100), n = l / d.lines;
                !function o() {
                    h++;
                    for (var a = 0; a < d.lines; a++)g = Math.max(1 - (h + (d.lines - a) * n) % l * m, d.opacity), c.opacity(f, a * d.direction + i, g, d);
                    c.timeout = c.el && setTimeout(o, ~~(1e3 / k))
                }()
            }
            return c
        }, stop: function () {
            var a = this.el;
            return a && (clearTimeout(this.timeout), a.parentNode && a.parentNode.removeChild(a), this.el = void 0), this
        }, lines: function (d, f) {
            function h(b, c) {
                return e(a(), {
                    position: "absolute",
                    width: f.length + f.width + "px",
                    height: f.width + "px",
                    background: b,
                    boxShadow: c,
                    transformOrigin: "left",
                    transform: "rotate(" + ~~(360 / f.lines * k + f.rotate) + "deg) translate(" + f.radius + "px,0)",
                    borderRadius: (f.corners * f.width >> 1) + "px"
                })
            }

            for (var i, k = 0, l = (f.lines - 1) * (1 - f.direction) / 2; k < f.lines; k++)i = e(a(), {
                position: "absolute",
                top: 1 + ~(f.width / 2) + "px",
                transform: f.hwaccel ? "translate3d(0,0,0)" : "",
                opacity: f.opacity,
                animation: j && c(f.opacity, f.trail, l + k * f.direction, f.lines) + " " + 1 / f.speed + "s linear infinite"
            }), f.shadow && b(i, e(h("#000", "0 0 4px #000"), {top: "2px"})), b(d, b(i, h(g(f.color, k), "0 0 1px rgba(0,0,0,.1)")));
            return d
        }, opacity: function (a, b, c) {
            b < a.childNodes.length && (a.childNodes[b].style.opacity = c)
        }
    });
    var o = e(a("group"), {behavior: "url(#default#VML)"});
    return !d(o, "transform") && o.adj ? i() : j = d(o, "animation"), h
}),!function (a, b) {
    return "function" == typeof define && define.amd ? void define("angular-file-upload", ["angular"], function (a) {
        return b(a)
    }) : b(a)
}("undefined" == typeof angular ? null : angular, function (a) {
    var b = a.module("angularFileUpload", []);
    return b.value("fileUploaderOptions", {
        url: "/",
        alias: "file",
        headers: {},
        queue: [],
        progress: 0,
        autoUpload: !1,
        removeAfterUpload: !1,
        method: "POST",
        filters: [],
        formData: [],
        queueLimit: Number.MAX_VALUE,
        withCredentials: !1
    }).factory("FileUploader", ["fileUploaderOptions", "$rootScope", "$http", "$window", "$compile", function (b, c, d, e, f) {
        function g(c) {
            var d = a.copy(b);
            a.extend(this, d, c, {
                isUploading: !1,
                _nextIndex: 0,
                _failFilterIndex: -1,
                _directives: {select: [], drop: [], over: []}
            }), this.filters.unshift({
                name: "queueLimit",
                fn: this._queueLimitFilter
            }), this.filters.unshift({name: "folder", fn: this._folderFilter})
        }

        function h(b) {
            var c = a.isElement(b), d = c ? b.value : b, e = a.isString(d) ? "FakePath" : "Object", f = "_createFrom" + e;
            this[f](d)
        }

        function i(b, c, d) {
            var e = a.isElement(c), f = e ? a.element(c) : null, h = e ? null : c;
            a.extend(this, {
                url: b.url,
                alias: b.alias,
                headers: a.copy(b.headers),
                formData: a.copy(b.formData),
                removeAfterUpload: b.removeAfterUpload,
                withCredentials: b.withCredentials,
                method: b.method
            }, d, {
                uploader: b,
                file: new g.FileLikeObject(c),
                isReady: !1,
                isUploading: !1,
                isUploaded: !1,
                isSuccess: !1,
                isCancel: !1,
                isError: !1,
                progress: 0,
                index: null,
                _file: h,
                _input: f
            }), f && this._replaceNode(f)
        }

        function j(b) {
            a.extend(this, b), this.uploader._directives[this.prop].push(this), this._saveLinks(), this.bind()
        }

        function k() {
            k.super_.apply(this, arguments), this.uploader.isHTML5 || this.element.removeAttr("multiple"), this.element.prop("value", null)
        }

        function l() {
            l.super_.apply(this, arguments)
        }

        function m() {
            m.super_.apply(this, arguments)
        }

        return g.prototype.isHTML5 = !(!e.File || !e.FormData), g.prototype.addToQueue = function (b, c, d) {
            var e = this.isArrayLikeObject(b) ? b : [b], f = this._getFilters(d), h = this.queue.length, i = [];
            a.forEach(e, function (a) {
                var b = new g.FileLikeObject(a);
                if (this._isValidFile(b, f, c)) {
                    var d = new g.FileItem(this, a, c);
                    i.push(d), this.queue.push(d), this._onAfterAddingFile(d)
                } else {
                    var e = this.filters[this._failFilterIndex];
                    this._onWhenAddingFileFailed(b, e, c)
                }
            }, this), this.queue.length !== h && (this._onAfterAddingAll(i), this.progress = this._getTotalProgress()), this._render(), this.autoUpload && this.uploadAll()
        }, g.prototype.removeFromQueue = function (a) {
            var b = this.getIndexOfItem(a), c = this.queue[b];
            c.isUploading && c.cancel(), this.queue.splice(b, 1), c._destroy(), this.progress = this._getTotalProgress()
        }, g.prototype.clearQueue = function () {
            for (; this.queue.length;)this.queue[0].remove();
            this.progress = 0
        }, g.prototype.uploadItem = function (a) {
            var b = this.getIndexOfItem(a), c = this.queue[b], d = this.isHTML5 ? "_xhrTransport" : "_iframeTransport";
            c._prepareToUploading(), this.isUploading || (this.isUploading = !0, this[d](c))
        }, g.prototype.cancelItem = function (a) {
            var b = this.getIndexOfItem(a), c = this.queue[b], d = this.isHTML5 ? "_xhr" : "_form";
            c && c.isUploading && c[d].abort()
        }, g.prototype.uploadAll = function () {
            var b = this.getNotUploadedItems().filter(function (a) {
                return !a.isUploading
            });
            b.length && (a.forEach(b, function (a) {
                a._prepareToUploading()
            }), b[0].upload())
        }, g.prototype.cancelAll = function () {
            var b = this.getNotUploadedItems();
            a.forEach(b, function (a) {
                a.cancel()
            })
        }, g.prototype.isFile = function (a) {
            var b = e.File;
            return b && a instanceof b
        }, g.prototype.isFileLikeObject = function (a) {
            return a instanceof g.FileLikeObject
        }, g.prototype.isArrayLikeObject = function (b) {
            return a.isObject(b) && "length" in b
        }, g.prototype.getIndexOfItem = function (b) {
            return a.isNumber(b) ? b : this.queue.indexOf(b)
        }, g.prototype.getNotUploadedItems = function () {
            return this.queue.filter(function (a) {
                return !a.isUploaded
            })
        }, g.prototype.getReadyItems = function () {
            return this.queue.filter(function (a) {
                return a.isReady && !a.isUploading
            }).sort(function (a, b) {
                return a.index - b.index
            })
        }, g.prototype.destroy = function () {
            a.forEach(this._directives, function (b) {
                a.forEach(this._directives[b], function (a) {
                    a.destroy()
                }, this)
            }, this)
        }, g.prototype.onAfterAddingAll = function () {
        }, g.prototype.onAfterAddingFile = function () {
        }, g.prototype.onWhenAddingFileFailed = function () {
        }, g.prototype.onBeforeUploadItem = function () {
        }, g.prototype.onProgressItem = function () {
        }, g.prototype.onProgressAll = function () {
        }, g.prototype.onSuccessItem = function () {
        }, g.prototype.onErrorItem = function () {
        }, g.prototype.onCancelItem = function () {
        }, g.prototype.onCompleteItem = function () {
        }, g.prototype.onCompleteAll = function () {
        }, g.prototype._getTotalProgress = function (a) {
            if (this.removeAfterUpload)return a || 0;
            var b = this.getNotUploadedItems().length, c = b ? this.queue.length - b : this.queue.length, d = 100 / this.queue.length, e = (a || 0) * d / 100;
            return Math.round(c * d + e)
        }, g.prototype._getFilters = function (b) {
            if (a.isUndefined(b))return this.filters;
            if (a.isArray(b))return b;
            var c = b.split(/\s*,/);
            return this.filters.filter(function (a) {
                return -1 !== c.indexOf(a.name)
            }, this)
        }, g.prototype._render = function () {
            c.$$phase || c.$apply()
        }, g.prototype._folderFilter = function (a) {
            return !(!a.size && !a.type)
        }, g.prototype._queueLimitFilter = function () {
            return this.queue.length < this.queueLimit
        }, g.prototype._isValidFile = function (a, b, c) {
            return this._failFilterIndex = -1, b.length ? b.every(function (b) {
                return this._failFilterIndex++, b.fn.call(this, a, c)
            }, this) : !0
        }, g.prototype._isSuccessCode = function (a) {
            return a >= 200 && 300 > a || 304 === a
        }, g.prototype._transformResponse = function (b) {
            return a.forEach(d.defaults.transformResponse, function (a) {
                b = a(b)
            }), b
        }, g.prototype._parseHeaders = function (b) {
            function c(a) {
                return a.replace(/^\s+/, "").replace(/\s+$/, "")
            }

            function d(a) {
                return a.toLowerCase()
            }

            var e, f, g, h = {};
            return b ? (a.forEach(b.split("\n"), function (a) {
                g = a.indexOf(":"), e = d(c(a.substr(0, g))), f = c(a.substr(g + 1)), e && (h[e] = h[e] ? h[e] + ", " + f : f)
            }), h) : h
        }, g.prototype._xhrTransport = function (b) {
            var c = b._xhr = new XMLHttpRequest, d = new FormData, e = this;
            e._onBeforeUploadItem(b), a.forEach(b.formData, function (b) {
                a.forEach(b, function (a, b) {
                    d.append(b, a)
                })
            }), d.append(b.alias, b._file, b.file.name), c.upload.onprogress = function (a) {
                var c = Math.round(a.lengthComputable ? 100 * a.loaded / a.total : 0);
                e._onProgressItem(b, c)
            }, c.onload = function () {
                var a = e._parseHeaders(c.getAllResponseHeaders()), d = e._transformResponse(c.response), f = e._isSuccessCode(c.status) ? "Success" : "Error", g = "_on" + f + "Item";
                e[g](b, d, c.status, a), e._onCompleteItem(b, d, c.status, a)
            }, c.onerror = function () {
                var a = e._parseHeaders(c.getAllResponseHeaders()), d = e._transformResponse(c.response);
                e._onErrorItem(b, d, c.status, a), e._onCompleteItem(b, d, c.status, a)
            }, c.onabort = function () {
                var a = e._parseHeaders(c.getAllResponseHeaders()), d = e._transformResponse(c.response);
                e._onCancelItem(b, d, c.status, a), e._onCompleteItem(b, d, c.status, a)
            }, c.open(b.method, b.url, !0), c.withCredentials = b.withCredentials, a.forEach(b.headers, function (a, b) {
                c.setRequestHeader(b, a)
            }), c.send(d), this._render()
        }, g.prototype._iframeTransport = function (b) {
            var c = a.element('<form style="display: none;" />'), d = a.element('<iframe name="iframeTransport' + Date.now() + '">'), e = b._input, f = this;
            b._form && b._form.replaceWith(e), b._form = c, f._onBeforeUploadItem(b), e.prop("name", b.alias), a.forEach(b.formData, function (b) {
                a.forEach(b, function (b, d) {
                    c.append(a.element('<input type="hidden" name="' + d + '" value="' + b + '" />'))
                })
            }), c.prop({
                action: b.url,
                method: "POST",
                target: d.prop("name"),
                enctype: "multipart/form-data",
                encoding: "multipart/form-data"
            }), d.bind("load", function () {
                try {
                    var a = d[0].contentDocument.body.innerHTML
                } catch (c) {
                }
                var e = {response: a, status: 200, dummy: !0}, g = f._transformResponse(e.response), h = {};
                f._onSuccessItem(b, g, e.status, h), f._onCompleteItem(b, g, e.status, h)
            }), c.abort = function () {
                var a, g = {status: 0, dummy: !0}, h = {};
                d.unbind("load").prop("src", "javascript:false;"), c.replaceWith(e), f._onCancelItem(b, a, g.status, h), f._onCompleteItem(b, a, g.status, h)
            }, e.after(c), c.append(e).append(d), c[0].submit(), this._render()
        }, g.prototype._onWhenAddingFileFailed = function (a, b, c) {
            this.onWhenAddingFileFailed(a, b, c)
        }, g.prototype._onAfterAddingFile = function (a) {
            this.onAfterAddingFile(a)
        }, g.prototype._onAfterAddingAll = function (a) {
            this.onAfterAddingAll(a)
        }, g.prototype._onBeforeUploadItem = function (a) {
            a._onBeforeUpload(), this.onBeforeUploadItem(a)
        }, g.prototype._onProgressItem = function (a, b) {
            var c = this._getTotalProgress(b);
            this.progress = c, a._onProgress(b), this.onProgressItem(a, b), this.onProgressAll(c), this._render()
        }, g.prototype._onSuccessItem = function (a, b, c, d) {
            a._onSuccess(b, c, d), this.onSuccessItem(a, b, c, d)
        }, g.prototype._onErrorItem = function (a, b, c, d) {
            a._onError(b, c, d), this.onErrorItem(a, b, c, d)
        }, g.prototype._onCancelItem = function (a, b, c, d) {
            a._onCancel(b, c, d), this.onCancelItem(a, b, c, d)
        }, g.prototype._onCompleteItem = function (b, c, d, e) {
            b._onComplete(c, d, e), this.onCompleteItem(b, c, d, e);
            var f = this.getReadyItems()[0];
            return this.isUploading = !1, a.isDefined(f) ? void f.upload() : (this.onCompleteAll(), this.progress = this._getTotalProgress(), void this._render())
        }, g.isFile = g.prototype.isFile, g.isFileLikeObject = g.prototype.isFileLikeObject, g.isArrayLikeObject = g.prototype.isArrayLikeObject, g.isHTML5 = g.prototype.isHTML5, g.inherit = function (a, b) {
            a.prototype = Object.create(b.prototype), a.prototype.constructor = a, a.super_ = b
        }, g.FileLikeObject = h, g.FileItem = i, g.FileDirective = j, g.FileSelect = k, g.FileDrop = l, g.FileOver = m, h.prototype._createFromFakePath = function (a) {
            this.lastModifiedDate = null, this.size = null, this.type = "like/" + a.slice(a.lastIndexOf(".") + 1).toLowerCase(), this.name = a.slice(a.lastIndexOf("/") + a.lastIndexOf("\\") + 2)
        }, h.prototype._createFromObject = function (b) {
            this.lastModifiedDate = a.copy(b.lastModifiedDate), this.size = b.size, this.type = b.type, this.name = b.name
        }, i.prototype.upload = function () {
            this.uploader.uploadItem(this)
        }, i.prototype.cancel = function () {
            this.uploader.cancelItem(this)
        }, i.prototype.remove = function () {
            this.uploader.removeFromQueue(this)
        }, i.prototype.onBeforeUpload = function () {
        }, i.prototype.onProgress = function () {
        }, i.prototype.onSuccess = function () {
        }, i.prototype.onError = function () {
        }, i.prototype.onCancel = function () {
        }, i.prototype.onComplete = function () {
        }, i.prototype._onBeforeUpload = function () {
            this.isReady = !0, this.isUploading = !0, this.isUploaded = !1, this.isSuccess = !1, this.isCancel = !1, this.isError = !1, this.progress = 0, this.onBeforeUpload()
        }, i.prototype._onProgress = function (a) {
            this.progress = a, this.onProgress(a)
        }, i.prototype._onSuccess = function (a, b, c) {
            this.isReady = !1, this.isUploading = !1, this.isUploaded = !0, this.isSuccess = !0, this.isCancel = !1, this.isError = !1, this.progress = 100, this.index = null, this.onSuccess(a, b, c)
        }, i.prototype._onError = function (a, b, c) {
            this.isReady = !1, this.isUploading = !1, this.isUploaded = !0, this.isSuccess = !1, this.isCancel = !1, this.isError = !0, this.progress = 0, this.index = null, this.onError(a, b, c)
        }, i.prototype._onCancel = function (a, b, c) {
            this.isReady = !1, this.isUploading = !1, this.isUploaded = !1, this.isSuccess = !1, this.isCancel = !0, this.isError = !1, this.progress = 0, this.index = null, this.onCancel(a, b, c)
        }, i.prototype._onComplete = function (a, b, c) {
            this.onComplete(a, b, c), this.removeAfterUpload && this.remove()
        }, i.prototype._destroy = function () {
            this._input && this._input.remove(), this._form && this._form.remove(), delete this._form, delete this._input
        }, i.prototype._prepareToUploading = function () {
            this.index = this.index || ++this.uploader._nextIndex, this.isReady = !0
        }, i.prototype._replaceNode = function (a) {
            var b = f(a.clone())(a.scope());
            b.prop("value", null), a.css("display", "none"), a.after(b)
        }, j.prototype.events = {}, j.prototype.bind = function () {
            for (var a in this.events) {
                var b = this.events[a];
                this.element.bind(a, this[b])
            }
        }, j.prototype.unbind = function () {
            for (var a in this.events)this.element.unbind(a, this.events[a])
        }, j.prototype.destroy = function () {
            var a = this.uploader._directives[this.prop].indexOf(this);
            this.uploader._directives[this.prop].splice(a, 1), this.unbind()
        }, j.prototype._saveLinks = function () {
            for (var a in this.events) {
                var b = this.events[a];
                this[b] = this[b].bind(this)
            }
        }, g.inherit(k, j), k.prototype.events = {
            $destroy: "destroy",
            change: "onChange"
        }, k.prototype.prop = "select", k.prototype.getOptions = function () {
        }, k.prototype.getFilters = function () {
        }, k.prototype.isEmptyAfterSelection = function () {
            return !!this.element.attr("multiple")
        }, k.prototype.onChange = function () {
            var a = this.uploader.isHTML5 ? this.element[0].files : this.element[0], b = this.getOptions(), c = this.getFilters();
            this.uploader.isHTML5 || this.destroy(), this.uploader.addToQueue(a, b, c), this.isEmptyAfterSelection() && this.element.prop("value", null)
        }, g.inherit(l, j), l.prototype.events = {
            $destroy: "destroy",
            drop: "onDrop",
            dragover: "onDragOver",
            dragleave: "onDragLeave"
        }, l.prototype.prop = "drop", l.prototype.getOptions = function () {
        }, l.prototype.getFilters = function () {
        }, l.prototype.onDrop = function (b) {
            var c = this._getTransfer(b);
            if (c) {
                var d = this.getOptions(), e = this.getFilters();
                this._preventAndStop(b), a.forEach(this.uploader._directives.over, this._removeOverClass, this), this.uploader.addToQueue(c.files, d, e)
            }
        }, l.prototype.onDragOver = function (b) {
            var c = this._getTransfer(b);
            this._haveFiles(c.types) && (c.dropEffect = "copy", this._preventAndStop(b), a.forEach(this.uploader._directives.over, this._addOverClass, this))
        }, l.prototype.onDragLeave = function (b) {
            b.target === this.element[0] && (this._preventAndStop(b), a.forEach(this.uploader._directives.over, this._removeOverClass, this))
        }, l.prototype._getTransfer = function (a) {
            return a.dataTransfer ? a.dataTransfer : a.originalEvent.dataTransfer
        }, l.prototype._preventAndStop = function (a) {
            a.preventDefault(), a.stopPropagation()
        }, l.prototype._haveFiles = function (a) {
            return a ? a.indexOf ? -1 !== a.indexOf("Files") : a.contains ? a.contains("Files") : !1 : !1
        }, l.prototype._addOverClass = function (a) {
            a.addOverClass()
        },l.prototype._removeOverClass = function (a) {
            a.removeOverClass()
        },g.inherit(m, j),m.prototype.events = {$destroy: "destroy"},m.prototype.prop = "over",m.prototype.overClass = "nv-file-over",m.prototype.addOverClass = function () {
            this.element.addClass(this.getOverClass())
        },m.prototype.removeOverClass = function () {
            this.element.removeClass(this.getOverClass())
        },m.prototype.getOverClass = function () {
            return this.overClass
        },g
    }]).directive("nvFileSelect", ["$parse", "FileUploader", function (a, b) {
        return {
            link: function (c, d, e) {
                var f = c.$eval(e.uploader);
                if (!(f instanceof b))throw new TypeError('"Uploader" must be an instance of FileUploader');
                var g = new b.FileSelect({uploader: f, element: d});
                g.getOptions = a(e.options).bind(g, c), g.getFilters = function () {
                    return e.filters
                }
            }
        }
    }]).directive("nvFileDrop", ["$parse", "FileUploader", function (a, b) {
        return {
            link: function (c, d, e) {
                var f = c.$eval(e.uploader);
                if (!(f instanceof b))throw new TypeError('"Uploader" must be an instance of FileUploader');
                if (f.isHTML5) {
                    var g = new b.FileDrop({uploader: f, element: d});
                    g.getOptions = a(e.options).bind(g, c), g.getFilters = function () {
                        return e.filters
                    }
                }
            }
        }
    }]).directive("nvFileOver", ["FileUploader", function (a) {
        return {
            link: function (b, c, d) {
                var e = b.$eval(d.uploader);
                if (!(e instanceof a))throw new TypeError('"Uploader" must be an instance of FileUploader');
                var f = new a.FileOver({uploader: e, element: c});
                f.getOverClass = function () {
                    return d.overClass || this.overClass
                }
            }
        }
    }]), b
}),!function () {
    "use strict";
    var a = angular.module("ngImgCrop", []);
    a.factory("cropAreaCircle", ["cropArea", function (a) {
        var b = function () {
            a.apply(this, arguments), this._boxResizeBaseSize = 20, this._boxResizeNormalRatio = .9, this._boxResizeHoverRatio = 1.2, this._iconMoveNormalRatio = .9, this._iconMoveHoverRatio = 1.2, this._boxResizeNormalSize = this._boxResizeBaseSize * this._boxResizeNormalRatio, this._boxResizeHoverSize = this._boxResizeBaseSize * this._boxResizeHoverRatio, this._posDragStartX = 0, this._posDragStartY = 0, this._posResizeStartX = 0, this._posResizeStartY = 0, this._posResizeStartSize = 0, this._boxResizeIsHover = !1, this._areaIsHover = !1, this._boxResizeIsDragging = !1, this._areaIsDragging = !1
        };
        return b.prototype = new a, b.prototype._calcCirclePerimeterCoords = function (a) {
            var b = this._size / 2, c = a * (Math.PI / 180), d = this._x + b * Math.cos(c), e = this._y + b * Math.sin(c);
            return [d, e]
        }, b.prototype._calcResizeIconCenterCoords = function () {
            return this._calcCirclePerimeterCoords(-45)
        }, b.prototype._isCoordWithinArea = function (a) {
            return Math.sqrt((a[0] - this._x) * (a[0] - this._x) + (a[1] - this._y) * (a[1] - this._y)) < this._size / 2
        }, b.prototype._isCoordWithinBoxResize = function (a) {
            var b = this._calcResizeIconCenterCoords(), c = this._boxResizeHoverSize / 2;
            return a[0] > b[0] - c && a[0] < b[0] + c && a[1] > b[1] - c && a[1] < b[1] + c
        }, b.prototype._drawArea = function (a, b, c) {
            a.arc(b[0], b[1], c / 2, 0, 2 * Math.PI)
        }, b.prototype.draw = function () {
            a.prototype.draw.apply(this, arguments), this._cropCanvas.drawIconMove([this._x, this._y], this._areaIsHover ? this._iconMoveHoverRatio : this._iconMoveNormalRatio), this._cropCanvas.drawIconResizeBoxNESW(this._calcResizeIconCenterCoords(), this._boxResizeBaseSize, this._boxResizeIsHover ? this._boxResizeHoverRatio : this._boxResizeNormalRatio)
        }, b.prototype.processMouseMove = function (a, b) {
            var c = "default", d = !1;
            if (this._boxResizeIsHover = !1, this._areaIsHover = !1, this._areaIsDragging)this._x = a - this._posDragStartX, this._y = b - this._posDragStartY, this._areaIsHover = !0, c = "move", d = !0, this._events.trigger("area-move"); else if (this._boxResizeIsDragging) {
                c = "nesw-resize";
                var e, f, g;
                f = a - this._posResizeStartX, g = this._posResizeStartY - b, e = f > g ? this._posResizeStartSize + 2 * g : this._posResizeStartSize + 2 * f, this._size = Math.max(this._minSize, e), this._boxResizeIsHover = !0, d = !0, this._events.trigger("area-resize")
            } else this._isCoordWithinBoxResize([a, b]) ? (c = "nesw-resize", this._areaIsHover = !1, this._boxResizeIsHover = !0, d = !0) : this._isCoordWithinArea([a, b]) && (c = "move", this._areaIsHover = !0, d = !0);
            return this._dontDragOutside(), angular.element(this._ctx.canvas).css({cursor: c}), d
        }, b.prototype.processMouseDown = function (a, b) {
            this._isCoordWithinBoxResize([a, b]) ? (this._areaIsDragging = !1, this._areaIsHover = !1, this._boxResizeIsDragging = !0, this._boxResizeIsHover = !0, this._posResizeStartX = a, this._posResizeStartY = b, this._posResizeStartSize = this._size, this._events.trigger("area-resize-start")) : this._isCoordWithinArea([a, b]) && (this._areaIsDragging = !0, this._areaIsHover = !0, this._boxResizeIsDragging = !1, this._boxResizeIsHover = !1, this._posDragStartX = a - this._x, this._posDragStartY = b - this._y, this._events.trigger("area-move-start"))
        }, b.prototype.processMouseUp = function () {
            this._areaIsDragging && (this._areaIsDragging = !1, this._events.trigger("area-move-end")), this._boxResizeIsDragging && (this._boxResizeIsDragging = !1, this._events.trigger("area-resize-end")), this._areaIsHover = !1, this._boxResizeIsHover = !1, this._posDragStartX = 0, this._posDragStartY = 0
        }, b
    }]), a.factory("cropAreaSquare", ["cropArea", function (a) {
        var b = function () {
            a.apply(this, arguments), this._resizeCtrlBaseRadius = 10, this._resizeCtrlNormalRatio = .75, this._resizeCtrlHoverRatio = 1, this._iconMoveNormalRatio = .9, this._iconMoveHoverRatio = 1.2, this._resizeCtrlNormalRadius = this._resizeCtrlBaseRadius * this._resizeCtrlNormalRatio, this._resizeCtrlHoverRadius = this._resizeCtrlBaseRadius * this._resizeCtrlHoverRatio, this._posDragStartX = 0, this._posDragStartY = 0, this._posResizeStartX = 0, this._posResizeStartY = 0, this._posResizeStartSize = 0, this._resizeCtrlIsHover = -1, this._areaIsHover = !1, this._resizeCtrlIsDragging = -1, this._areaIsDragging = !1
        };
        return b.prototype = new a, b.prototype._calcSquareCorners = function () {
            var a = this._size / 2;
            return [[this._x - a, this._y - a], [this._x + a, this._y - a], [this._x - a, this._y + a], [this._x + a, this._y + a]]
        }, b.prototype._calcSquareDimensions = function () {
            var a = this._size / 2;
            return {left: this._x - a, top: this._y - a, right: this._x + a, bottom: this._y + a}
        }, b.prototype._isCoordWithinArea = function (a) {
            var b = this._calcSquareDimensions();
            return a[0] >= b.left && a[0] <= b.right && a[1] >= b.top && a[1] <= b.bottom
        }, b.prototype._isCoordWithinResizeCtrl = function (a) {
            for (var b = this._calcSquareCorners(), c = -1, d = 0, e = b.length; e > d; d++) {
                var f = b[d];
                if (a[0] > f[0] - this._resizeCtrlHoverRadius && a[0] < f[0] + this._resizeCtrlHoverRadius && a[1] > f[1] - this._resizeCtrlHoverRadius && a[1] < f[1] + this._resizeCtrlHoverRadius) {
                    c = d;
                    break
                }
            }
            return c
        }, b.prototype._drawArea = function (a, b, c) {
            var d = c / 2;
            a.rect(b[0] - d, b[1] - d, c, c)
        }, b.prototype.draw = function () {
            a.prototype.draw.apply(this, arguments), this._cropCanvas.drawIconMove([this._x, this._y], this._areaIsHover ? this._iconMoveHoverRatio : this._iconMoveNormalRatio);
            for (var b = this._calcSquareCorners(), c = 0, d = b.length; d > c; c++) {
                var e = b[c];
                this._cropCanvas.drawIconResizeCircle(e, this._resizeCtrlBaseRadius, this._resizeCtrlIsHover === c ? this._resizeCtrlHoverRatio : this._resizeCtrlNormalRatio)
            }
        }, b.prototype.processMouseMove = function (a, b) {
            var c = "default", d = !1;
            if (this._resizeCtrlIsHover = -1, this._areaIsHover = !1, this._areaIsDragging)this._x = a - this._posDragStartX, this._y = b - this._posDragStartY, this._areaIsHover = !0, c = "move", d = !0, this._events.trigger("area-move"); else if (this._resizeCtrlIsDragging > -1) {
                var e, f;
                switch (this._resizeCtrlIsDragging) {
                    case 0:
                        e = -1, f = -1, c = "nwse-resize";
                        break;
                    case 1:
                        e = 1, f = -1, c = "nesw-resize";
                        break;
                    case 2:
                        e = -1, f = 1, c = "nesw-resize";
                        break;
                    case 3:
                        e = 1, f = 1, c = "nwse-resize"
                }
                var g, h = (a - this._posResizeStartX) * e, i = (b - this._posResizeStartY) * f;
                g = h > i ? this._posResizeStartSize + i : this._posResizeStartSize + h;
                var j = this._size;
                this._size = Math.max(this._minSize, g);
                var k = (this._size - j) / 2;
                this._x += k * e, this._y += k * f, this._resizeCtrlIsHover = this._resizeCtrlIsDragging, d = !0, this._events.trigger("area-resize")
            } else {
                var l = this._isCoordWithinResizeCtrl([a, b]);
                if (l > -1) {
                    switch (l) {
                        case 0:
                            c = "nwse-resize";
                            break;
                        case 1:
                            c = "nesw-resize";
                            break;
                        case 2:
                            c = "nesw-resize";
                            break;
                        case 3:
                            c = "nwse-resize"
                    }
                    this._areaIsHover = !1, this._resizeCtrlIsHover = l, d = !0
                } else this._isCoordWithinArea([a, b]) && (c = "move", this._areaIsHover = !0, d = !0)
            }
            return this._dontDragOutside(), angular.element(this._ctx.canvas).css({cursor: c}), d
        }, b.prototype.processMouseDown = function (a, b) {
            var c = this._isCoordWithinResizeCtrl([a, b]);
            c > -1 ? (this._areaIsDragging = !1, this._areaIsHover = !1, this._resizeCtrlIsDragging = c, this._resizeCtrlIsHover = c, this._posResizeStartX = a, this._posResizeStartY = b, this._posResizeStartSize = this._size, this._events.trigger("area-resize-start")) : this._isCoordWithinArea([a, b]) && (this._areaIsDragging = !0, this._areaIsHover = !0, this._resizeCtrlIsDragging = -1, this._resizeCtrlIsHover = -1, this._posDragStartX = a - this._x, this._posDragStartY = b - this._y, this._events.trigger("area-move-start"))
        }, b.prototype.processMouseUp = function () {
            this._areaIsDragging && (this._areaIsDragging = !1, this._events.trigger("area-move-end")), this._resizeCtrlIsDragging > -1 && (this._resizeCtrlIsDragging = -1, this._events.trigger("area-resize-end")), this._areaIsHover = !1, this._resizeCtrlIsHover = -1, this._posDragStartX = 0, this._posDragStartY = 0
        }, b
    }]), a.factory("cropArea", ["cropCanvas", function (a) {
        var b = function (b, c) {
            this._ctx = b, this._events = c, this._minSize = 80, this._cropCanvas = new a(b), this._image = new Image, this._x = 0, this._y = 0, this._size = 200
        };
        return b.prototype.getImage = function () {
            return this._image
        }, b.prototype.setImage = function (a) {
            this._image = a
        }, b.prototype.getX = function () {
            return this._x
        }, b.prototype.setX = function (a) {
            this._x = a, this._dontDragOutside()
        }, b.prototype.getY = function () {
            return this._y
        }, b.prototype.setY = function (a) {
            this._y = a, this._dontDragOutside()
        }, b.prototype.getSize = function () {
            return this._size
        }, b.prototype.setSize = function (a) {
            this._size = Math.max(this._minSize, a), this._dontDragOutside()
        }, b.prototype.getMinSize = function () {
            return this._minSize
        }, b.prototype.setMinSize = function (a) {
            this._minSize = a, this._size = Math.max(this._minSize, this._size), this._dontDragOutside()
        }, b.prototype._dontDragOutside = function () {
            var a = this._ctx.canvas.height, b = this._ctx.canvas.width;
            this._size > b && (this._size = b), this._size > a && (this._size = a), this._x < this._size / 2 && (this._x = this._size / 2), this._x > b - this._size / 2 && (this._x = b - this._size / 2), this._y < this._size / 2 && (this._y = this._size / 2), this._y > a - this._size / 2 && (this._y = a - this._size / 2)
        }, b.prototype._drawArea = function () {
        }, b.prototype.draw = function () {
            this._cropCanvas.drawCropArea(this._image, [this._x, this._y], this._size, this._drawArea)
        }, b.prototype.processMouseMove = function () {
        }, b.prototype.processMouseDown = function () {
        }, b.prototype.processMouseUp = function () {
        }, b
    }]), a.factory("cropCanvas", [function () {
        var a = [[-.5, -2], [-3, -4.5], [-.5, -7], [-7, -7], [-7, -.5], [-4.5, -3], [-2, -.5]], b = [[.5, -2], [3, -4.5], [.5, -7], [7, -7], [7, -.5], [4.5, -3], [2, -.5]], c = [[-.5, 2], [-3, 4.5], [-.5, 7], [-7, 7], [-7, .5], [-4.5, 3], [-2, .5]], d = [[.5, 2], [3, 4.5], [.5, 7], [7, 7], [7, .5], [4.5, 3], [2, .5]], e = [[-1.5, -2.5], [-1.5, -6], [-5, -6], [0, -11], [5, -6], [1.5, -6], [1.5, -2.5]], f = [[-2.5, -1.5], [-6, -1.5], [-6, -5], [-11, 0], [-6, 5], [-6, 1.5], [-2.5, 1.5]], g = [[-1.5, 2.5], [-1.5, 6], [-5, 6], [0, 11], [5, 6], [1.5, 6], [1.5, 2.5]], h = [[2.5, -1.5], [6, -1.5], [6, -5], [11, 0], [6, 5], [6, 1.5], [2.5, 1.5]], i = {
            areaOutline: "#fff",
            resizeBoxStroke: "#fff",
            resizeBoxFill: "#444",
            resizeBoxArrowFill: "#fff",
            resizeCircleStroke: "#fff",
            resizeCircleFill: "#444",
            moveIconFill: "#fff"
        };
        return function (j) {
            var k = function (a, b, c) {
                return [c * a[0] + b[0], c * a[1] + b[1]]
            }, l = function (a, b, c, d) {
                j.save(), j.fillStyle = b, j.beginPath();
                var e, f = k(a[0], c, d);
                j.moveTo(f[0], f[1]);
                for (var g in a)g > 0 && (e = k(a[g], c, d), j.lineTo(e[0], e[1]));
                j.lineTo(f[0], f[1]), j.fill(), j.closePath(), j.restore()
            };
            this.drawIconMove = function (a, b) {
                l(e, i.moveIconFill, a, b), l(f, i.moveIconFill, a, b), l(g, i.moveIconFill, a, b), l(h, i.moveIconFill, a, b)
            }, this.drawIconResizeCircle = function (a, b, c) {
                var d = b * c;
                j.save(), j.strokeStyle = i.resizeCircleStroke, j.lineWidth = 2, j.fillStyle = i.resizeCircleFill, j.beginPath(), j.arc(a[0], a[1], d, 0, 2 * Math.PI), j.fill(), j.stroke(), j.closePath(), j.restore()
            }, this.drawIconResizeBoxBase = function (a, b, c) {
                var d = b * c;
                j.save(), j.strokeStyle = i.resizeBoxStroke, j.lineWidth = 2, j.fillStyle = i.resizeBoxFill, j.fillRect(a[0] - d / 2, a[1] - d / 2, d, d), j.strokeRect(a[0] - d / 2, a[1] - d / 2, d, d), j.restore()
            }, this.drawIconResizeBoxNESW = function (a, d, e) {
                this.drawIconResizeBoxBase(a, d, e), l(b, i.resizeBoxArrowFill, a, e), l(c, i.resizeBoxArrowFill, a, e)
            }, this.drawIconResizeBoxNWSE = function (b, c, e) {
                this.drawIconResizeBoxBase(b, c, e), l(a, i.resizeBoxArrowFill, b, e), l(d, i.resizeBoxArrowFill, b, e)
            }, this.drawCropArea = function (a, b, c, d) {
                var e = a.width / j.canvas.width, f = a.height / j.canvas.height, g = b[0] - c / 2, h = b[1] - c / 2;
                j.save(), j.strokeStyle = i.areaOutline, j.lineWidth = 2, j.beginPath(), d(j, b, c), j.stroke(), j.clip(), c > 0 && j.drawImage(a, g * e, h * f, c * e, c * f, g, h, c, c), j.beginPath(), d(j, b, c), j.stroke(), j.clip(), j.restore()
            }
        }
    }]), a.factory("cropHost", ["$document", "cropAreaCircle", "cropAreaSquare", function (a, b, c) {
        var d = function (a) {
            var b = a.getBoundingClientRect(), c = document.body, d = document.documentElement, e = window.pageYOffset || d.scrollTop || c.scrollTop, f = window.pageXOffset || d.scrollLeft || c.scrollLeft, g = d.clientTop || c.clientTop || 0, h = d.clientLeft || c.clientLeft || 0, i = b.top + e - g, j = b.left + f - h;
            return {top: Math.round(i), left: Math.round(j)}
        };
        return function (e, f, g) {
            function h() {
                i.clearRect(0, 0, i.canvas.width, i.canvas.height), null !== j && (i.drawImage(j, 0, 0, i.canvas.width, i.canvas.height), i.save(), i.fillStyle = "rgba(0, 0, 0, 0.65)", i.fillRect(0, 0, i.canvas.width, i.canvas.height), i.restore(), k.draw())
            }

            var i = null, j = null, k = null, l = [100, 100], m = [300, 300], n = 200, o = function () {
                if (null !== j) {
                    k.setImage(j);
                    var a = [j.width, j.height], b = j.width / j.height, c = a;
                    c[0] > m[0] ? (c[0] = m[0], c[1] = c[0] / b) : c[0] < l[0] && (c[0] = l[0], c[1] = c[0] / b), c[1] > m[1] ? (c[1] = m[1], c[0] = c[1] * b) : c[1] < l[1] && (c[1] = l[1], c[0] = c[1] * b), e.prop("width", c[0]).prop("height", c[1]).css({
                        "margin-left": -c[0] / 2 + "px",
                        "margin-top": -c[1] / 2 + "px"
                    }), k.setX(i.canvas.width / 2), k.setY(i.canvas.height / 2), k.setSize(Math.min(200, i.canvas.width / 2, i.canvas.height / 2))
                } else e.prop("width", 0).prop("height", 0).css({"margin-top": 0});
                h()
            }, p = function (a) {
                if (null !== j) {
                    var b, c, e = d(i.canvas);
                    "touchmove" === a.type ? (b = a.changedTouches[0].pageX, c = a.changedTouches[0].pageY) : (b = a.pageX, c = a.pageY), k.processMouseMove(b - e.left, c - e.top), h()
                }
            }, q = function (a) {
                if (a.preventDefault(), a.stopPropagation(), null !== j) {
                    var b, c, e = d(i.canvas);
                    "touchstart" === a.type ? (b = a.changedTouches[0].pageX, c = a.changedTouches[0].pageY) : (b = a.pageX, c = a.pageY), k.processMouseDown(b - e.left, c - e.top), h()
                }
            }, r = function (a) {
                if (null !== j) {
                    var b, c, e = d(i.canvas);
                    "touchend" === a.type ? (b = a.changedTouches[0].pageX, c = a.changedTouches[0].pageY) : (b = a.pageX, c = a.pageY), k.processMouseUp(b - e.left, c - e.top), h()
                }
            };
            this.getResultImageDataURI = function () {
                var a, b;
                return b = angular.element("<canvas></canvas>")[0], a = b.getContext("2d"), b.width = n, b.height = n, null !== j && a.drawImage(j, (k.getX() - k.getSize() / 2) * (j.width / i.canvas.width), (k.getY() - k.getSize() / 2) * (j.height / i.canvas.height), k.getSize() * (j.width / i.canvas.width), k.getSize() * (j.height / i.canvas.height), 0, 0, n, n), b.toDataURL()
            }, this.setNewImageSource = function (a) {
                if (j = null, o(), g.trigger("image-updated"), a) {
                    var b = new Image;
                    b.onload = function () {
                        g.trigger("load-done"), j = b, o(), g.trigger("image-updated")
                    }, b.onerror = function () {
                        g.trigger("load-error")
                    }, g.trigger("load-start"), b.src = a
                }
            }, this.setMaxDimensions = function (a, b) {
                if (m = [a, b], null !== j) {
                    var c = i.canvas.width, d = i.canvas.height, f = [j.width, j.height], g = j.width / j.height, n = f;
                    n[0] > m[0] ? (n[0] = m[0], n[1] = n[0] / g) : n[0] < l[0] && (n[0] = l[0], n[1] = n[0] / g), n[1] > m[1] ? (n[1] = m[1], n[0] = n[1] * g) : n[1] < l[1] && (n[1] = l[1], n[0] = n[1] * g), e.prop("width", n[0]).prop("height", n[1]).css({
                        "margin-left": -n[0] / 2 + "px",
                        "margin-top": -n[1] / 2 + "px"
                    });
                    var o = i.canvas.width / c, p = i.canvas.height / d, q = Math.min(o, p);
                    k.setX(k.getX() * o), k.setY(k.getY() * p), k.setSize(k.getSize() * q)
                } else e.prop("width", 0).prop("height", 0).css({"margin-top": 0});
                h()
            }, this.setAreaMinSize = function (a) {
                a = parseInt(a, 10), isNaN(a) || (k.setMinSize(a), h())
            }, this.setResultImageSize = function (a) {
                a = parseInt(a, 10), isNaN(a) || (n = a)
            }, this.setAreaType = function (a) {
                var d = k.getSize(), e = k.getMinSize(), f = k.getX(), l = k.getY(), m = b;
                "square" === a && (m = c), k = new m(i, g), k.setMinSize(e), k.setSize(d), k.setX(f), k.setY(l), null !== j && k.setImage(j), h()
            }, i = e[0].getContext("2d"), k = new b(i, g), a.on("mousemove", p), e.on("mousedown", q), a.on("mouseup", r), a.on("touchmove", p), e.on("touchstart", q), a.on("touchend", r), this.destroy = function () {
                a.off("mousemove", p), e.off("mousedown", q), a.off("mouseup", p), a.off("touchmove", p), e.off("touchstart", q), a.off("touchend", p), e.remove()
            }
        }
    }]), a.factory("cropPubSub", [function () {
        return function () {
            var a = {};
            this.on = function (b, c) {
                return b.split(" ").forEach(function (b) {
                    a[b] || (a[b] = []), a[b].push(c)
                }), this
            }, this.trigger = function (b, c) {
                return angular.forEach(a[b], function (a) {
                    a.call(null, c)
                }), this
            }
        }
    }]), a.directive("imgCrop", ["$timeout", "cropHost", "cropPubSub", function (a, b, c) {
        return {
            restrict: "E",
            scope: {
                image: "=",
                resultImage: "=",
                changeOnFly: "=",
                areaType: "@",
                areaMinSize: "=",
                resultImageSize: "=",
                onChange: "&",
                onLoadBegin: "&",
                onLoadDone: "&",
                onLoadError: "&"
            },
            template: "<canvas></canvas>",
            controller: ["$scope", function (a) {
                a.events = new c
            }],
            link: function (c, d) {
                var e, f = c.events, g = new b(d.find("canvas"), {}, f), h = function (a) {
                    var b = g.getResultImageDataURI();
                    e !== b && (e = b, angular.isDefined(a.resultImage) && (a.resultImage = b), a.onChange({$dataURI: a.resultImage}))
                }, i = function (b) {
                    return function () {
                        a(function () {
                            c.$apply(function (a) {
                                b(a)
                            })
                        })
                    }
                };
                f.on("load-start", i(function (a) {
                    a.onLoadBegin({})
                })).on("load-done", i(function (a) {
                    a.onLoadDone({})
                })).on("load-error", i(function (a) {
                    a.onLoadError({})
                })).on("area-move area-resize", i(function (a) {
                    a.changeOnFly && h(a)
                })).on("area-move-end area-resize-end image-updated", i(function (a) {
                    h(a)
                })), c.$watch("image", function () {
                    g.setNewImageSource(c.image)
                }), c.$watch("areaType", function () {
                    g.setAreaType(c.areaType), h(c)
                }), c.$watch("areaMinSize", function () {
                    g.setAreaMinSize(c.areaMinSize), h(c)
                }), c.$watch("resultImageSize", function () {
                    g.setResultImageSize(c.resultImageSize), h(c)
                }), c.$watch(function () {
                    return [d[0].clientWidth, d[0].clientHeight]
                }, function (a) {
                    g.setMaxDimensions(a[0], a[1]), h(c)
                }, !0), c.$on("$destroy", function () {
                    g.destroy()
                })
            }
        }
    }])
}();
var duScrollDefaultEasing = function (a) {
    "use strict";
    return .5 > a ? Math.pow(2 * a, 2) / 2 : 1 - Math.pow(2 * (1 - a), 2) / 2
};
angular.module("duScroll", ["duScroll.scrollspy", "duScroll.smoothScroll", "duScroll.scrollContainer", "duScroll.spyContext", "duScroll.scrollHelpers"]).value("duScrollDuration", 350).value("duScrollSpyWait", 100).value("duScrollGreedy", !1).value("duScrollOffset", 0).value("duScrollEasing", duScrollDefaultEasing), angular.module("duScroll.scrollHelpers", ["duScroll.requestAnimation"]).run(["$window", "$q", "cancelAnimation", "requestAnimation", "duScrollEasing", "duScrollDuration", "duScrollOffset", function (a, b, c, d, e, f, g) {
    "use strict";
    var h = angular.element.prototype, i = function (a) {
        return "undefined" != typeof HTMLDocument && a instanceof HTMLDocument || a.nodeType && a.nodeType === a.DOCUMENT_NODE
    }, j = function (a) {
        return "undefined" != typeof HTMLElement && a instanceof HTMLElement || a.nodeType && a.nodeType === a.ELEMENT_NODE
    }, k = function (a) {
        return j(a) || i(a) ? a : a[0]
    };
    h.scrollTo = function (b, c, d) {
        var e;
        if (angular.isElement(b) ? e = this.scrollToElement : d && (e = this.scrollToAnimated), e)return e.apply(this, arguments);
        var f = k(this);
        return i(f) ? a.scrollTo(b, c) : (f.scrollLeft = b, void(f.scrollTop = c))
    };
    var l, m;
    h.scrollToAnimated = function (a, f, g, h) {
        g && !h && (h = e);
        var i = this.scrollLeft(), j = this.scrollTop(), k = Math.round(a - i), n = Math.round(f - j), o = null, p = this, q = "scroll mousedown mousewheel touchmove keydown", r = function (a) {
            (!a || a.which > 0) && (p.unbind(q, r), c(l), m.reject(), l = null)
        };
        if (l && r(), m = b.defer(), !k && !n)return m.resolve(), m.promise;
        var s = function (a) {
            null === o && (o = a);
            var b = a - o, c = b >= g ? 1 : h(b / g);
            p.scrollTo(i + Math.ceil(k * c), j + Math.ceil(n * c)), 1 > c ? l = d(s) : (p.unbind(q, r), l = null, m.resolve())
        };
        return p.scrollTo(i, j), p.bind(q, r), l = d(s), m.promise
    }, h.scrollToElement = function (a, b, c, d) {
        var e = k(this);
        (!angular.isNumber(b) || isNaN(b)) && (b = g);
        var f = this.scrollTop() + k(a).getBoundingClientRect().top - b;
        return j(e) && (f -= e.getBoundingClientRect().top), this.scrollTo(0, f, c, d)
    };
    var n = {
        scrollLeft: function (b, c, d) {
            if (angular.isNumber(b))return this.scrollTo(b, this.scrollTop(), c, d);
            var e = k(this);
            return i(e) ? a.scrollX || document.documentElement.scrollLeft || document.body.scrollLeft : e.scrollLeft
        }, scrollTop: function (b, c, d) {
            if (angular.isNumber(b))return this.scrollTo(this.scrollTop(), b, c, d);
            var e = k(this);
            return i(e) ? a.scrollY || document.documentElement.scrollTop || document.body.scrollTop : e.scrollTop
        }
    };
    h.scrollToElementAnimated = function (a, b, c, d) {
        return this.scrollToElement(a, b, c || f, d)
    }, h.scrollTopAnimated = function (a, b, c) {
        return this.scrollTop(a, b || f, c)
    }, h.scrollLeftAnimated = function (a, b, c) {
        return this.scrollLeft(a, b || f, c)
    };
    var o = function (a, b) {
        return function (c, d) {
            return d ? b.apply(this, arguments) : a.apply(this, arguments)
        }
    };
    for (var p in n)h[p] = h[p] ? o(h[p], n[p]) : n[p]
}]), angular.module("duScroll.polyfill", []).factory("polyfill", ["$window", function (a) {
    "use strict";
    var b = ["webkit", "moz", "o", "ms"];
    return function (c, d) {
        if (a[c])return a[c];
        for (var e, f = c.substr(0, 1).toUpperCase() + c.substr(1), g = 0; g < b.length; g++)if (e = b[g] + f, a[e])return a[e];
        return d
    }
}]), angular.module("duScroll.requestAnimation", ["duScroll.polyfill"]).factory("requestAnimation", ["polyfill", "$timeout", function (a, b) {
    "use strict";
    var c = 0, d = function (a) {
        var d = (new Date).getTime(), e = Math.max(0, 16 - (d - c)), f = b(function () {
            a(d + e)
        }, e);
        return c = d + e, f
    };
    return a("requestAnimationFrame", d)
}]).factory("cancelAnimation", ["polyfill", "$timeout", function (a, b) {
    "use strict";
    var c = function (a) {
        b.cancel(a)
    };
    return a("cancelAnimationFrame", c)
}]), angular.module("duScroll.spyAPI", ["duScroll.scrollContainerAPI"]).factory("spyAPI", ["$rootScope", "$timeout", "scrollContainerAPI", "duScrollGreedy", "duScrollSpyWait", function (a, b, c, d, e) {
    "use strict";
    var f = function (c) {
        var f = !1, g = !1, h = function () {
            g = !1;
            var b = c.container, e = b[0], f = 0;
            ("undefined" != typeof HTMLElement && e instanceof HTMLElement || e.nodeType && e.nodeType === e.ELEMENT_NODE) && (f = e.getBoundingClientRect().top);
            var h, i, j, k, l, m;
            for (k = c.spies, i = c.currentlyActive, j = void 0, h = 0; h < k.length; h++)l = k[h], m = l.getTargetPosition(), m && m.top + l.offset - f < 20 && -1 * m.top + f < m.height && (!j || j.top < m.top) && (j = {
                top: m.top,
                spy: l
            });
            j && (j = j.spy), i === j || d && !j || (i && (i.$element.removeClass("active"), a.$broadcast("duScrollspy:becameInactive", i.$element)), j && (j.$element.addClass("active"), a.$broadcast("duScrollspy:becameActive", j.$element)), c.currentlyActive = j)
        };
        return e ? function () {
            f ? g = !0 : (h(), f = b(function () {
                f = !1, g && h()
            }, e, !1))
        } : h
    }, g = {}, h = function (a) {
        var b = a.$id, c = {spies: []};
        return c.handler = f(c), g[b] = c, a.$on("$destroy", function () {
            i(a)
        }), b
    }, i = function (a) {
        var b = a.$id, c = g[b], d = c.container;
        d && d.off("scroll", c.handler), delete g[b]
    }, j = h(a), k = function (a) {
        return g[a.$id] ? g[a.$id] : a.$parent ? k(a.$parent) : g[j]
    }, l = function (a) {
        var b, c, d = a.$element.scope();
        if (d)return k(d);
        for (c in g)if (b = g[c], -1 !== b.spies.indexOf(a))return b
    }, m = function (a) {
        for (; a.parentNode;)if (a = a.parentNode, a === document)return !0;
        return !1
    }, n = function (a) {
        var b = l(a);
        b && (b.spies.push(a), b.container && m(b.container) || (b.container && b.container.off("scroll", b.handler), b.container = c.getContainer(a.$element.scope()), b.container.on("scroll", b.handler).triggerHandler("scroll")))
    }, o = function (a) {
        var b = l(a);
        a === b.currentlyActive && (b.currentlyActive = null);
        var c = b.spies.indexOf(a);
        -1 !== c && b.spies.splice(c, 1)
    };
    return {addSpy: n, removeSpy: o, createContext: h, destroyContext: i, getContextForScope: k}
}]), angular.module("duScroll.scrollContainerAPI", []).factory("scrollContainerAPI", ["$document", function (a) {
    "use strict";
    var b = {}, c = function (a, c) {
        var d = a.$id;
        return b[d] = c, d
    }, d = function (a) {
        return b[a.$id] ? a.$id : a.$parent ? d(a.$parent) : void 0
    }, e = function (c) {
        var e = d(c);
        return e ? b[e] : a
    }, f = function (a) {
        var c = d(a);
        c && delete b[c]
    };
    return {getContainerId: d, getContainer: e, setContainer: c, removeContainer: f}
}]), angular.module("duScroll.smoothScroll", ["duScroll.scrollHelpers", "duScroll.scrollContainerAPI"]).directive("duSmoothScroll", ["duScrollDuration", "duScrollOffset", "scrollContainerAPI", function (a, b, c) {
    "use strict";
    return {
        link: function (d, e, f) {
            e.on("click", function (e) {
                if (f.href && -1 !== f.href.indexOf("#")) {
                    var g = document.getElementById(f.href.replace(/.*(?=#[^\s]+$)/, "").substring(1));
                    if (g && g.getBoundingClientRect) {
                        e.stopPropagation && e.stopPropagation(), e.preventDefault && e.preventDefault();
                        var h = f.offset ? parseInt(f.offset, 10) : b, i = f.duration ? parseInt(f.duration, 10) : a, j = c.getContainer(d);
                        j.scrollToElement(angular.element(g), isNaN(h) ? 0 : h, isNaN(i) ? 0 : i)
                    }
                }
            })
        }
    }
}]), angular.module("duScroll.spyContext", ["duScroll.spyAPI"]).directive("duSpyContext", ["spyAPI", function (a) {
    "use strict";
    return {
        restrict: "A", scope: !0, compile: function () {
            return {
                pre: function (b) {
                    a.createContext(b)
                }
            }
        }
    }
}]), angular.module("duScroll.scrollContainer", ["duScroll.scrollContainerAPI"]).directive("duScrollContainer", ["scrollContainerAPI", function (a) {
    "use strict";
    return {
        restrict: "A", scope: !0, compile: function () {
            return {
                pre: function (b, c, d) {
                    d.$observe("duScrollContainer", function (d) {
                        angular.isString(d) && (d = document.getElementById(d)), d = angular.isElement(d) ? angular.element(d) : c, a.setContainer(b, d), b.$on("$destroy", function () {
                            a.removeContainer(b)
                        })
                    })
                }
            }
        }
    }
}]), angular.module("duScroll.scrollspy", ["duScroll.spyAPI"]).directive("duScrollspy", ["spyAPI", "duScrollOffset", "$timeout", "$rootScope", function (a, b, c, d) {
    "use strict";
    var e = function (a, b, c) {
        angular.isElement(a) ? this.target = a : angular.isString(a) && (this.targetId = a), this.$element = b, this.offset = c
    };
    return e.prototype.getTargetElement = function () {
        return !this.target && this.targetId && (this.target = document.getElementById(this.targetId)), this.target
    }, e.prototype.getTargetPosition = function () {
        var a = this.getTargetElement();
        return a ? a.getBoundingClientRect() : void 0
    }, e.prototype.flushTargetCache = function () {
        this.targetId && (this.target = void 0)
    }, {
        link: function (f, g, h) {
            var i, j = h.ngHref || h.href;
            j && -1 !== j.indexOf("#") ? i = j.replace(/.*(?=#[^\s]+$)/, "").substring(1) : h.duScrollspy && (i = h.duScrollspy), i && c(function () {
                var c = new e(i, g, -(h.offset ? parseInt(h.offset, 10) : b));
                a.addSpy(c), f.$on("$destroy", function () {
                    a.removeSpy(c)
                }), f.$on("$locationChangeSuccess", c.flushTargetCache.bind(c)), d.$on("$stateChangeSuccess", c.flushTargetCache.bind(c))
            }, 0, !1)
        }
    }
}]), !function (a, b) {
    "use strict";
    function c(a) {
        return /^-?\d+\.?\d*$/.test(a.replace(/["']/g, ""))
    }

    var d = b.isDefined, e = b.isUndefined, f = b.isNumber, g = b.isObject, h = b.isArray, i = b.extend, j = b.toJson, k = b.fromJson, l = b.module("LocalStorageModule", []);
    l.provider("localStorageService", function () {
        this.prefix = "ls", this.storageType = "localStorage", this.cookie = {
            expiry: 30,
            path: "/"
        }, this.notify = {setItem: !0, removeItem: !1}, this.setPrefix = function (a) {
            this.prefix = a
        }, this.setStorageType = function (a) {
            this.storageType = a
        }, this.setStorageCookie = function (a, b) {
            this.cookie = {expiry: a, path: b}
        }, this.setStorageCookieDomain = function (a) {
            this.cookie.domain = a
        }, this.setNotify = function (a, b) {
            this.notify = {setItem: a, removeItem: b}
        }, this.$get = ["$rootScope", "$window", "$document", "$parse", function (a, b, l, m) {
            var n, o = this, p = o.prefix, q = o.cookie, r = o.notify, s = o.storageType;
            l ? l[0] && (l = l[0]) : l = document, "." !== p.substr(-1) && (p = p ? p + "." : "");
            var t = function (a) {
                return p + a
            }, u = function () {
                try {
                    var c = s in b && null !== b[s], d = t("__" + Math.round(1e7 * Math.random()));
                    return c && (n = b[s], n.setItem(d, ""), n.removeItem(d)), c
                } catch (e) {
                    return s = "cookie", a.$broadcast("LocalStorageModule.notification.error", e.message), !1
                }
            }(), v = function (b, c) {
                if (e(c) ? c = null : (g(c) || h(c) || f(+c || c)) && (c = j(c)), !u || "cookie" === o.storageType)return u || a.$broadcast("LocalStorageModule.notification.warning", "LOCAL_STORAGE_NOT_SUPPORTED"), r.setItem && a.$broadcast("LocalStorageModule.notification.setitem", {
                    key: b,
                    newvalue: c,
                    storageType: "cookie"
                }), B(b, c);
                try {
                    (g(c) || h(c)) && (c = j(c)), n && n.setItem(t(b), c), r.setItem && a.$broadcast("LocalStorageModule.notification.setitem", {
                        key: b,
                        newvalue: c,
                        storageType: o.storageType
                    })
                } catch (d) {
                    return a.$broadcast("LocalStorageModule.notification.error", d.message), B(b, c)
                }
                return !0
            }, w = function (b) {
                if (!u || "cookie" === o.storageType)return u || a.$broadcast("LocalStorageModule.notification.warning", "LOCAL_STORAGE_NOT_SUPPORTED"), C(b);
                var d = n ? n.getItem(t(b)) : null;
                return d && "null" !== d ? "{" === d.charAt(0) || "[" === d.charAt(0) || c(d) ? k(d) : d : null
            }, x = function (b) {
                if (!u || "cookie" === o.storageType)return u || a.$broadcast("LocalStorageModule.notification.warning", "LOCAL_STORAGE_NOT_SUPPORTED"), r.removeItem && a.$broadcast("LocalStorageModule.notification.removeitem", {
                    key: b,
                    storageType: "cookie"
                }), D(b);
                try {
                    n.removeItem(t(b)), r.removeItem && a.$broadcast("LocalStorageModule.notification.removeitem", {
                        key: b,
                        storageType: o.storageType
                    })
                } catch (c) {
                    return a.$broadcast("LocalStorageModule.notification.error", c.message), D(b)
                }
                return !0
            }, y = function () {
                if (!u)return a.$broadcast("LocalStorageModule.notification.warning", "LOCAL_STORAGE_NOT_SUPPORTED"), !1;
                var b = p.length, c = [];
                for (var d in n)if (d.substr(0, b) === p)try {
                    c.push(d.substr(b))
                } catch (e) {
                    return a.$broadcast("LocalStorageModule.notification.error", e.Description), []
                }
                return c
            }, z = function (b) {
                b = b || "";
                var c = p.slice(0, -1), d = new RegExp(c + "." + b);
                if (!u || "cookie" === o.storageType)return u || a.$broadcast("LocalStorageModule.notification.warning", "LOCAL_STORAGE_NOT_SUPPORTED"), E();
                var e = p.length;
                for (var f in n)if (d.test(f))try {
                    x(f.substr(e))
                } catch (g) {
                    return a.$broadcast("LocalStorageModule.notification.error", g.message), E()
                }
                return !0
            }, A = function () {
                try {
                    return b.navigator.cookieEnabled || "cookie" in l && (l.cookie.length > 0 || (l.cookie = "test").indexOf.call(l.cookie, "test") > -1)
                } catch (c) {
                    return a.$broadcast("LocalStorageModule.notification.error", c.message), !1
                }
            }(), B = function (b, c) {
                if (e(c))return !1;
                if ((h(c) || g(c)) && (c = j(c)), !A)return a.$broadcast("LocalStorageModule.notification.error", "COOKIES_NOT_SUPPORTED"), !1;
                try {
                    var d = "", f = new Date, i = "";
                    if (null === c ? (f.setTime(f.getTime() + -864e5), d = "; expires=" + f.toGMTString(), c = "") : 0 !== q.expiry && (f.setTime(f.getTime() + 24 * q.expiry * 60 * 60 * 1e3), d = "; expires=" + f.toGMTString()), b) {
                        var k = "; path=" + q.path;
                        q.domain && (i = "; domain=" + q.domain), l.cookie = t(b) + "=" + encodeURIComponent(c) + d + k + i
                    }
                } catch (m) {
                    return a.$broadcast("LocalStorageModule.notification.error", m.message), !1
                }
                return !0
            }, C = function (b) {
                if (!A)return a.$broadcast("LocalStorageModule.notification.error", "COOKIES_NOT_SUPPORTED"), !1;
                for (var c = l.cookie && l.cookie.split(";") || [], d = 0; d < c.length; d++) {
                    for (var e = c[d]; " " === e.charAt(0);)e = e.substring(1, e.length);
                    if (0 === e.indexOf(t(b) + "=")) {
                        var f = decodeURIComponent(e.substring(p.length + b.length + 1, e.length));
                        try {
                            var g = JSON.parse(f);
                            return k(g)
                        } catch (h) {
                            return f
                        }
                    }
                }
                return null
            }, D = function (a) {
                B(a, null)
            }, E = function () {
                for (var a = null, b = p.length, c = l.cookie.split(";"), d = 0; d < c.length; d++) {
                    for (a = c[d]; " " === a.charAt(0);)a = a.substring(1, a.length);
                    var e = a.substring(b, a.indexOf("="));
                    D(e)
                }
            }, F = function () {
                return s
            }, G = function (a, b, c, e) {
                e = e || b;
                var f = w(e);
                return null === f && d(c) ? f = c : g(f) && g(c) && (f = i(c, f)), m(b).assign(a, f), a.$watch(b, function (a) {
                    v(e, a)
                }, g(a[b]))
            }, H = function () {
                for (var a = 0, c = b[s], d = 0; d < c.length; d++)0 === c.key(d).indexOf(p) && a++;
                return a
            };
            return {
                isSupported: u,
                getStorageType: F,
                set: v,
                add: v,
                get: w,
                keys: y,
                remove: x,
                clearAll: z,
                bind: G,
                deriveKey: t,
                length: H,
                cookie: {isSupported: A, set: B, add: B, get: C, remove: D, clearAll: E}
            }
        }]
    })
}(window, window.angular), !function () {
    "use strict";
    angular.module("ui.tree", []).constant("treeConfig", {
        treeClass: "angular-ui-tree",
        emptyTreeClass: "angular-ui-tree-empty",
        hiddenClass: "angular-ui-tree-hidden",
        nodesClass: "angular-ui-tree-nodes",
        nodeClass: "angular-ui-tree-node",
        handleClass: "angular-ui-tree-handle",
        placeHolderClass: "angular-ui-tree-placeholder",
        dragClass: "angular-ui-tree-drag",
        dragThreshold: 3,
        levelThreshold: 30
    })
}(), function () {
    "use strict";
    angular.module("ui.tree").factory("$uiTreeHelper", ["$document", "$window", function (a, b) {
        return {
            nodesData: {}, setNodeAttribute: function (a, b, c) {
                var d = this.nodesData[a.$modelValue.$$hashKey];
                d || (d = {}, this.nodesData[a.$modelValue.$$hashKey] = d), d[b] = c
            }, getNodeAttribute: function (a, b) {
                var c = this.nodesData[a.$modelValue.$$hashKey];
                return c ? c[b] : null
            }, nodrag: function (a) {
                return "undefined" != typeof a.attr("data-nodrag")
            }, eventObj: function (a) {
                var b = a;
                return void 0 !== a.targetTouches ? b = a.targetTouches.item(0) : void 0 !== a.originalEvent && void 0 !== a.originalEvent.targetTouches && (b = a.originalEvent.targetTouches.item(0)), b
            }, dragInfo: function (a) {
                return {
                    source: a,
                    sourceInfo: {nodeScope: a, index: a.index(), nodesScope: a.$parentNodesScope},
                    index: a.index(),
                    siblings: a.siblings().slice(0),
                    parent: a.$parentNodesScope,
                    moveTo: function (a, b, c) {
                        this.parent = a, this.siblings = b.slice(0);
                        var d = this.siblings.indexOf(this.source);
                        d > -1 && (this.siblings.splice(d, 1), this.source.index() < c && c--), this.siblings.splice(c, 0, this.source), this.index = c
                    },
                    parentNode: function () {
                        return this.parent.$nodeScope
                    },
                    prev: function () {
                        return this.index > 0 ? this.siblings[this.index - 1] : null
                    },
                    next: function () {
                        return this.index < this.siblings.length - 1 ? this.siblings[this.index + 1] : null
                    },
                    isDirty: function () {
                        return this.source.$parentNodesScope != this.parent || this.source.index() != this.index
                    },
                    eventArgs: function (a, b) {
                        return {
                            source: this.sourceInfo,
                            dest: {index: this.index, nodesScope: this.parent},
                            elements: a,
                            pos: b
                        }
                    },
                    apply: function () {
                        var a = this.source.$modelValue;
                        this.source.remove(), this.parent.insertNode(this.index, a)
                    }
                }
            }, height: function (a) {
                return a.prop("scrollHeight")
            }, width: function (a) {
                return a.prop("scrollWidth")
            }, offset: function (c) {
                var d = c[0].getBoundingClientRect();
                return {
                    width: c.prop("offsetWidth"),
                    height: c.prop("offsetHeight"),
                    top: d.top + (b.pageYOffset || a[0].body.scrollTop || a[0].documentElement.scrollTop),
                    left: d.left + (b.pageXOffset || a[0].body.scrollLeft || a[0].documentElement.scrollLeft)
                }
            }, positionStarted: function (a, b) {
                var c = {};
                return c.offsetX = a.pageX - this.offset(b).left, c.offsetY = a.pageY - this.offset(b).top, c.startX = c.lastX = a.pageX, c.startY = c.lastY = a.pageY, c.nowX = c.nowY = c.distX = c.distY = c.dirAx = 0, c.dirX = c.dirY = c.lastDirX = c.lastDirY = c.distAxX = c.distAxY = 0, c
            }, positionMoved: function (a, b, c) {
                b.lastX = b.nowX, b.lastY = b.nowY, b.nowX = a.pageX, b.nowY = a.pageY, b.distX = b.nowX - b.lastX, b.distY = b.nowY - b.lastY, b.lastDirX = b.dirX, b.lastDirY = b.dirY, b.dirX = 0 === b.distX ? 0 : b.distX > 0 ? 1 : -1, b.dirY = 0 === b.distY ? 0 : b.distY > 0 ? 1 : -1;
                var d = Math.abs(b.distX) > Math.abs(b.distY) ? 1 : 0;
                return c ? (b.dirAx = d, void(b.moving = !0)) : (b.dirAx !== d ? (b.distAxX = 0, b.distAxY = 0) : (b.distAxX += Math.abs(b.distX), 0 !== b.dirX && b.dirX !== b.lastDirX && (b.distAxX = 0), b.distAxY += Math.abs(b.distY), 0 !== b.dirY && b.dirY !== b.lastDirY && (b.distAxY = 0)), void(b.dirAx = d))
            }
        }
    }])
}(), function () {
    "use strict";
    angular.module("ui.tree").controller("TreeController", ["$scope", "$element", "$attrs", "treeConfig", function (a, b) {
        this.scope = a, a.$element = b, a.$nodesScope = null, a.$type = "uiTree", a.$emptyElm = null, a.$callbacks = null, a.dragEnabled = !0, a.emptyPlaceHolderEnabled = !0, a.maxDepth = 0, a.dragDelay = 0, a.isEmpty = function () {
            return a.$nodesScope && a.$nodesScope.$modelValue && 0 === a.$nodesScope.$modelValue.length
        }, a.place = function (b) {
            a.$nodesScope.$element.append(b), a.$emptyElm.remove()
        }, a.resetEmptyElement = function () {
            0 === a.$nodesScope.$modelValue.length && a.emptyPlaceHolderEnabled ? b.append(a.$emptyElm) : a.$emptyElm.remove()
        };
        var c = function (a, b) {
            for (var d = a.childNodes(), e = 0; e < d.length; e++) {
                b ? d[e].collapse() : d[e].expand();
                var f = d[e].$childNodesScope;
                f && c(f, b)
            }
        };
        a.collapseAll = function () {
            c(a.$nodesScope, !0)
        }, a.expandAll = function () {
            c(a.$nodesScope, !1)
        }
    }])
}(), function () {
    "use strict";
    angular.module("ui.tree").controller("TreeNodesController", ["$scope", "$element", "treeConfig", function (a, b) {
        this.scope = a, a.$element = b, a.$modelValue = null, a.$nodeScope = null, a.$treeScope = null, a.$type = "uiTreeNodes", a.$nodesMap = {}, a.nodrop = !1, a.maxDepth = 0, a.initSubNode = function (b) {
            a.$nodesMap[b.$modelValue.$$hashKey] = b
        }, a.destroySubNode = function (b) {
            a.$nodesMap[b.$modelValue.$$hashKey] = null
        }, a.accept = function (b, c) {
            return a.$treeScope.$callbacks.accept(b, a, c)
        }, a.beforeDrag = function (b) {
            return a.$treeScope.$callbacks.beforeDrag(b)
        }, a.isParent = function (b) {
            return b.$parentNodesScope == a
        }, a.hasChild = function () {
            return a.$modelValue.length > 0
        }, a.safeApply = function (a) {
            var b = this.$root.$$phase;
            "$apply" == b || "$digest" == b ? a && "function" == typeof a && a() : this.$apply(a)
        }, a.removeNode = function (b) {
            var c = a.$modelValue.indexOf(b.$modelValue);
            return c > -1 ? (a.safeApply(function () {
                a.$modelValue.splice(c, 1)[0]
            }), b) : null
        }, a.insertNode = function (b, c) {
            a.safeApply(function () {
                a.$modelValue.splice(b, 0, c)
            })
        }, a.childNodes = function () {
            var b = [];
            if (a.$modelValue)for (var c = 0; c < a.$modelValue.length; c++)b.push(a.$nodesMap[a.$modelValue[c].$$hashKey]);
            return b
        }, a.depth = function () {
            return a.$nodeScope ? a.$nodeScope.depth() : 0
        }, a.outOfDepth = function (b) {
            var c = a.maxDepth || a.$treeScope.maxDepth;
            return c > 0 ? a.depth() + b.maxSubDepth() + 1 > c : !1
        }
    }])
}(), function () {
    "use strict";
    angular.module("ui.tree").controller("TreeNodeController", ["$scope", "$element", "$attrs", "treeConfig", function (a, b) {
        this.scope = a, a.$element = b, a.$modelValue = null, a.$parentNodeScope = null, a.$childNodesScope = null, a.$parentNodesScope = null, a.$treeScope = null, a.$handleScope = null, a.$type = "uiTreeNode", a.$$apply = !1, a.collapsed = !1, a.init = function (c) {
            var d = c[0];
            a.$treeScope = c[1] ? c[1].scope : null, a.$parentNodeScope = d.scope.$nodeScope, a.$modelValue = d.scope.$modelValue[a.$index], a.$parentNodesScope = d.scope, d.scope.initSubNode(a), b.on("$destroy", function () {
                d.scope.destroySubNode(a)
            })
        }, a.index = function () {
            return a.$parentNodesScope.$modelValue.indexOf(a.$modelValue)
        }, a.dragEnabled = function () {
            return !(a.$treeScope && !a.$treeScope.dragEnabled)
        }, a.isSibling = function (b) {
            return a.$parentNodesScope == b.$parentNodesScope
        }, a.isChild = function (b) {
            var c = a.childNodes();
            return c && c.indexOf(b) > -1
        }, a.prev = function () {
            var b = a.index();
            return b > 0 ? a.siblings()[b - 1] : null
        }, a.siblings = function () {
            return a.$parentNodesScope.childNodes()
        }, a.childNodesCount = function () {
            return a.childNodes() ? a.childNodes().length : 0
        }, a.hasChild = function () {
            return a.childNodesCount() > 0
        }, a.childNodes = function () {
            return a.$childNodesScope && a.$childNodesScope.$modelValue ? a.$childNodesScope.childNodes() : null
        }, a.accept = function (b, c) {
            return a.$childNodesScope && a.$childNodesScope.$modelValue && a.$childNodesScope.accept(b, c)
        }, a.removeNode = function () {
            var b = a.remove();
            return a.$callbacks.removed(b), b
        }, a.remove = function () {
            return a.$parentNodesScope.removeNode(a)
        }, a.toggle = function () {
            a.collapsed = !a.collapsed
        }, a.collapse = function () {
            a.collapsed = !0
        }, a.expand = function () {
            a.collapsed = !1
        }, a.depth = function () {
            var b = a.$parentNodeScope;
            return b ? b.depth() + 1 : 1
        };
        var c = 0, d = function (a) {
            for (var b = 0, e = a.childNodes(), f = 0; f < e.length; f++) {
                var g = e[f].$childNodesScope;
                g && (b = 1, d(g))
            }
            c += b
        };
        a.maxSubDepth = function () {
            return c = 0, a.$childNodesScope && d(a.$childNodesScope), c
        }
    }])
}(), function () {
    "use strict";
    angular.module("ui.tree").controller("TreeHandleController", ["$scope", "$element", "$attrs", "treeConfig", function (a, b) {
        this.scope = a, a.$element = b, a.$nodeScope = null, a.$type = "uiTreeHandle"
    }])
}(), function () {
    "use strict";
    angular.module("ui.tree").directive("uiTree", ["treeConfig", "$window", function (a, b) {
        return {
            restrict: "A", scope: !0, controller: "TreeController", link: function (c, d, e) {
                var f = {accept: null, beforeDrag: null}, g = {};
                angular.extend(g, a), g.treeClass && d.addClass(g.treeClass), c.$emptyElm = angular.element(b.document.createElement("div")), g.emptyTreeClass && c.$emptyElm.addClass(g.emptyTreeClass), c.$watch("$nodesScope.$modelValue.length", function () {
                    c.$nodesScope.$modelValue && c.resetEmptyElement()
                }, !0), c.$watch(e.dragEnabled, function (a) {
                    "boolean" == typeof a && (c.dragEnabled = a)
                }), c.$watch(e.emptyPlaceHolderEnabled, function (a) {
                    "boolean" == typeof a && (c.emptyPlaceHolderEnabled = a)
                }), c.$watch(e.maxDepth, function (a) {
                    "number" == typeof a && (c.maxDepth = a)
                }), c.$watch(e.dragDelay, function (a) {
                    "number" == typeof a && (c.dragDelay = a)
                }), f.accept = function (a, b) {
                    return b.nodrop || b.outOfDepth(a) ? !1 : !0
                }, f.beforeDrag = function () {
                    return !0
                }, f.removed = function () {
                }, f.dropped = function () {
                }, f.dragStart = function () {
                }, f.dragMove = function () {
                }, f.dragStop = function () {
                }, f.beforeDrop = function () {
                }, c.$watch(e.uiTree, function (a) {
                    angular.forEach(a, function (a, b) {
                        f[b] && "function" == typeof a && (f[b] = a)
                    }), c.$callbacks = f
                }, !0)
            }
        }
    }])
}(), function () {
    "use strict";
    angular.module("ui.tree").directive("uiTreeNodes", ["treeConfig", "$window", function (a) {
        return {
            require: ["ngModel", "?^uiTreeNode", "^uiTree"],
            restrict: "A",
            scope: !0,
            controller: "TreeNodesController",
            link: function (b, c, d, e) {
                var f = {};
                angular.extend(f, a), f.nodesClass && c.addClass(f.nodesClass);
                var g = e[0], h = e[1], i = e[2];
                h ? (h.scope.$childNodesScope = b, b.$nodeScope = h.scope) : i.scope.$nodesScope = b, b.$treeScope = i.scope, g && (g.$render = function () {
                    g.$modelValue && angular.isArray(g.$modelValue) || (b.$modelValue = []), b.$modelValue = g.$modelValue
                }), b.$watch(d.maxDepth, function (a) {
                    "number" == typeof a && (b.maxDepth = a)
                }), d.$observe("nodrop", function (a) {
                    b.nodrop = "undefined" != typeof a
                }), d.$observe("horizontal", function (a) {
                    b.horizontal = "undefined" != typeof a
                })
            }
        }
    }])
}(), function () {
    "use strict";
    angular.module("ui.tree").directive("uiTreeNode", ["treeConfig", "$uiTreeHelper", "$window", "$document", "$timeout", function (a, b, c, d, e) {
        return {
            require: ["^uiTreeNodes", "^uiTree"],
            restrict: "A",
            controller: "TreeNodeController",
            link: function (f, g, h, i) {
                var j = {};
                angular.extend(j, a), j.nodeClass && g.addClass(j.nodeClass), f.init(i), f.collapsed = !!b.getNodeAttribute(f, "collapsed"), f.$watch(h.collapsed, function (a) {
                    "boolean" == typeof a && (f.collapsed = a)
                }), f.$watch("collapsed", function (a) {
                    b.setNodeAttribute(f, "collapsed", a), h.$set("collapsed", a)
                });
                var k, l, m, n, o, p, q, r, s, t = "ontouchstart" in window, u = null, v = !0, w = !1, x = null, y = document.body, z = document.documentElement, A = function (a) {
                    if ((t || 2 != a.button && 3 != a.which) && !(a.uiTreeDragging || a.originalEvent && a.originalEvent.uiTreeDragging)) {
                        var e = angular.element(a.target), h = e.scope();
                        if (h && h.$type && !("uiTreeNode" != h.$type && "uiTreeHandle" != h.$type || "uiTreeNode" == h.$type && h.$handleScope)) {
                            var i = e.prop("tagName").toLowerCase();
                            if ("input" != i && "textarea" != i && "button" != i && "select" != i) {
                                for (; e && e[0] && e[0] != g;) {
                                    if (b.nodrag(e))return;
                                    e = e.parent()
                                }
                                if (f.beforeDrag(f)) {
                                    a.uiTreeDragging = !0, a.originalEvent && (a.originalEvent.uiTreeDragging = !0), a.preventDefault();
                                    var u = b.eventObj(a);
                                    k = !0, l = b.dragInfo(f);
                                    var v = f.$element.prop("tagName");
                                    if ("tr" === v.toLowerCase()) {
                                        n = angular.element(c.document.createElement(v));
                                        var w = angular.element(c.document.createElement("td")).addClass(j.placeHolderClass);
                                        n.append(w)
                                    } else n = angular.element(c.document.createElement(v)).addClass(j.placeHolderClass);
                                    o = angular.element(c.document.createElement(v)), j.hiddenClass && o.addClass(j.hiddenClass), m = b.positionStarted(u, f.$element), n.css("height", b.height(f.$element) + "px"), n.css("width", b.width(f.$element) + "px"), p = angular.element(c.document.createElement(f.$parentNodesScope.$element.prop("tagName"))).addClass(f.$parentNodesScope.$element.attr("class")).addClass(j.dragClass), p.css("width", b.width(f.$element) + "px"), p.css("z-index", 9999);
                                    var x = (f.$element[0].querySelector(".angular-ui-tree-handle") || f.$element[0]).currentStyle;
                                    x && (document.body.setAttribute("ui-tree-cursor", d.find("body").css("cursor") || ""), d.find("body").css({cursor: x.cursor + "!important"})), f.$element.after(n), f.$element.after(o), p.append(f.$element), d.find("body").append(p), p.css({
                                        left: u.pageX - m.offsetX + "px",
                                        top: u.pageY - m.offsetY + "px"
                                    }), q = {
                                        placeholder: n,
                                        dragging: p
                                    }, angular.element(d).bind("touchend", F), angular.element(d).bind("touchcancel", F), angular.element(d).bind("touchmove", E), angular.element(d).bind("mouseup", F), angular.element(d).bind("mousemove", E), angular.element(d).bind("mouseleave", G), r = Math.max(y.scrollHeight, y.offsetHeight, z.clientHeight, z.scrollHeight, z.offsetHeight), s = Math.max(y.scrollWidth, y.offsetWidth, z.clientWidth, z.scrollWidth, z.offsetWidth)
                                }
                            }
                        }
                    }
                }, B = function (a) {
                    if (!w)return void(v || (w = !0, f.$apply(function () {
                        f.$callbacks.dragStart(l.eventArgs(q, m))
                    })));
                    var d, e, g, h = b.eventObj(a);
                    if (p) {
                        a.preventDefault(), c.getSelection ? c.getSelection().removeAllRanges() : c.document.selection && c.document.selection.empty(), e = h.pageX - m.offsetX, g = h.pageY - m.offsetY, 0 > e && (e = 0), 0 > g && (g = 0), g + 10 > r && (g = r - 10), e + 10 > s && (e = s - 10), p.css({
                            left: e + "px",
                            top: g + "px"
                        });
                        var i = window.pageYOffset || c.document.documentElement.scrollTop, o = i + (window.innerHeight || c.document.clientHeight || c.document.clientHeight);
                        if (o < h.pageY && r >= o && window.scrollBy(0, 10), i > h.pageY && window.scrollBy(0, -10), b.positionMoved(a, m, k), k)return void(k = !1);
                        if (m.dirAx && m.distAxX >= j.levelThreshold && (m.distAxX = 0, m.distX > 0 && (d = l.prev(), d && !d.collapsed && d.accept(f, d.childNodesCount()) && (d.$childNodesScope.$element.append(n), l.moveTo(d.$childNodesScope, d.childNodes(), d.childNodesCount()))), m.distX < 0)) {
                            var t = l.next();
                            if (!t) {
                                var x = l.parentNode();
                                x && x.$parentNodesScope.accept(f, x.index() + 1) && (x.$element.after(n), l.moveTo(x.$parentNodesScope, x.siblings(), x.index() + 1))
                            }
                        }
                        var y, z = (b.offset(p).left - b.offset(n).left >= j.threshold, h.pageX - c.document.body.scrollLeft), A = h.pageY - (window.pageYOffset || c.document.documentElement.scrollTop);
                        angular.isFunction(p.hide) ? p.hide() : (y = p[0].style.display, p[0].style.display = "none"), c.document.elementFromPoint(z, A);
                        var B = angular.element(c.document.elementFromPoint(z, A));
                        if (angular.isFunction(p.show) ? p.show() : p[0].style.display = y, !m.dirAx) {
                            var C, D;
                            D = B.scope();
                            var E = !1;
                            if (!D)return;
                            if ("uiTree" == D.$type && D.dragEnabled && (E = D.isEmpty()), "uiTreeHandle" == D.$type && (D = D.$nodeScope), "uiTreeNode" != D.$type && !E)return;
                            if (u && n.parent()[0] != u.$element[0] && (u.resetEmptyElement(), u = null), E)u = D, D.$nodesScope.accept(f, 0) && (D.place(n), l.moveTo(D.$nodesScope, D.$nodesScope.childNodes(), 0)); else if (D.dragEnabled()) {
                                B = D.$element;
                                var F = b.offset(B);
                                C = D.horizontal ? h.pageX < F.left + b.width(B) / 2 : h.pageY < F.top + b.height(B) / 2, D.$parentNodesScope.accept(f, D.index()) ? C ? (B[0].parentNode.insertBefore(n[0], B[0]), l.moveTo(D.$parentNodesScope, D.siblings(), D.index())) : (B.after(n), l.moveTo(D.$parentNodesScope, D.siblings(), D.index() + 1)) : !C && D.accept(f, D.childNodesCount()) && (D.$childNodesScope.$element.append(n), l.moveTo(D.$childNodesScope, D.childNodes(), D.childNodesCount()))
                            }
                        }
                        f.$apply(function () {
                            f.$callbacks.dragMove(l.eventArgs(q, m))
                        })
                    }
                }, C = function (a) {
                    a.preventDefault(), p && (f.$treeScope.$apply(function () {
                        f.$callbacks.beforeDrop(l.eventArgs(q, m))
                    }), o.replaceWith(f.$element), n.remove(), p.remove(), p = null, f.$$apply ? (l.apply(), f.$treeScope.$apply(function () {
                        f.$callbacks.dropped(l.eventArgs(q, m))
                    })) : H(), f.$treeScope.$apply(function () {
                        f.$callbacks.dragStop(l.eventArgs(q, m))
                    }), f.$$apply = !1, l = null);
                    var b = document.body.getAttribute("ui-tree-cursor");
                    null !== b && (d.find("body").css({cursor: b}), document.body.removeAttribute("ui-tree-cursor")), angular.element(d).unbind("touchend", F), angular.element(d).unbind("touchcancel", F), angular.element(d).unbind("touchmove", E), angular.element(d).unbind("mouseup", F), angular.element(d).unbind("mousemove", E), angular.element(c.document.body).unbind("mouseleave", G)
                }, D = function (a) {
                    f.dragEnabled() && A(a)
                }, E = function (a) {
                    B(a)
                }, F = function (a) {
                    f.$$apply = !0, C(a)
                }, G = function (a) {
                    C(a)
                }, H = function () {
                    g.bind("touchstart mousedown", function (a) {
                        v = !0, w = !1, D(a), x = e(function () {
                            v = !1
                        }, f.dragDelay)
                    }), g.bind("touchend touchcancel mouseup", function () {
                        e.cancel(x)
                    })
                };
                H(), angular.element(c.document.body).bind("keydown", function (a) {
                    27 == a.keyCode && (f.$$apply = !1, C(a))
                })
            }
        }
    }])
}(), function () {
    "use strict";
    angular.module("ui.tree").directive("uiTreeHandle", ["treeConfig", "$window", function (a) {
        return {
            require: "^uiTreeNode",
            restrict: "A",
            scope: !0,
            controller: "TreeHandleController",
            link: function (b, c, d, e) {
                var f = {};
                angular.extend(f, a), f.handleClass && c.addClass(f.handleClass), b != e.scope && (b.$nodeScope = e.scope, e.scope.$handleScope = b)
            }
        }
    }])
}(), !function () {
    "use strict";
    function a(a) {
        var b = [];
        return angular.forEach(a.requires, function (a) {
            -1 === i.indexOf(a) && b.push(a)
        }), b
    }

    function b(a) {
        try {
            return angular.module(a)
        } catch (b) {
            if (/No module/.test(b) || b.message.indexOf("$injector:nomod") > -1)return !1
        }
    }

    function c(a) {
        try {
            return angular.module(a)
        } catch (b) {
            throw(/No module/.test(b) || b.message.indexOf("$injector:nomod") > -1) && (b.message = 'The module "' + a + '" that you are trying to load does not exist. ' + b.message), b
        }
    }

    function d(a, b, c, d) {
        if (b) {
            var e, g, h, i;
            for (e = 0, g = b.length; g > e; e++)if (h = b[e], angular.isArray(h)) {
                if (null !== a) {
                    if (!a.hasOwnProperty(h[0]))throw new Error("unsupported provider " + h[0]);
                    i = a[h[0]]
                }
                var j = f(h, c);
                if ("invoke" !== h[1])j && angular.isDefined(i) && i[h[1]].apply(i, h[2]); else {
                    var l = function (a) {
                        var b = k.indexOf(c + "-" + a);
                        (-1 === b || d) && (-1 === b && k.push(c + "-" + a), angular.isDefined(i) && i[h[1]].apply(i, h[2]))
                    };
                    if (angular.isFunction(h[2][0]))l(h[2][0]); else if (angular.isArray(h[2][0]))for (var m = 0, n = h[2][0].length; n > m; m++)angular.isFunction(h[2][0][m]) && l(h[2][0][m])
                }
            }
        }
    }

    function e(a, b, c) {
        if (b) {
            var f, h, j, k = [];
            for (f = b.length - 1; f >= 0; f--)if (h = b[f], "string" != typeof h && (h = g(h)), h && -1 === l.indexOf(h)) {
                var n = -1 === i.indexOf(h);
                if (j = angular.module(h), n && (i.push(h), e(a, j.requires, c)), j._runBlocks.length > 0)for (m[h] = []; j._runBlocks.length > 0;)m[h].push(j._runBlocks.shift());
                angular.isDefined(m[h]) && (n || c.rerun) && (k = k.concat(m[h])), d(a, j._invokeQueue, h, c.reconfig), d(a, j._configBlocks, h, c.reconfig), o(n ? "ocLazyLoad.moduleLoaded" : "ocLazyLoad.moduleReloaded", h), b.pop(), l.push(h)
            }
            var p = a.getInstanceInjector();
            angular.forEach(k, function (a) {
                p.invoke(a)
            })
        }
    }

    function f(a, b) {
        var c = a[2][0], d = a[1], e = !1;
        angular.isUndefined(j[b]) && (j[b] = {}), angular.isUndefined(j[b][d]) && (j[b][d] = []);
        var f = function (a) {
            e = !0, j[b][d].push(a), o("ocLazyLoad.componentLoaded", [b, d, a])
        };
        if (angular.isString(c) && -1 === j[b][d].indexOf(c))f(c); else {
            if (!angular.isObject(c))return !1;
            angular.forEach(c, function (a) {
                angular.isString(a) && -1 === j[b][d].indexOf(a) && f(a)
            })
        }
        return e
    }

    function g(a) {
        var b = null;
        return angular.isString(a) ? b = a : angular.isObject(a) && a.hasOwnProperty("name") && angular.isString(a.name) && (b = a.name), b
    }

    function h(a) {
        function b(a) {
            return a && f.push(a)
        }

        var c, e, f = [a], g = ["ng:app", "ng-app", "x-ng-app", "data-ng-app"], h = /\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;
        angular.forEach(g, function (c) {
            g[c] = !0, b(document.getElementById(c)), c = c.replace(":", "\\:"), a[0].querySelectorAll && (angular.forEach(a[0].querySelectorAll("." + c), b), angular.forEach(a[0].querySelectorAll("." + c + "\\:"), b), angular.forEach(a[0].querySelectorAll("[" + c + "]"), b))
        }), angular.forEach(f, function (b) {
            if (!c) {
                var d = " " + a.className + " ", f = h.exec(d);
                f ? (c = b, e = (f[2] || "").replace(/\s+/g, ",")) : angular.forEach(b.attributes, function (a) {
                    !c && g[a.name] && (c = b, e = a.value)
                })
            }
        }), c && !function j(a) {
            if (-1 === i.indexOf(a)) {
                i.push(a);
                var b = angular.module(a);
                d(null, b._invokeQueue, a), d(null, b._configBlocks, a), angular.forEach(b.requires, j)
            }
        }(e)
    }

    var i = ["ng"], j = {}, k = [], l = [], m = {}, n = angular.module("oc.lazyLoad", ["ng"]), o = angular.noop;
    n.provider("$ocLazyLoad", ["$controllerProvider", "$provide", "$compileProvider", "$filterProvider", "$injector", "$animateProvider", function (d, f, j, k, m, n) {
        var p, q, r, s = {}, t = {
            $controllerProvider: d,
            $compileProvider: j,
            $filterProvider: k,
            $provide: f,
            $injector: m,
            $animateProvider: n
        }, u = document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0], v = !1, w = !1;
        h(angular.element(window.document)), this.$get = ["$log", "$q", "$templateCache", "$http", "$rootElement", "$rootScope", "$cacheFactory", "$interval", function (d, f, h, j, k, m, n, x) {
            var y, z = n("ocLazyLoad"), A = !1, B = !1;
            v || (d = {}, d.error = angular.noop, d.warn = angular.noop, d.info = angular.noop), t.getInstanceInjector = function () {
                return y ? y : y = k.data("$injector") || angular.injector()
            }, o = function (a, b) {
                w && m.$broadcast(a, b), v && d.info(a, b)
            };
            var C = function (a, b, c) {
                var d, e, g = f.defer(), h = function (a) {
                    var b = (new Date).getTime();
                    return a.indexOf("?") >= 0 ? "&" === a.substring(0, a.length - 1) ? a + "_dc=" + b : a + "&_dc=" + b : a + "?_dc=" + b
                };
                switch (angular.isUndefined(z.get(b)) && z.put(b, g.promise), a) {
                    case"css":
                        d = document.createElement("link"), d.type = "text/css", d.rel = "stylesheet", d.href = c.cache === !1 ? h(b) : b;
                        break;
                    case"js":
                        d = document.createElement("script"), d.src = c.cache === !1 ? h(b) : b;
                        break;
                    default:
                        g.reject(new Error('Requested type "' + a + '" is not known. Could not inject "' + b + '"'))
                }
                d.onload = d.onreadystatechange = function () {
                    d.readyState && !/^c|loade/.test(d.readyState) || e || (d.onload = d.onreadystatechange = null, e = 1, o("ocLazyLoad.fileLoaded", b), g.resolve())
                }, d.onerror = function () {
                    g.reject(new Error("Unable to load " + b))
                }, d.async = c.serie ? 0 : 1;
                var i = u.lastChild;
                if (c.insertBefore) {
                    var j = angular.element(c.insertBefore);
                    j && j.length > 0 && (i = j[0])
                }
                if (u.insertBefore(d, i), "css" == a) {
                    if (!A) {
                        var k = navigator.userAgent.toLowerCase();
                        if (/iP(hone|od|ad)/.test(navigator.platform)) {
                            var l = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/), m = parseFloat([parseInt(l[1], 10), parseInt(l[2], 10), parseInt(l[3] || 0, 10)].join("."));
                            B = 6 > m
                        } else if (k.indexOf("android") > -1) {
                            var n = parseFloat(k.slice(k.indexOf("android") + 8));
                            B = 4.4 > n
                        } else if (k.indexOf("safari") > -1 && -1 == k.indexOf("chrome")) {
                            var p = parseFloat(k.match(/version\/([\.\d]+)/i)[1]);
                            B = 6 > p
                        }
                    }
                    if (B)var q = 1e3, r = x(function () {
                        try {
                            d.sheet.cssRules, x.cancel(r), d.onload()
                        } catch (a) {
                            --q <= 0 && d.onerror()
                        }
                    }, 20)
                }
                return g.promise
            };
            angular.isUndefined(p) && (p = function (a, b, c) {
                var d = [];
                angular.forEach(a, function (a) {
                    d.push(C("js", a, c))
                }), f.all(d).then(function () {
                    b()
                }, function (a) {
                    b(a)
                })
            }, p.ocLazyLoadLoader = !0), angular.isUndefined(q) && (q = function (a, b, c) {
                var d = [];
                angular.forEach(a, function (a) {
                    d.push(C("css", a, c))
                }), f.all(d).then(function () {
                    b()
                }, function (a) {
                    b(a)
                })
            }, q.ocLazyLoadLoader = !0), angular.isUndefined(r) && (r = function (a, b, c) {
                var d = [];
                return angular.forEach(a, function (a) {
                    var b = f.defer();
                    d.push(b.promise), j.get(a, c).success(function (c) {
                        angular.isString(c) && c.length > 0 && angular.forEach(angular.element(c), function (a) {
                            "SCRIPT" === a.nodeName && "text/ng-template" === a.type && h.put(a.id, a.innerHTML)
                        }), angular.isUndefined(z.get(a)) && z.put(a, !0), b.resolve()
                    }).error(function (c) {
                        b.reject(new Error('Unable to load template file "' + a + '": ' + c))
                    })
                }), f.all(d).then(function () {
                    b()
                }, function (a) {
                    b(a)
                })
            }, r.ocLazyLoadLoader = !0);
            var D = function (a, b) {
                var c = [], e = [], g = [], h = [], i = null;
                angular.extend(b || {}, a);
                var j = function (a) {
                    i = z.get(a), angular.isUndefined(i) || b.cache === !1 ? /\.css[^\.]*$/.test(a) && -1 === c.indexOf(a) ? c.push(a) : /\.(htm|html)[^\.]*$/.test(a) && -1 === e.indexOf(a) ? e.push(a) : -1 === g.indexOf(a) && g.push(a) : i && h.push(i)
                };
                if (b.serie ? j(b.files.shift()) : angular.forEach(b.files, function (a) {
                        j(a)
                    }), c.length > 0) {
                    var k = f.defer();
                    q(c, function (a) {
                        angular.isDefined(a) && q.hasOwnProperty("ocLazyLoadLoader") ? (d.error(a), k.reject(a)) : k.resolve()
                    }, b), h.push(k.promise)
                }
                if (e.length > 0) {
                    var l = f.defer();
                    r(e, function (a) {
                        angular.isDefined(a) && r.hasOwnProperty("ocLazyLoadLoader") ? (d.error(a), l.reject(a)) : l.resolve()
                    }, b), h.push(l.promise)
                }
                if (g.length > 0) {
                    var m = f.defer();
                    p(g, function (a) {
                        angular.isDefined(a) && p.hasOwnProperty("ocLazyLoadLoader") ? (d.error(a), m.reject(a)) : m.resolve()
                    }, b), h.push(m.promise)
                }
                return b.serie && b.files.length > 0 ? f.all(h).then(function () {
                    return D(a, b)
                }) : f.all(h)
            };
            return {
                getModuleConfig: function (a) {
                    if (!angular.isString(a))throw new Error("You need to give the name of the module to get");
                    return s[a] ? s[a] : null
                }, setModuleConfig: function (a) {
                    if (!angular.isObject(a))throw new Error("You need to give the module config object to set");
                    return s[a.name] = a, a
                }, getModules: function () {
                    return i
                }, isLoaded: function (a) {
                    var c = function (a) {
                        var c = i.indexOf(a) > -1;
                        return c || (c = !!b(a)), c
                    };
                    if (angular.isString(a) && (a = [a]), angular.isArray(a)) {
                        var d, e;
                        for (d = 0, e = a.length; e > d; d++)if (!c(a[d]))return !1;
                        return !0
                    }
                    throw new Error("You need to define the module(s) name(s)")
                }, load: function (h, j) {
                    var k, m, n = this, o = null, p = [], q = [], r = f.defer();
                    if (angular.isUndefined(j) && (j = {}), angular.isArray(h))return angular.forEach(h, function (a) {
                        a && q.push(n.load(a, j))
                    }), f.all(q).then(function () {
                        r.resolve(h)
                    }, function (a) {
                        r.reject(a)
                    }), r.promise;
                    if (k = g(h), "string" == typeof h ? (o = n.getModuleConfig(h), o || (o = {files: [h]}, k = null)) : "object" == typeof h && (o = n.setModuleConfig(h)), null === o ? (m = 'Module "' + k + '" is not configured, cannot load.', d.error(m), r.reject(new Error(m))) : angular.isDefined(o.template) && (angular.isUndefined(o.files) && (o.files = []), angular.isString(o.template) ? o.files.push(o.template) : angular.isArray(o.template) && o.files.concat(o.template)), p.push = function (a) {
                            -1 === this.indexOf(a) && Array.prototype.push.apply(this, arguments)
                        }, angular.isDefined(k) && b(k) && -1 !== i.indexOf(k) && (p.push(k), angular.isUndefined(o.files)))return r.resolve(), r.promise;
                    var s = {};
                    angular.extend(s, j, o);
                    var u = function v(e) {
                        var h, i, j, k, l = [];
                        if (h = g(e), null === h)return f.when();
                        try {
                            i = c(h)
                        } catch (m) {
                            var o = f.defer();
                            return d.error(m.message), o.reject(m), o.promise
                        }
                        return j = a(i), angular.forEach(j, function (a) {
                            if ("string" == typeof a) {
                                var c = n.getModuleConfig(a);
                                if (null === c)return void p.push(a);
                                a = c
                            }
                            return b(a.name) ? void("string" != typeof e && (k = a.files.filter(function (b) {
                                return n.getModuleConfig(a.name).files.indexOf(b) < 0
                            }), 0 !== k.length && d.warn('Module "', h, '" attempted to redefine configuration for dependency. "', a.name, '"\n Additional Files Loaded:', k), l.push(D(a.files, s).then(function () {
                                return v(a)
                            })))) : ("object" == typeof a && (a.hasOwnProperty("name") && a.name && (n.setModuleConfig(a), p.push(a.name)), a.hasOwnProperty("css") && 0 !== a.css.length && angular.forEach(a.css, function (a) {
                                C("css", a, s)
                            })), void(a.hasOwnProperty("files") && 0 !== a.files.length && a.files && l.push(D(a, s).then(function () {
                                return v(a)
                            }))))
                        }), f.all(l)
                    };
                    return D(o, s).then(function () {
                        null === k ? r.resolve(h) : (p.push(k), u(k).then(function () {
                            try {
                                l = [], e(t, p, s)
                            } catch (a) {
                                return d.error(a.message), void r.reject(a)
                            }
                            r.resolve(h)
                        }, function (a) {
                            r.reject(a)
                        }))
                    }, function (a) {
                        r.reject(a)
                    }), r.promise
                }
            }
        }], this.config = function (a) {
            if (angular.isDefined(a.jsLoader) || angular.isDefined(a.asyncLoader)) {
                if (!angular.isFunction(a.jsLoader || a.asyncLoader))throw"The js loader needs to be a function";
                p = a.jsLoader || a.asyncLoader
            }
            if (angular.isDefined(a.cssLoader)) {
                if (!angular.isFunction(a.cssLoader))throw"The css loader needs to be a function";
                q = a.cssLoader
            }
            if (angular.isDefined(a.templatesLoader)) {
                if (!angular.isFunction(a.templatesLoader))throw"The template loader needs to be a function";
                r = a.templatesLoader
            }
            if (angular.isDefined(a.loadedModules)) {
                var b = function (a) {
                    i.indexOf(a) < 0 && (i.push(a), angular.forEach(angular.module(a).requires, b))
                };
                angular.forEach(a.loadedModules, b)
            }
            angular.isDefined(a.modules) && (angular.isArray(a.modules) ? angular.forEach(a.modules, function (a) {
                s[a.name] = a
            }) : s[a.modules.name] = a.modules), angular.isDefined(a.debug) && (v = a.debug), angular.isDefined(a.events) && (w = a.events)
        }
    }]), n.directive("ocLazyLoad", ["$ocLazyLoad", "$compile", "$animate", "$parse", function (a, b, c, d) {
        return {
            restrict: "A", terminal: !0, priority: 1e3, compile: function (e) {
                var f = e[0].innerHTML;
                return e.html(""), function (e, g, h) {
                    var i = d(h.ocLazyLoad);
                    e.$watch(function () {
                        return i(e) || h.ocLazyLoad
                    }, function (d) {
                        angular.isDefined(d) && a.load(d).then(function () {
                            c.enter(b(f)(e), null, g)
                        })
                    }, !0)
                }
            }
        }
    }]), Array.prototype.indexOf || (Array.prototype.indexOf = function (a, b) {
        var c;
        if (null == this)throw new TypeError('"this" is null or not defined');
        var d = Object(this), e = d.length >>> 0;
        if (0 === e)return -1;
        var f = +b || 0;
        if (1 / 0 === Math.abs(f) && (f = 0), f >= e)return -1;
        for (c = Math.max(f >= 0 ? f : e - Math.abs(f), 0); e > c;) {
            if (c in d && d[c] === a)return c;
            c++
        }
        return -1
    })
}(), angular.module("xeditable", []).value("editableOptions", {
    theme: "default",
    buttons: "right",
    blurElem: "cancel",
    blurForm: "ignore",
    activate: "focus"
}), angular.module("xeditable").directive("editableBsdate", ["editableDirectiveFactory", function (a) {
    return a({directiveName: "editableBsdate", inputTpl: '<input type="text">'})
}]), angular.module("xeditable").directive("editableBstime", ["editableDirectiveFactory", function (a) {
    return a({
        directiveName: "editableBstime", inputTpl: "<timepicker></timepicker>", render: function () {
            this.parent.render.call(this);
            var a = angular.element('<div class="well well-small" style="display:inline-block;"></div>');
            a.attr("ng-model", this.inputEl.attr("ng-model")), this.inputEl.removeAttr("ng-model"), this.attrs.eNgChange && (a.attr("ng-change", this.inputEl.attr("ng-change")), this.inputEl.removeAttr("ng-change")), this.inputEl.wrap(a)
        }
    })
}]), angular.module("xeditable").directive("editableCheckbox", ["editableDirectiveFactory", function (a) {
    return a({
        directiveName: "editableCheckbox", inputTpl: '<input type="checkbox">', render: function () {
            this.parent.render.call(this), this.attrs.eTitle && (this.inputEl.wrap("<label></label>"), this.inputEl.after(angular.element("<span></span>").text(this.attrs.eTitle)))
        }, autosubmit: function () {
            var a = this;
            a.inputEl.bind("change", function () {
                setTimeout(function () {
                    a.scope.$apply(function () {
                        a.scope.$form.$submit()
                    })
                }, 500)
            })
        }
    })
}]), angular.module("xeditable").directive("editableChecklist", ["editableDirectiveFactory", "editableNgOptionsParser", function (a, b) {
    return a({
        directiveName: "editableChecklist", inputTpl: "<span></span>", useCopy: !0, render: function () {
            this.parent.render.call(this);
            var a = b(this.attrs.eNgOptions), c = '<label ng-repeat="' + a.ngRepeat + '"><input type="checkbox" checklist-model="$parent.$data" checklist-value="' + a.locals.valueFn + '"><span ng-bind="' + a.locals.displayFn + '"></span></label>';
            this.inputEl.removeAttr("ng-model"), this.inputEl.removeAttr("ng-options"), this.inputEl.html(c)
        }
    })
}]), function () {
    var a = "text|email|tel|number|url|search|color|date|datetime|time|month|week".split("|");
    angular.forEach(a, function (a) {
        var b = "editable" + a.charAt(0).toUpperCase() + a.slice(1);
        angular.module("xeditable").directive(b, ["editableDirectiveFactory", function (c) {
            return c({directiveName: b, inputTpl: '<input type="' + a + '">'})
        }])
    }), angular.module("xeditable").directive("editableRange", ["editableDirectiveFactory", function (a) {
        return a({
            directiveName: "editableRange",
            inputTpl: '<input type="range" id="range" name="range">',
            render: function () {
                this.parent.render.call(this), this.inputEl.after("<output>{{$data}}</output>")
            }
        })
    }])
}(), angular.module("xeditable").directive("editableRadiolist", ["editableDirectiveFactory", "editableNgOptionsParser", function (a, b) {
    return a({
        directiveName: "editableRadiolist", inputTpl: "<span></span>", render: function () {
            this.parent.render.call(this);
            var a = b(this.attrs.eNgOptions), c = '<label ng-repeat="' + a.ngRepeat + '"><input type="radio" ng-model="$parent.$data" value="{{' + a.locals.valueFn + '}}"><span ng-bind="' + a.locals.displayFn + '"></span></label>';
            this.inputEl.removeAttr("ng-model"), this.inputEl.removeAttr("ng-options"), this.inputEl.html(c)
        }, autosubmit: function () {
            var a = this;
            a.inputEl.bind("change", function () {
                setTimeout(function () {
                    a.scope.$apply(function () {
                        a.scope.$form.$submit()
                    })
                }, 500)
            })
        }
    })
}]), angular.module("xeditable").directive("editableSelect", ["editableDirectiveFactory", function (a) {
    return a({
        directiveName: "editableSelect", inputTpl: "<select></select>", autosubmit: function () {
            var a = this;
            a.inputEl.bind("change", function () {
                a.scope.$apply(function () {
                    a.scope.$form.$submit()
                })
            })
        }
    })
}]), angular.module("xeditable").directive("editableTextarea", ["editableDirectiveFactory", function (a) {
    return a({
        directiveName: "editableTextarea", inputTpl: "<textarea></textarea>", addListeners: function () {
            var a = this;
            a.parent.addListeners.call(a), a.single && "no" !== a.buttons && a.autosubmit()
        }, autosubmit: function () {
            var a = this;
            a.inputEl.bind("keydown", function (b) {
                (b.ctrlKey || b.metaKey) && 13 === b.keyCode && a.scope.$apply(function () {
                    a.scope.$form.$submit()
                })
            })
        }
    })
}]), angular.module("xeditable").factory("editableController", ["$q", "editableUtils", function (a, b) {
    function c(a, c, d, e, f, g, h, i, j) {
        var k, l, m = this;
        m.scope = a, m.elem = d, m.attrs = c, m.inputEl = null, m.editorEl = null, m.single = !0, m.error = "", m.theme = f[g.theme] || f["default"], m.parent = {}, m.inputTpl = "", m.directiveName = "", m.useCopy = !1, m.single = null, m.buttons = "right", m.init = function (b) {
            if (m.single = b, m.name = c.eName || c[m.directiveName], !c[m.directiveName])throw"You should provide value for `" + m.directiveName + "` in editable element!";
            k = e(c[m.directiveName]), m.buttons = m.single ? m.attrs.buttons || g.buttons : "no", c.eName && m.scope.$watch("$data", function (a) {
                m.scope.$form.$data[c.eName] = a
            }), c.onshow && (m.onshow = function () {
                return m.catchError(e(c.onshow)(a))
            }), c.onhide && (m.onhide = function () {
                return e(c.onhide)(a)
            }), c.oncancel && (m.oncancel = function () {
                return e(c.oncancel)(a)
            }), c.onbeforesave && (m.onbeforesave = function () {
                return m.catchError(e(c.onbeforesave)(a))
            }), c.onaftersave && (m.onaftersave = function () {
                return m.catchError(e(c.onaftersave)(a))
            }), a.$parent.$watch(c[m.directiveName], function () {
                m.handleEmpty()
            })
        }, m.render = function () {
            var a = m.theme;
            m.inputEl = angular.element(m.inputTpl), m.controlsEl = angular.element(a.controlsTpl), m.controlsEl.append(m.inputEl), "no" !== m.buttons && (m.buttonsEl = angular.element(a.buttonsTpl), m.submitEl = angular.element(a.submitTpl), m.cancelEl = angular.element(a.cancelTpl), m.buttonsEl.append(m.submitEl).append(m.cancelEl), m.controlsEl.append(m.buttonsEl), m.inputEl.addClass("editable-has-buttons")), m.errorEl = angular.element(a.errorTpl), m.controlsEl.append(m.errorEl), m.editorEl = angular.element(m.single ? a.formTpl : a.noformTpl), m.editorEl.append(m.controlsEl);
            for (var d in c.$attr)if (!(d.length <= 1)) {
                var e = !1, f = d.substring(1, 2);
                if ("e" === d.substring(0, 1) && f === f.toUpperCase() && (e = d.substring(1), "Form" !== e && "NgSubmit" !== e)) {
                    e = e.substring(0, 1).toLowerCase() + b.camelToDash(e.substring(1));
                    var h = "" === c[d] ? e : c[d];
                    m.inputEl.attr(e, h)
                }
            }
            m.inputEl.addClass("editable-input"), m.inputEl.attr("ng-model", "$data"), m.editorEl.addClass(b.camelToDash(m.directiveName)), m.single && (m.editorEl.attr("editable-form", "$form"), m.editorEl.attr("blur", m.attrs.blur || ("no" === m.buttons ? "cancel" : g.blurElem))), angular.isFunction(a.postrender) && a.postrender.call(m)
        }, m.setLocalValue = function () {
            m.scope.$data = m.useCopy ? angular.copy(k(a.$parent)) : k(a.$parent)
        }, m.show = function () {
            return m.setLocalValue(), m.render(), d.after(m.editorEl), i(m.editorEl)(a), m.addListeners(), d.addClass("editable-hide"), m.onshow()
        }, m.hide = function () {
            return m.editorEl.remove(), d.removeClass("editable-hide"), m.onhide()
        }, m.cancel = function () {
            m.oncancel()
        }, m.addListeners = function () {
            m.inputEl.bind("keyup", function (a) {
                if (m.single)switch (a.keyCode) {
                    case 27:
                        m.scope.$apply(function () {
                            m.scope.$form.$cancel()
                        })
                }
            }), m.single && "no" === m.buttons && m.autosubmit(), m.editorEl.bind("click", function (a) {
                1 === a.which && m.scope.$form.$visible && (m.scope.$form._clicked = !0)
            })
        }, m.setWaiting = function (a) {
            a ? (l = !m.inputEl.attr("disabled") && !m.inputEl.attr("ng-disabled") && !m.inputEl.attr("ng-enabled"), l && (m.inputEl.attr("disabled", "disabled"), m.buttonsEl && m.buttonsEl.find("button").attr("disabled", "disabled"))) : l && (m.inputEl.removeAttr("disabled"), m.buttonsEl && m.buttonsEl.find("button").removeAttr("disabled"))
        }, m.activate = function () {
            setTimeout(function () {
                var a = m.inputEl[0];
                "focus" === g.activate && a.focus && a.focus(), "select" === g.activate && a.select && a.select()
            }, 0)
        }, m.setError = function (b) {
            angular.isObject(b) || (a.$error = b, m.error = b)
        }, m.catchError = function (a, b) {
            return angular.isObject(a) && b !== !0 ? j.when(a).then(angular.bind(this, function (a) {
                this.catchError(a, !0)
            }), angular.bind(this, function (a) {
                this.catchError(a, !0)
            })) : b && angular.isObject(a) && a.status && 200 !== a.status && a.data && angular.isString(a.data) ? (this.setError(a.data), a = a.data) : angular.isString(a) && this.setError(a), a
        }, m.save = function () {
            k.assign(a.$parent, angular.copy(m.scope.$data))
        }, m.handleEmpty = function () {
            var b = k(a.$parent), c = null === b || void 0 === b || "" === b || angular.isArray(b) && 0 === b.length;
            d.toggleClass("editable-empty", c)
        }, m.autosubmit = angular.noop, m.onshow = angular.noop, m.onhide = angular.noop, m.oncancel = angular.noop, m.onbeforesave = angular.noop, m.onaftersave = angular.noop
    }

    return c.$inject = ["$scope", "$attrs", "$element", "$parse", "editableThemes", "editableOptions", "$rootScope", "$compile", "$q"], c
}]), angular.module("xeditable").factory("editableDirectiveFactory", ["$parse", "$compile", "editableThemes", "$rootScope", "$document", "editableController", "editableFormController", function (a, b, c, d, e, f, g) {
    return function (b) {
        return {
            restrict: "A",
            scope: !0,
            require: [b.directiveName, "?^form"],
            controller: f,
            link: function (c, f, h, i) {
                var j, k = i[0], l = !1;
                if (i[1])j = i[1], l = !0; else if (h.eForm) {
                    var m = a(h.eForm)(c);
                    if (m)j = m, l = !0; else for (var n = 0; n < e[0].forms.length; n++)if (e[0].forms[n].name === h.eForm) {
                        j = null, l = !0;
                        break
                    }
                }
                if (angular.forEach(b, function (a, b) {
                        void 0 !== k[b] && (k.parent[b] = k[b])
                    }), angular.extend(k, b), k.init(!l), c.$editable = k, f.addClass("editable"), l)if (j) {
                    if (c.$form = j, !c.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";
                    c.$form.$addEditable(k)
                } else d.$$editableBuffer = d.$$editableBuffer || {}, d.$$editableBuffer[h.eForm] = d.$$editableBuffer[h.eForm] || [], d.$$editableBuffer[h.eForm].push(k), c.$form = null; else c.$form = g(), c.$form.$addEditable(k), h.eForm && (c.$parent[h.eForm] = c.$form), h.eForm || (f.addClass("editable-click"), f.bind("click", function (a) {
                    a.preventDefault(), a.editable = k, c.$apply(function () {
                        c.$form.$show()
                    })
                }))
            }
        }
    }
}]), angular.module("xeditable").factory("editableFormController", ["$parse", "$document", "$rootScope", "editablePromiseCollection", "editableUtils", function (a, b, c, d, e) {
    var f = [];
    b.bind("click", function (a) {
        if (1 === a.which) {
            for (var b = [], d = [], e = 0; e < f.length; e++)f[e]._clicked ? f[e]._clicked = !1 : f[e].$waiting || ("cancel" === f[e]._blur && b.push(f[e]), "submit" === f[e]._blur && d.push(f[e]));
            (b.length || d.length) && c.$apply(function () {
                angular.forEach(b, function (a) {
                    a.$cancel()
                }), angular.forEach(d, function (a) {
                    a.$submit()
                })
            })
        }
    });
    var g = {
        $addEditable: function (a) {
            this.$editables.push(a), a.elem.bind("$destroy", angular.bind(this, this.$removeEditable, a)), a.scope.$form || (a.scope.$form = this), this.$visible && a.catchError(a.show())
        },
        $removeEditable: function (a) {
            for (var b = 0; b < this.$editables.length; b++)if (this.$editables[b] === a)return void this.$editables.splice(b, 1)
        },
        $show: function () {
            if (!this.$visible) {
                this.$visible = !0;
                var a = d();
                a.when(this.$onshow()), this.$setError(null, ""), angular.forEach(this.$editables, function (b) {
                    a.when(b.show())
                }), a.then({
                    onWait: angular.bind(this, this.$setWaiting),
                    onTrue: angular.bind(this, this.$activate),
                    onFalse: angular.bind(this, this.$activate),
                    onString: angular.bind(this, this.$activate)
                }), setTimeout(angular.bind(this, function () {
                    this._clicked = !1, -1 === e.indexOf(f, this) && f.push(this)
                }), 0)
            }
        },
        $activate: function (a) {
            var b;
            if (this.$editables.length) {
                if (angular.isString(a))for (b = 0; b < this.$editables.length; b++)if (this.$editables[b].name === a)return void this.$editables[b].activate();
                for (b = 0; b < this.$editables.length; b++)if (this.$editables[b].error)return void this.$editables[b].activate();
                this.$editables[0].activate()
            }
        },
        $hide: function () {
            this.$visible && (this.$visible = !1, this.$onhide(), angular.forEach(this.$editables, function (a) {
                a.hide()
            }), e.arrayRemove(f, this))
        },
        $cancel: function () {
            this.$visible && (this.$oncancel(), angular.forEach(this.$editables, function (a) {
                a.cancel()
            }), this.$hide())
        },
        $setWaiting: function (a) {
            this.$waiting = !!a, angular.forEach(this.$editables, function (b) {
                b.setWaiting(!!a)
            })
        },
        $setError: function (a, b) {
            angular.forEach(this.$editables, function (c) {
                a && c.name !== a || c.setError(b)
            })
        },
        $submit: function () {
            function a(a) {
                var b = d();
                b.when(this.$onbeforesave()), b.then({
                    onWait: angular.bind(this, this.$setWaiting),
                    onTrue: a ? angular.bind(this, this.$save) : angular.bind(this, this.$hide),
                    onFalse: angular.bind(this, this.$hide),
                    onString: angular.bind(this, this.$activate)
                })
            }

            if (!this.$waiting) {
                this.$setError(null, "");
                var b = d();
                angular.forEach(this.$editables, function (a) {
                    b.when(a.onbeforesave())
                }), b.then({
                    onWait: angular.bind(this, this.$setWaiting),
                    onTrue: angular.bind(this, a, !0),
                    onFalse: angular.bind(this, a, !1),
                    onString: angular.bind(this, this.$activate)
                })
            }
        },
        $save: function () {
            angular.forEach(this.$editables, function (a) {
                a.save()
            });
            var a = d();
            a.when(this.$onaftersave()), angular.forEach(this.$editables, function (b) {
                a.when(b.onaftersave())
            }), a.then({
                onWait: angular.bind(this, this.$setWaiting),
                onTrue: angular.bind(this, this.$hide),
                onFalse: angular.bind(this, this.$hide),
                onString: angular.bind(this, this.$activate)
            })
        },
        $onshow: angular.noop,
        $oncancel: angular.noop,
        $onhide: angular.noop,
        $onbeforesave: angular.noop,
        $onaftersave: angular.noop
    };
    return function () {
        return angular.extend({$editables: [], $visible: !1, $waiting: !1, $data: {}, _clicked: !1, _blur: null}, g)
    }
}]), angular.module("xeditable").directive("editableForm", ["$rootScope", "$parse", "editableFormController", "editableOptions", function (a, b, c, d) {
    return {
        restrict: "A", require: ["form"], compile: function () {
            return {
                pre: function (b, d, e, f) {
                    var g, h = f[0];
                    e.editableForm ? b[e.editableForm] && b[e.editableForm].$show ? (g = b[e.editableForm], angular.extend(h, g)) : (g = c(), b[e.editableForm] = g, angular.extend(g, h)) : (g = c(), angular.extend(h, g));
                    var i = a.$$editableBuffer, j = h.$name;
                    j && i && i[j] && (angular.forEach(i[j], function (a) {
                        g.$addEditable(a)
                    }), delete i[j])
                }, post: function (a, c, e, f) {
                    var g;
                    g = e.editableForm && a[e.editableForm] && a[e.editableForm].$show ? a[e.editableForm] : f[0], e.onshow && (g.$onshow = angular.bind(g, b(e.onshow), a)), e.onhide && (g.$onhide = angular.bind(g, b(e.onhide), a)), e.oncancel && (g.$oncancel = angular.bind(g, b(e.oncancel), a)), e.shown && b(e.shown)(a) && g.$show(), g._blur = e.blur || d.blurForm, e.ngSubmit || e.submit || (e.onbeforesave && (g.$onbeforesave = function () {
                        return b(e.onbeforesave)(a, {$data: g.$data})
                    }), e.onaftersave && (g.$onaftersave = function () {
                        return b(e.onaftersave)(a, {$data: g.$data})
                    }), c.bind("submit", function (b) {
                        b.preventDefault(), a.$apply(function () {
                            g.$submit()
                        })
                    })), c.bind("click", function (a) {
                        1 === a.which && g.$visible && (g._clicked = !0)
                    })
                }
            }
        }
    }
}]), angular.module("xeditable").factory("editablePromiseCollection", ["$q", function (a) {
    function b() {
        return {
            promises: [], hasFalse: !1, hasString: !1, when: function (b, c) {
                if (b === !1)this.hasFalse = !0; else if (!c && angular.isObject(b))this.promises.push(a.when(b)); else {
                    if (!angular.isString(b))return;
                    this.hasString = !0
                }
            }, then: function (b) {
                function c() {
                    h.hasString || h.hasFalse ? !h.hasString && h.hasFalse ? e() : f() : d()
                }

                b = b || {};
                var d = b.onTrue || angular.noop, e = b.onFalse || angular.noop, f = b.onString || angular.noop, g = b.onWait || angular.noop, h = this;
                this.promises.length ? (g(!0), a.all(this.promises).then(function (a) {
                    g(!1), angular.forEach(a, function (a) {
                        h.when(a, !0)
                    }), c()
                }, function () {
                    g(!1), f()
                })) : c()
            }
        }
    }

    return b
}]), angular.module("xeditable").factory("editableUtils", [function () {
    return {
        indexOf: function (a, b) {
            if (a.indexOf)return a.indexOf(b);
            for (var c = 0; c < a.length; c++)if (b === a[c])return c;
            return -1
        }, arrayRemove: function (a, b) {
            var c = this.indexOf(a, b);
            return c >= 0 && a.splice(c, 1), b
        }, camelToDash: function (a) {
            var b = /[A-Z]/g;
            return a.replace(b, function (a, b) {
                return (b ? "-" : "") + a.toLowerCase()
            })
        }, dashToCamel: function (a) {
            var b = /([\:\-\_]+(.))/g, c = /^moz([A-Z])/;
            return a.replace(b, function (a, b, c, d) {
                return d ? c.toUpperCase() : c
            }).replace(c, "Moz$1")
        }
    }
}]), angular.module("xeditable").factory("editableNgOptionsParser", [function () {
    function a(a) {
        var c;
        if (!(c = a.match(b)))throw"ng-options parse error";
        var d, e = c[2] || c[1], f = c[4] || c[6], g = c[5], h = (c[3] || "", c[2] ? c[1] : f), i = c[7], j = c[8], k = j ? c[8] : null;
        return void 0 === g ? (d = f + " in " + i, void 0 !== j && (d += " track by " + k)) : d = "(" + g + ", " + f + ") in " + i, {
            ngRepeat: d,
            locals: {valueName: f, keyName: g, valueFn: h, displayFn: e}
        }
    }

    var b = /^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;
    return a
}]), angular.module("xeditable").factory("editableThemes", function () {
    var a = {
        "default": {
            formTpl: '<form class="editable-wrap"></form>',
            noformTpl: '<span class="editable-wrap"></span>',
            controlsTpl: '<span class="editable-controls"></span>',
            inputTpl: "",
            errorTpl: '<div class="editable-error" ng-show="$error" ng-bind="$error"></div>',
            buttonsTpl: '<span class="editable-buttons"></span>',
            submitTpl: '<button type="submit">save</button>',
            cancelTpl: '<button type="button" ng-click="$form.$cancel()">cancel</button>'
        },
        bs2: {
            formTpl: '<form class="form-inline editable-wrap" role="form"></form>',
            noformTpl: '<span class="editable-wrap"></span>',
            controlsTpl: '<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',
            inputTpl: "",
            errorTpl: '<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',
            buttonsTpl: '<span class="editable-buttons"></span>',
            submitTpl: '<button type="submit" class="btn btn-primary"><span class="icon-ok icon-white"></span></button>',
            cancelTpl: '<button type="button" class="btn" ng-click="$form.$cancel()"><span class="icon-remove"></span></button>'
        },
        bs3: {
            formTpl: '<form class="form-inline editable-wrap" role="form"></form>',
            noformTpl: '<span class="editable-wrap"></span>',
            controlsTpl: '<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',
            inputTpl: "",
            errorTpl: '<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',
            buttonsTpl: '<span class="editable-buttons"></span>',
            submitTpl: '<button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-ok"></span></button>',
            cancelTpl: '<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span class="glyphicon glyphicon-remove"></span></button>',
            buttonsClass: "",
            inputClass: "",
            postrender: function () {
                switch (this.directiveName) {
                    case"editableText":
                    case"editableSelect":
                    case"editableTextarea":
                    case"editableEmail":
                    case"editableTel":
                    case"editableNumber":
                    case"editableUrl":
                    case"editableSearch":
                    case"editableDate":
                    case"editableDatetime":
                    case"editableTime":
                    case"editableMonth":
                    case"editableWeek":
                        if (this.inputEl.addClass("form-control"), this.theme.inputClass) {
                            if (this.inputEl.attr("multiple") && ("input-sm" === this.theme.inputClass || "input-lg" === this.theme.inputClass))break;
                            this.inputEl.addClass(this.theme.inputClass)
                        }
                }
                this.buttonsEl && this.theme.buttonsClass && this.buttonsEl.find("button").addClass(this.theme.buttonsClass)
            }
        }
    };
    return a
}), angular.module("ab-base64", []).constant("base64", function () {
    var a = {
        alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
        lookup: null,
        ie: /MSIE /.test(navigator.userAgent),
        ieo: /MSIE [67]/.test(navigator.userAgent),
        encode: function (b) {
            var c, d, e, f, g = a.toUtf8(b), h = -1, i = g.length, j = [, , ,];
            if (a.ie) {
                for (c = []; ++h < i;)d = g[h], e = g[++h], j[0] = d >> 2, j[1] = (3 & d) << 4 | e >> 4, isNaN(e) ? j[2] = j[3] = 64 : (f = g[++h], j[2] = (15 & e) << 2 | f >> 6, j[3] = isNaN(f) ? 64 : 63 & f), c.push(a.alphabet.charAt(j[0]), a.alphabet.charAt(j[1]), a.alphabet.charAt(j[2]), a.alphabet.charAt(j[3]));
                return c.join("")
            }
            for (c = ""; ++h < i;)d = g[h], e = g[++h], j[0] = d >> 2, j[1] = (3 & d) << 4 | e >> 4, isNaN(e) ? j[2] = j[3] = 64 : (f = g[++h], j[2] = (15 & e) << 2 | f >> 6, j[3] = isNaN(f) ? 64 : 63 & f), c += a.alphabet[j[0]] + a.alphabet[j[1]] + a.alphabet[j[2]] + a.alphabet[j[3]];
            return c
        },
        decode: function (b) {
            if (b = b.replace(/\s/g, ""), b.length % 4)throw new Error("InvalidLengthError: decode failed: The string to be decoded is not the correct length for a base64 encoded string.");
            if (/[^A-Za-z0-9+\/=\s]/g.test(b))throw new Error("InvalidCharacterError: decode failed: The string contains characters invalid in a base64 encoded string.");
            var c, d = a.fromUtf8(b), e = 0, f = d.length;
            if (a.ieo) {
                for (c = []; f > e;)c.push(String.fromCharCode(d[e] < 128 ? d[e++] : d[e] > 191 && d[e] < 224 ? (31 & d[e++]) << 6 | 63 & d[e++] : (15 & d[e++]) << 12 | (63 & d[e++]) << 6 | 63 & d[e++]));
                return c.join("")
            }
            for (c = ""; f > e;)c += String.fromCharCode(d[e] < 128 ? d[e++] : d[e] > 191 && d[e] < 224 ? (31 & d[e++]) << 6 | 63 & d[e++] : (15 & d[e++]) << 12 | (63 & d[e++]) << 6 | 63 & d[e++]);
            return c
        },
        toUtf8: function (a) {
            var b, c = -1, d = a.length, e = [];
            if (/^[\x00-\x7f]*$/.test(a))for (; ++c < d;)e.push(a.charCodeAt(c)); else for (; ++c < d;)b = a.charCodeAt(c), 128 > b ? e.push(b) : 2048 > b ? e.push(b >> 6 | 192, 63 & b | 128) : e.push(b >> 12 | 224, b >> 6 & 63 | 128, 63 & b | 128);
            return e
        },
        fromUtf8: function (b) {
            var c, d = -1, e = [], f = [, , ,];
            if (!a.lookup) {
                for (c = a.alphabet.length, a.lookup = {}; ++d < c;)a.lookup[a.alphabet.charAt(d)] = d;
                d = -1
            }
            for (c = b.length; ++d < c && (f[0] = a.lookup[b.charAt(d)], f[1] = a.lookup[b.charAt(++d)], e.push(f[0] << 2 | f[1] >> 4), f[2] = a.lookup[b.charAt(++d)], 64 !== f[2]) && (e.push((15 & f[1]) << 4 | f[2] >> 2), f[3] = a.lookup[b.charAt(++d)], 64 !== f[3]);)e.push((3 & f[2]) << 6 | f[3]);
            return e
        }
    }, b = {
        decode: function (b) {
            b = b.replace(/-/g, "+").replace(/_/g, "/");
            var c = b.length % 4;
            if (c) {
                if (1 === c)throw new Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");
                b += new Array(5 - c).join("=")
            }
            return a.decode(b)
        }, encode: function (b) {
            var c = a.encode(b);
            return c.replace(/\+/g, "-").replace(/\//g, "_").split("=", 1)[0]
        }
    };
    return {decode: a.decode, encode: a.encode, urldecode: b.decode, urlencode: b.encode}
}()), angular.module("cgBusy", []), angular.module("cgBusy").factory("_cgBusyTrackerFactory", ["$timeout", "$q", function (a, b) {
    return function () {
        var c = {};
        c.promises = [], c.delayPromise = null, c.durationPromise = null, c.delayJustFinished = !1, c.reset = function (b) {
            c.minDuration = b.minDuration, c.promises = [], angular.forEach(b.promises, function (a) {
                a && !a.$cgBusyFulfilled && d(a)
            }), 0 !== c.promises.length && (c.delayJustFinished = !1, b.delay && (c.delayPromise = a(function () {
                c.delayPromise = null, c.delayJustFinished = !0
            }, parseInt(b.delay, 10))), b.minDuration && (c.durationPromise = a(function () {
                c.durationPromise = null
            }, parseInt(b.minDuration, 10) + (b.delay ? parseInt(b.delay, 10) : 0))))
        }, c.getThen = function (a) {
            var c = a && (a.then || a.$then || a.$promise && a.$promise.then);
            return a.denodeify ? b.when(a).then : c
        };
        var d = function (a) {
            var b = c.getThen(a);
            if (!b)throw new Error("cgBusy expects a promise (or something that has a .promise or .$promise");
            -1 === c.promises.indexOf(a) && (c.promises.push(a), b(function () {
                a.$cgBusyFulfilled = !0, -1 !== c.promises.indexOf(a) && c.promises.splice(c.promises.indexOf(a), 1)
            }, function () {
                a.$cgBusyFulfilled = !0, -1 !== c.promises.indexOf(a) && c.promises.splice(c.promises.indexOf(a), 1)
            }))
        };
        return c.active = function () {
            return c.delayPromise ? !1 : c.delayJustFinished ? (c.delayJustFinished = !1, c.promises.length > 0) : c.durationPromise ? !0 : c.promises.length > 0
        }, c
    }
}]), angular.module("cgBusy").value("cgBusyDefaults", {}), angular.module("cgBusy").directive("cgBusy", ["$compile", "$templateCache", "cgBusyDefaults", "$http", "_cgBusyTrackerFactory", function (a, b, c, d, e) {
    return {
        restrict: "A", link: function (f, g, h) {
            var i = g.css("position");
            ("static" === i || "" === i || "undefined" == typeof i) && g.css("position", "relative");
            var j, k, l, m, n, o = e(), p = {
                templateUrl: "angular-busy.html",
                delay: 0,
                minDuration: 0,
                backdrop: !0,
                message: "Please Wait..."
            };
            angular.extend(p, c), f.$watchCollection(h.cgBusy, function (c) {
                if (c || (c = {promise: null}), angular.isString(c))throw new Error("Invalid value for cg-busy.  cgBusy no longer accepts string ids to represent promises/trackers.");
                (angular.isArray(c) || o.getThen(c)) && (c = {promise: c}), c = angular.extend(angular.copy(p), c), c.templateUrl || (c.templateUrl = p.templateUrl), angular.isArray(c.promise) || (c.promise = [c.promise]), m || (m = f.$new()), m.$message = c.message, angular.equals(o.promises, c.promise) || o.reset({
                    promises: c.promise,
                    delay: c.delay,
                    minDuration: c.minDuration
                }), m.$cgBusyIsActive = function () {
                    return o.active()
                }, j && l === c.templateUrl && n === c.backdrop || (j && j.remove(), k && k.remove(), l = c.templateUrl, n = c.backdrop, d.get(l, {cache: b}).success(function (b) {
                    if (c.backdrop = "undefined" == typeof c.backdrop ? !0 : c.backdrop, c.backdrop) {
                        var d = '<div class="cg-busy cg-busy-backdrop cg-busy-backdrop-animation ng-hide" ng-show="$cgBusyIsActive()"></div>';
                        k = a(d)(m), g.append(k)
                    }
                    var e = '<div class="cg-busy cg-busy-animation ng-hide" ng-show="$cgBusyIsActive()">' + b + "</div>";
                    j = a(e)(m), angular.element(j.children()[0]).css("position", "absolute").css("top", 0).css("left", 0).css("right", 0).css("bottom", 0), g.append(j)
                }).error(function (a) {
                    throw new Error("Template specified for cgBusy (" + c.templateUrl + ") could not be loaded. " + a)
                }))
            }, !0)
        }
    }
}]), angular.module("cgBusy").run(["$templateCache", function (a) {
    "use strict";
    a.put("angular-busy.html", '<div class="cg-busy-default-wrapper">\n\n   <div class="cg-busy-default-sign">\n\n      <div class="cg-busy-default-spinner">\n         <div class="bar1"></div>\n         <div class="bar2"></div>\n         <div class="bar3"></div>\n         <div class="bar4"></div>\n         <div class="bar5"></div>\n         <div class="bar6"></div>\n         <div class="bar7"></div>\n         <div class="bar8"></div>\n         <div class="bar9"></div>\n         <div class="bar10"></div>\n         <div class="bar11"></div>\n         <div class="bar12"></div>\n      </div>\n\n      <div class="cg-busy-default-text">{$ $message $}</div>\n\n   </div>\n\n</div>')
}]), angular.module("djangoRESTResources", ["ng"]).factory("djResource", ["$http", "$parse", function (a, b) {
    function c(a) {
        return d(a, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+")
    }

    function d(a, b) {
        return encodeURIComponent(a).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, b ? "%20" : "+")
    }

    function e(a, b) {
        this.template = a += "#", this.defaults = b || {}, this.urlParams = {}
    }

    function f(b, c, d) {
        function n(a, b) {
            var d = {};
            return b = j({}, c, b), i(b, function (b, c) {
                l(b) && (b = b()), d[c] = b.charAt && "@" == b.charAt(0) ? m(a, b.substr(1)) : b
            }), d
        }

        function o(a) {
            k(a || {}, this)
        }

        var p = new e(b);
        return d = j({}, g, d), i(d, function (b, c) {
            b.method = angular.uppercase(b.method);
            var d = "POST" == b.method || "PUT" == b.method || "PATCH" == b.method;
            o[c] = function (c, e, f, g) {
                function m() {
                    v.$resolved = !0
                }

                var q, r, s = {}, t = h, u = null;
                switch (arguments.length) {
                    case 4:
                        u = g, t = f;
                    case 3:
                    case 2:
                        if (!l(e)) {
                            s = c, q = e, t = f;
                            break
                        }
                        if (l(c)) {
                            t = c, u = e;
                            break
                        }
                        t = e, u = f;
                    case 1:
                        l(c) ? t = c : d ? q = c : s = c;
                        break;
                    case 0:
                        break;
                    default:
                        throw"Expected between 0-4 arguments [params, data, success, error], got " + arguments.length + " arguments."
                }
                var r, v = this instanceof o ? this : b.isArray ? [] : new o(q), w = {};
                return i(b, function (a, c) {
                    if ("method" == c && b.hasOwnProperty("method_if_field_has_value")) {
                        var d = b.method_if_field_has_value[0], e = b.method_if_field_has_value[1];
                        w.method = q.hasOwnProperty(d) && null !== q[d] ? e : b.method
                    } else"params" != c && "isArray" != c && (w[c] = k(a))
                }), w.data = q, p.setUrlParams(w, j({}, n(q, b.params || {}), s), b.url), r = a(w), v.$resolved = !1, r.then(m, m), v.$then = r.then(function (c) {
                    var d = c.data, e = v.$then, f = v.$resolved, g = !1;
                    if (d)if (b.isArray)if (v.length = 0, d.hasOwnProperty("count") && d.hasOwnProperty("results")) {
                        g = !0;
                        var j = function l(b) {
                            if (null !== b.next) {
                                var d = k(w);
                                d.params = {}, d.url = b.next, a(d).success(function (a) {
                                    l(a)
                                }).error(u)
                            }
                            i(b.results, function (a) {
                                v.push(new o(a))
                            }), null == b.next && (t || h)(v, c.headers)
                        };
                        j(d)
                    } else i(d, function (a) {
                        v.push(new o(a))
                    }); else k(d, v), v.$then = e, v.$resolved = f, v.$promise = r;
                    return g || (t || h)(v, c.headers), c.resource = v, c
                }, u).then, v
            }, o.prototype["$" + c] = function (a, b, e) {
                var f, g = n(this), i = h;
                switch (arguments.length) {
                    case 3:
                        g = a, i = b, f = e;
                        break;
                    case 2:
                    case 1:
                        l(a) ? (i = a, f = b) : (g = a, i = b || h);
                    case 0:
                        break;
                    default:
                        throw"Expected between 1-3 arguments [params, success, error], got " + arguments.length + " arguments."
                }
                var j = d ? this : void 0;
                return o[c].call(this, g, j, i, f)
            }
        }), o.bind = function (a) {
            return f(b, j({}, c, a), d)
        }, o
    }

    var g = {
        get: {method: "GET"},
        save: {method: "POST", method_if_field_has_value: ["id", "PUT"]},
        update: {method: "PUT"},
        query: {method: "GET", isArray: !0},
        remove: {method: "DELETE"},
        "delete": {method: "DELETE"},
        specialsave: {method: "POST"}
    }, h = angular.noop, i = angular.forEach, j = angular.extend, k = angular.copy, l = angular.isFunction, m = function (a, c) {
        return b(c)(a)
    };
    return e.prototype = {
        setUrlParams: function (a, b, d) {
            var e, f, g = this, h = d || g.template, j = g.urlParams = {};
            i(h.split(/\W/), function (a) {
                a && new RegExp("(^|[^\\\\]):" + a + "(\\W|$)").test(h) && (j[a] = !0)
            }), h = h.replace(/\\:/g, ":"), b = b || {}, i(g.urlParams, function (a, d) {
                e = b.hasOwnProperty(d) ? b[d] : g.defaults[d], angular.isDefined(e) && null !== e ? (f = c(e), h = h.replace(new RegExp(":" + d + "(\\W|$)", "g"), f + "$1")) : h = h.replace(new RegExp("(/?):" + d + "(\\W|$)", "g"), function (a, b, c) {
                    return "/" == c.charAt(0) ? c : b + c
                })
            }), a.url = h.replace(/#$/, ""), i(b, function (b, c) {
                g.urlParams[c] || (a.params = a.params || {}, a.params[c] = b)
            })
        }
    }, f
}]), angular.module("ui.codemirror", []).constant("uiCodemirrorConfig", {}).directive("uiCodemirror", uiCodemirrorDirective), uiCodemirrorDirective.$inject = ["$timeout", "uiCodemirrorConfig", "$rootScope"], function (a, b) {
    "use strict";
    function c(a) {
        return a.split("").reduce(function (a, b) {
            return a = (a << 5) - a + b.charCodeAt(0), a & a
        }, 0)
    }

    var d = a.module("ng.django.forms", []);
    d.directive("input", ["$compile", function (b) {
        return {
            restrict: "E", require: "?^form", link: function (d, e, f, g) {
                var h;
                !g || a.isUndefined(g.$name) || "hidden" === e.prop("type") || a.isUndefined(f.name) || a.isDefined(f.ngModel) || (h = "dmy" + Math.abs(c(g.$name)) + "." + f.name, f.$set("ngModel", h), b(e, null, 9999)(d))
            }
        }
    }]), d.directive("ngModel", function () {
        function b(a, b) {
            switch (b.type) {
                case"radio":
                    b.defaultChecked && a.$setViewValue(b.defaultValue);
                    break;
                case"checkbox":
                    b.defaultChecked && a.$setViewValue(!0);
                    break;
                case"password":
                    a.$setViewValue(null);
                    break;
                default:
                    b.defaultValue && a.$setViewValue(b.defaultValue)
            }
        }

        function c(b, c) {
            var d = [];
            a.forEach(c.options, function (e) {
                e.defaultSelected && (a.element(e).prop("selected", "selected"), c.multiple ? d.push(e.value) : b.$setViewValue(e.value))
            }), c.multiple && b.$setViewValue(d)
        }

        function d(a, b) {
            b.defaultValue && a.$setViewValue(b.defaultValue)
        }

        return {
            restrict: "A", priority: 1, require: ["ngModel", "^?form"], link: function (e, f, g, h) {
                var i = a.isElement(f) ? f[0] : null, j = h[0], k = h[1] || null;
                if (i && k) {
                    switch (g.djngError && (j.$setValidity(g.djngError, !1), f.removeAttr("djng-error")), i.tagName) {
                        case"INPUT":
                            b(j, i);
                            break;
                        case"SELECT":
                            c(j, i);
                            break;
                        case"TEXTAREA":
                            d(j, i)
                    }
                    k.$setPristine()
                }
            }
        }
    }), d.directive("validateDate", function () {
        function a(a) {
            var b, d;
            return a ? (d = new Date(a), isNaN(d) ? !1 : c ? (b = c.exec(a), b && parseInt(b[2]) === d.getMonth() + 1) : !0) : !0
        }

        var c = null;
        return {
            require: "?ngModel", restrict: "A", link: function (d, e, f, g) {
                if (g) {
                    f.validateDate && (c = new RegExp(f.validateDate, "i"));
                    var h = function (c) {
                        var d = g.$isEmpty(c) || a(c);
                        return g.$setValidity("date", d), d ? c : b
                    };
                    g.$parsers.push(h)
                }
            }
        }
    }), d.factory("djangoForm", function () {
        function c(a) {
            for (var b in a)if (a.hasOwnProperty(b))return !0;
            return !1
        }

        var d = "__all__";
        return {
            setErrors: function (e, f) {
                return e.$message = "", e.$error.hasOwnProperty("rejected") && a.forEach(e.$error.rejected, function (a) {
                    var c, d = a.$name;
                    e.hasOwnProperty(d) && (c = e[d], c.$message = "", c.$setValidity("rejected", !0), c.rejectedListenerPos !== b && (c.$viewChangeListeners.splice(c.rejectedListenerPos, 1), delete c.rejectedListenerPos))
                }), a.forEach(f, function (a, b) {
                    var c;
                    a.length > 0 && (b === d ? (e.$message = a[0], e.$setPristine()) : e.hasOwnProperty(b) && (c = e[b], c.$message = a[0], c.$setValidity("rejected", !1), c.$setPristine(), c.rejectedListenerPos = c.$viewChangeListeners.push(function () {
                            c.$setValidity("rejected", !0), c.$viewChangeListeners.splice(c.rejectedListenerPos, 1), delete c.rejectedListenerPos
                        }) - 1))
                }), c(f)
            }
        }
    }), d.provider("djangoRMI", function () {
        function c(d) {
            a.forEach(d, function (f, g) {
                if (!a.isObject(f))throw new Error("djangoRMI.configure got invalid data");
                f.hasOwnProperty("url") ? (f.headers["X-Requested-With"] = "XMLHttpRequest", d[g] = function (c) {
                    var d = a.copy(f);
                    if ("POST" === d.method) {
                        if (c === b)throw new Error("Calling remote method " + g + " without data object");
                        d.data = c
                    } else"auto" === d.method && (c === b ? d.method = "GET" : (d.method = "POST", d.data = c));
                    return e(d)
                }) : c(f)
            })
        }

        var d, e;
        this.configure = function (a) {
            d = a, c(d)
        }, this.$get = ["$http", function (a) {
            return e = a, d
        }]
    })
}(window.angular), function (a) {
    "use strict";
    var b = a.module("ng.django.urls", []);
    b.service("djangoUrl", ["patterns", function (a) {
        function b(a, b) {
            return a.replace(/\([^\)]+\)/g, function () {
                if (0 === b.length)throw"Djangular URL error: Not enough arguments";
                return b.shift()
            })
        }

        function c(a, b) {
            return b = b || {}, a.replace(/\([^\)]+\)/g, function (a) {
                var c = a.match(/<([^>]+)>/)[1];
                return "undefined" == typeof b[c] ? ":" + c : b[c]
            })
        }

        this.reverse = function (d, e) {
            var f = a[d];
            if ("undefined" == typeof f)throw"Djangular URL error: No matching URL found";
            return Array.isArray(e) ? b(f, e) : c(f, e)
        }
    }])
}(window.angular), function (a) {
    "use strict";
    function b() {
    }

    var c = a.module("ng.django.websocket", []);
    c.service("$websocket", function () {
        var a;
        this.connect = function (b) {
            a = new WebSocket(b), a.onopen = this.onopen, a.onmessage = this.onmessage, a.onerror = this.onerror, a.onclose = this.onclose
        }, this.send = function (b) {
            a.send(b)
        }, this.close = function () {
            a.close()
        }
    }), c.provider("djangoWebsocket", function () {
        var c, d = {log: b, warn: b, error: b}, e = null;
        this.setURI = function (a) {
            return c = a, this
        }, this.setHeartbeat = function (a) {
            return e = a, this
        }, this.setLogLevel = function (a) {
            switch (a) {
                case"debug":
                    d = console;
                    break;
                case"log":
                    d.log = console.log;
                case"warn":
                    d.warn = console.warn;
                case"error":
                    d.error = console.error
            }
            return this
        }, this.$get = ["$websocket", "$q", "$timeout", "$interval", function (b, f, g, h) {
            function i() {
                d.log("Connecting to " + o), p = f.defer(), b.connect(o)
            }

            function j() {
                try {
                    if (x++, x > 3)throw new Error("Too many missed heartbeats.");
                    b.send(e)
                } catch (a) {
                    h.cancel(w), w = null, d.warn("Closing connection. Reason: " + a.message), b.close()
                }
            }

            function k(c, d) {
                u || a.equals(d, c) || b.send(a.toJson(c))
            }

            function l(b) {
                a.forEach(b, function (a) {
                    "subscribe" === a.substring(0, 9) ? s = !0 : "publish" === a.substring(0, 7) && (t = !0)
                })
            }

            function m() {
                q.$watchCollection(r, k)
            }

            function n(a, b) {
                var d = [c, a, "?"];
                d.push(b.join("&")), o = d.join("")
            }

            var o, p, q, r, s = !1, t = !1, u = !1, v = 0, w = null, x = 0;
            return b.onopen = function () {
                d.log("Connected"), p.resolve(), v = 0, e && null === w && (x = 0, w = h(j, 5e3))
            }, b.onclose = function () {
                d.log("Disconnected"), p.reject(), v = Math.min(v + 1e3, 1e4), g(function () {
                    b.connect(o)
                }, v)
            }, b.onerror = function () {
                d.error("Websocket connection is broken!"), b.close()
            }, b.onmessage = function (b) {
                var c;
                if (b.data === e)return void(x = 0);
                try {
                    c = a.fromJson(b.data)
                } catch (f) {
                    return void d.warn("Data received by server is invalid JSON: " + b.data)
                }
                s && (u = !0, q.$apply(function () {
                    a.extend(q[r], c)
                }), u = !1)
            }, {
                connect: function (a, b, c, d) {
                    return q = a, l(d), r = b, q[r] = q[r] || {}, n(c, d), i(), t && p.promise.then(m), p.promise
                }
            }
        }]
    })
}(window.angular), function () {
    var a;
    a = function () {
        function a(a, b) {
            this.startInterval = 6e4, this.init(a, b)
        }

        var b = !1;
        return a.prototype.init = function (a, b) {
            return this.$element = $(a), this.options = $.extend({}, $.fn.timeago.defaults, b), this.updateTime(), this.startTimer()
        }, a.prototype.startTimer = function () {
            var a;
            return a = this, this.interval = setInterval(function () {
                return a.refresh()
            }, this.startInterval)
        }, a.prototype.stopTimer = function () {
            return clearInterval(this.interval)
        }, a.prototype.restartTimer = function () {
            return this.stopTimer(), this.startTimer()
        }, a.prototype.refresh = function () {
            return this.updateTime(), this.updateInterval()
        }, a.prototype.updateTime = function () {
            var a;
            return a = this, this.$element.findAndSelf(this.options.selector).each(function () {
                var b;
                return b = a.timeAgoInWords($(this).attr(a.options.attr)), $(this).html(b)
            })
        }, a.prototype.updateInterval = function () {
            var a, b, c, d;
            if (this.$element.findAndSelf(this.options.selector).length > 0) {
                if ("up" === this.options.dir ? a = ":first" : "down" === this.options.dir && (a = ":last"), d = this.$element.findAndSelf(this.options.selector).filter(a).attr(this.options.attr), b = this.parse(d), c = this.getTimeDistanceInMinutes(b), c >= 0 && 44 >= c && 6e4 !== this.startInterval)return this.startInterval = 6e4, this.restartTimer();
                if (c >= 45 && 89 >= c && 132e4 !== this.startInterval)return this.startInterval = 132e4, this.restartTimer();
                if (c >= 90 && 2519 >= c && 18e5 !== this.startInterval)return this.startInterval = 18e5, this.restartTimer();
                if (c >= 2520 && 432e5 !== this.startInterval)return this.startInterval = 432e5, this.restartTimer()
            }
        }, a.prototype.timeAgoInWords = function (a) {
            var c, d;
            return c = this.parse(a), d = this.distanceOfTimeInWords(c), b ? (b = !1, a) : (b = !1, "" + this.options.lang.prefixes.ago + d + this.options.lang.suffix)
        }, a.prototype.parse = function (a) {
            var b;
            return b = $.trim(a), b = b.replace(/\.\d\d\d+/, ""), b = b.replace(/-/, "/").replace(/-/, "/"), b = b.replace(/T/, " ").replace(/Z/, " UTC"), b = b.replace(/([\+\-]\d\d)\:?(\d\d)/, " $1$2"), new Date(b)
        }, a.prototype.getTimeDistanceInMinutes = function (a) {
            var b;
            return b = (new Date).getTime() - a.getTime(), Math.round(Math.abs(b) / 1e3 / 60)
        }, a.prototype.distanceOfTimeInWords = function (a) {
            var c;
            return c = this.getTimeDistanceInMinutes(a), 0 === c ? "" + this.options.lang.prefixes.lt + " " + this.options.lang.units.minute : 1 === c ? "1 " + this.options.lang.units.minute : c >= 2 && 44 >= c ? "" + c + " " + this.options.lang.units.minutes : c >= 45 && 89 >= c ? "" + this.options.lang.prefixes.about + " 1 " + this.options.lang.units.hour : c >= 90 && 1439 >= c ? "" + this.options.lang.prefixes.about + " " + Math.round(c / 60) + " " + this.options.lang.units.hours : c >= 1440 && 2519 >= c ? "1 " + this.options.lang.units.day : c >= 2520 && 43199 >= c ? (b = !0, a) : c >= 43200 && 86399 >= c ? (b = !0, a) : c >= 86400 && 525599 >= c ? (b = !0, a) : c >= 525600 && 655199 >= c ? (b = !0, a) : c >= 655200 && 914399 >= c ? (b = !0, a) : c >= 914400 && 1051199 >= c ? (b = !0, a) : (b = !0, a)
        }, a
    }(), $.fn.timeago = function (b) {
        return null == b && (b = {}), this.each(function () {
            var c, d;
            return c = $(this), d = c.data("timeago"), d || c.data("timeago", new a(this, b)), "string" == typeof b ? d[b]() : void 0
        })
    }, $.fn.findAndSelf = function (a) {
        return this.find(a).add(this.filter(a))
    }, $.fn.timeago.Constructor = a, $.fn.timeago.defaults = {
        selector: "time.timeago",
        attr: "datetime",
        dir: "up",
        lang: {
            units: {
                second: "秒",
                seconds: "秒",
                minute: "分钟",
                minutes: "分钟",
                hour: "小时",
                hours: "小时",
                day: "天",
                days: "天",
                month: "月",
                months: "月",
                year: "年",
                years: "年"
            }, prefixes: {lt: " 不到1", about: "", over: "超过", almost: "接近", ago: ""}, suffix: "之前"
        }
    }
}.call(this);
var hljs = new function () {
    function a(a) {
        return a.replace(/&/gm, "&amp;").replace(/</gm, "&lt;").replace(/>/gm, "&gt;")
    }

    function b(a) {
        return a.nodeName.toLowerCase()
    }

    function c(a, b) {
        var c = a && a.exec(b);
        return c && 0 == c.index
    }

    function d(a) {
        var b = (a.className + " " + (a.parentNode ? a.parentNode.className : "")).split(/\s+/);
        return b = b.map(function (a) {
            return a.replace(/^lang(uage)?-/, "")
        }), b.filter(function (a) {
            return s(a) || /no(-?)highlight/.test(a)
        })[0]
    }

    function e(a, b) {
        var c = {};
        for (var d in a)c[d] = a[d];
        if (b)for (var d in b)c[d] = b[d];
        return c
    }

    function f(a) {
        var c = [];
        return function d(a, e) {
            for (var f = a.firstChild; f; f = f.nextSibling)3 == f.nodeType ? e += f.nodeValue.length : 1 == f.nodeType && (c.push({
                event: "start",
                offset: e,
                node: f
            }), e = d(f, e), b(f).match(/br|hr|img|input/) || c.push({event: "stop", offset: e, node: f}));
            return e
        }(a, 0), c
    }

    function g(c, d, e) {
        function f() {
            return c.length && d.length ? c[0].offset != d[0].offset ? c[0].offset < d[0].offset ? c : d : "start" == d[0].event ? c : d : c.length ? c : d
        }

        function g(c) {
            function d(b) {
                return " " + b.nodeName + '="' + a(b.value) + '"'
            }

            k += "<" + b(c) + Array.prototype.map.call(c.attributes, d).join("") + ">"
        }

        function h(a) {
            k += "</" + b(a) + ">"
        }

        function i(a) {
            ("start" == a.event ? g : h)(a.node)
        }

        for (var j = 0, k = "", l = []; c.length || d.length;) {
            var m = f();
            if (k += a(e.substr(j, m[0].offset - j)), j = m[0].offset, m == c) {
                l.reverse().forEach(h);
                do i(m.splice(0, 1)[0]), m = f(); while (m == c && m.length && m[0].offset == j);
                l.reverse().forEach(g)
            } else"start" == m[0].event ? l.push(m[0].node) : l.pop(), i(m.splice(0, 1)[0])
        }
        return k + a(e.substr(j))
    }

    function h(a) {
        function b(a) {
            return a && a.source || a
        }

        function c(c, d) {
            return RegExp(b(c), "m" + (a.cI ? "i" : "") + (d ? "g" : ""))
        }

        function d(f, g) {
            if (!f.compiled) {
                if (f.compiled = !0, f.k = f.k || f.bK, f.k) {
                    var h = {}, i = function (b, c) {
                        a.cI && (c = c.toLowerCase()), c.split(" ").forEach(function (a) {
                            var c = a.split("|");
                            h[c[0]] = [b, c[1] ? Number(c[1]) : 1]
                        })
                    };
                    "string" == typeof f.k ? i("keyword", f.k) : Object.keys(f.k).forEach(function (a) {
                        i(a, f.k[a])
                    }), f.k = h
                }
                f.lR = c(f.l || /\b[A-Za-z0-9_]+\b/, !0), g && (f.bK && (f.b = "\\b(" + f.bK.split(" ").join("|") + ")\\b"), f.b || (f.b = /\B|\b/), f.bR = c(f.b), f.e || f.eW || (f.e = /\B|\b/), f.e && (f.eR = c(f.e)), f.tE = b(f.e) || "", f.eW && g.tE && (f.tE += (f.e ? "|" : "") + g.tE)), f.i && (f.iR = c(f.i)), void 0 === f.r && (f.r = 1), f.c || (f.c = []);
                var j = [];
                f.c.forEach(function (a) {
                    a.v ? a.v.forEach(function (b) {
                        j.push(e(a, b))
                    }) : j.push("self" == a ? f : a)
                }), f.c = j, f.c.forEach(function (a) {
                    d(a, f)
                }), f.starts && d(f.starts, g);
                var k = f.c.map(function (a) {
                    return a.bK ? "\\.?(" + a.b + ")\\.?" : a.b
                }).concat([f.tE, f.i]).map(b).filter(Boolean);
                f.t = k.length ? c(k.join("|"), !0) : {
                    exec: function () {
                        return null
                    }
                }
            }
        }

        d(a)
    }

    function i(b, d, e, f) {
        function g(a, b) {
            for (var d = 0; d < b.c.length; d++)if (c(b.c[d].bR, a))return b.c[d]
        }

        function k(a, b) {
            return c(a.eR, b) ? a : a.eW ? k(a.parent, b) : void 0
        }

        function l(a, b) {
            return !e && c(b.iR, a)
        }

        function m(a, b) {
            var c = w.cI ? b[0].toLowerCase() : b[0];
            return a.k.hasOwnProperty(c) && a.k[c]
        }

        function n(a, b, c, d) {
            var e = d ? "" : t.classPrefix, f = '<span class="' + e, g = c ? "" : "</span>";
            return f += a + '">', f + b + g
        }

        function o() {
            if (!x.k)return a(B);
            var b = "", c = 0;
            x.lR.lastIndex = 0;
            for (var d = x.lR.exec(B); d;) {
                b += a(B.substr(c, d.index - c));
                var e = m(x, d);
                e ? (C += e[1], b += n(e[0], a(d[0]))) : b += a(d[0]), c = x.lR.lastIndex, d = x.lR.exec(B)
            }
            return b + a(B.substr(c))
        }

        function p() {
            if (x.sL && !u[x.sL])return a(B);
            var b = x.sL ? i(x.sL, B, !0, y[x.sL]) : j(B);
            return x.r > 0 && (C += b.r), "continuous" == x.subLanguageMode && (y[x.sL] = b.top), n(b.language, b.value, !1, !0)
        }

        function q() {
            return void 0 !== x.sL ? p() : o()
        }

        function r(b, c) {
            var d = b.cN ? n(b.cN, "", !0) : "";
            b.rB ? (z += d, B = "") : b.eB ? (z += a(c) + d, B = "") : (z += d, B = c), x = Object.create(b, {parent: {value: x}})
        }

        function v(b, c) {
            if (B += b, void 0 === c)return z += q(), 0;
            var d = g(c, x);
            if (d)return z += q(), r(d, c), d.rB ? 0 : c.length;
            var e = k(x, c);
            if (e) {
                var f = x;
                f.rE || f.eE || (B += c), z += q();
                do x.cN && (z += "</span>"), C += x.r, x = x.parent; while (x != e.parent);
                return f.eE && (z += a(c)), B = "", e.starts && r(e.starts, ""), f.rE ? 0 : c.length
            }
            if (l(c, x))throw new Error('Illegal lexeme "' + c + '" for mode "' + (x.cN || "<unnamed>") + '"');
            return B += c, c.length || 1
        }

        var w = s(b);
        if (!w)throw new Error('Unknown language: "' + b + '"');
        h(w);
        for (var x = f || w, y = {}, z = "", A = x; A != w; A = A.parent)A.cN && (z = n(A.cN, "", !0) + z);
        var B = "", C = 0;
        try {
            for (var D, E, F = 0; x.t.lastIndex = F, D = x.t.exec(d), D;)E = v(d.substr(F, D.index - F), D[0]), F = D.index + E;
            v(d.substr(F));
            for (var A = x; A.parent; A = A.parent)A.cN && (z += "</span>");
            return {r: C, value: z, language: b, top: x}
        } catch (G) {
            if (-1 != G.message.indexOf("Illegal"))return {r: 0, value: a(d)};
            throw G
        }
    }

    function j(b, c) {
        c = c || t.languages || Object.keys(u);
        var d = {r: 0, value: a(b)}, e = d;
        return c.forEach(function (a) {
            if (s(a)) {
                var c = i(a, b, !1);
                c.language = a, c.r > e.r && (e = c), c.r > d.r && (e = d, d = c)
            }
        }), e.language && (d.second_best = e), d
    }

    function k(a) {
        return t.tabReplace && (a = a.replace(/^((<[^>]+>|\t)+)/gm, function (a, b) {
            return b.replace(/\t/g, t.tabReplace)
        })), t.useBR && (a = a.replace(/\n/g, "<br>")), a
    }

    function l(a, b, c) {
        var d = b ? v[b] : c, e = [a.trim()];
        return a.match(/(\s|^)hljs(\s|$)/) || e.push("hljs"), d && e.push(d), e.join(" ").trim()
    }

    function m(a) {
        var b = d(a);
        if (!/no(-?)highlight/.test(b)) {
            var c;
            t.useBR ? (c = document.createElementNS("http://www.w3.org/1999/xhtml", "div"), c.innerHTML = a.innerHTML.replace(/\n/g, "").replace(/<br[ \/]*>/g, "\n")) : c = a;
            var e = c.textContent, h = b ? i(b, e, !0) : j(e), m = f(c);
            if (m.length) {
                var n = document.createElementNS("http://www.w3.org/1999/xhtml", "div");
                n.innerHTML = h.value, h.value = g(m, f(n), e)
            }
            h.value = k(h.value), a.innerHTML = h.value, a.className = l(a.className, b, h.language), a.result = {
                language: h.language,
                re: h.r
            }, h.second_best && (a.second_best = {language: h.second_best.language, re: h.second_best.r})
        }
    }

    function n(a) {
        t = e(t, a)
    }

    function o() {
        if (!o.called) {
            o.called = !0;
            var a = document.querySelectorAll("pre code");
            Array.prototype.forEach.call(a, m)
        }
    }

    function p() {
        addEventListener("DOMContentLoaded", o, !1), addEventListener("load", o, !1)
    }

    function q(a, b) {
        var c = u[a] = b(this);
        c.aliases && c.aliases.forEach(function (b) {
            v[b] = a
        })
    }

    function r() {
        return Object.keys(u)
    }

    function s(a) {
        return u[a] || u[v[a]]
    }

    var t = {classPrefix: "hljs-", tabReplace: null, useBR: !1, languages: void 0}, u = {}, v = {};
    this.highlight = i, this.highlightAuto = j, this.fixMarkup = k, this.highlightBlock = m, this.configure = n, this.initHighlighting = o, this.initHighlightingOnLoad = p, this.registerLanguage = q, this.listLanguages = r, this.getLanguage = s, this.inherit = e, this.IR = "[a-zA-Z][a-zA-Z0-9_]*", this.UIR = "[a-zA-Z_][a-zA-Z0-9_]*", this.NR = "\\b\\d+(\\.\\d+)?", this.CNR = "(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)", this.BNR = "\\b(0b[01]+)", this.RSR = "!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~", this.BE = {
        b: "\\\\[\\s\\S]",
        r: 0
    }, this.ASM = {cN: "string", b: "'", e: "'", i: "\\n", c: [this.BE]}, this.QSM = {
        cN: "string",
        b: '"',
        e: '"',
        i: "\\n",
        c: [this.BE]
    }, this.PWM = {b: /\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/}, this.CLCM = {
        cN: "comment",
        b: "//",
        e: "$",
        c: [this.PWM]
    }, this.CBCM = {cN: "comment", b: "/\\*", e: "\\*/", c: [this.PWM]}, this.HCM = {
        cN: "comment",
        b: "#",
        e: "$",
        c: [this.PWM]
    }, this.NM = {cN: "number", b: this.NR, r: 0}, this.CNM = {
        cN: "number",
        b: this.CNR,
        r: 0
    }, this.BNM = {cN: "number", b: this.BNR, r: 0}, this.CSSNM = {
        cN: "number",
        b: this.NR + "(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",
        r: 0
    }, this.RM = {
        cN: "regexp",
        b: /\//,
        e: /\/[gimuy]*/,
        i: /\n/,
        c: [this.BE, {b: /\[/, e: /\]/, r: 0, c: [this.BE]}]
    }, this.TM = {cN: "title", b: this.IR, r: 0}, this.UTM = {cN: "title", b: this.UIR, r: 0}
};
hljs.registerLanguage("apache", function (a) {
    var b = {cN: "number", b: "[\\$%]\\d+"};
    return {
        aliases: ["apacheconf"],
        cI: !0,
        c: [a.HCM, {cN: "tag", b: "</?", e: ">"}, {
            cN: "keyword",
            b: /\w+/,
            r: 0,
            k: {common: "order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},
            starts: {
                e: /$/,
                r: 0,
                k: {literal: "on off all"},
                c: [{cN: "sqbracket", b: "\\s\\[", e: "\\]$"}, {
                    cN: "cbracket",
                    b: "[\\$%]\\{",
                    e: "\\}",
                    c: ["self", b]
                }, b, a.QSM]
            }
        }],
        i: /\S/
    }
}), hljs.registerLanguage("bash", function (a) {
    var b = {cN: "variable", v: [{b: /\$[\w\d#@][\w\d_]*/}, {b: /\$\{(.*?)\}/}]}, c = {
        cN: "string",
        b: /"/,
        e: /"/,
        c: [a.BE, b, {cN: "variable", b: /\$\(/, e: /\)/, c: [a.BE]}]
    }, d = {cN: "string", b: /'/, e: /'/};
    return {
        aliases: ["sh", "zsh"],
        l: /-?[a-z\.]+/,
        k: {
            keyword: "if then else elif fi for break continue while in do done exit return set declare case esac export exec function",
            literal: "true false",
            built_in: "printf echo read cd pwd pushd popd dirs let eval unset typeset readonly getopts source shopt caller type hash bind help sudo",
            operator: "-ne -eq -lt -gt -f -d -e -s -l -a"
        },
        c: [{cN: "shebang", b: /^#![^\n]+sh\s*$/, r: 10}, {
            cN: "function",
            b: /\w[\w\d_]*\s*\(\s*\)\s*\{/,
            rB: !0,
            c: [a.inherit(a.TM, {b: /\w[\w\d_]*/})],
            r: 0
        }, a.HCM, a.NM, c, d, b]
    }
}), hljs.registerLanguage("coffeescript", function (a) {
    var b = {
        keyword: "in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super then unless until loop of by when and or is isnt not",
        literal: "true false null undefined yes no on off",
        reserved: "case default function var void with const let enum export import native __hasProp __extends __slice __bind __indexOf",
        built_in: "npm require console print module global window document"
    }, c = "[A-Za-z$_][0-9A-Za-z$_]*", d = {
        cN: "subst",
        b: /#\{/,
        e: /}/,
        k: b
    }, e = [a.BNM, a.inherit(a.CNM, {starts: {e: "(\\s*/)?", r: 0}}), {
        cN: "string",
        v: [{b: /'''/, e: /'''/, c: [a.BE]}, {b: /'/, e: /'/, c: [a.BE]}, {b: /"""/, e: /"""/, c: [a.BE, d]}, {
            b: /"/,
            e: /"/,
            c: [a.BE, d]
        }]
    }, {
        cN: "regexp",
        v: [{b: "///", e: "///", c: [d, a.HCM]}, {b: "//[gim]*", r: 0}, {b: /\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W|$)/}]
    }, {cN: "property", b: "@" + c}, {b: "`", e: "`", eB: !0, eE: !0, sL: "javascript"}];
    d.c = e;
    var f = a.inherit(a.TM, {b: c}), g = "(\\(.*\\))?\\s*\\B[-=]>", h = {
        cN: "params",
        b: "\\([^\\(]",
        rB: !0,
        c: [{b: /\(/, e: /\)/, k: b, c: ["self"].concat(e)}]
    };
    return {
        aliases: ["coffee", "cson", "iced"],
        k: b,
        i: /\/\*/,
        c: e.concat([{cN: "comment", b: "###", e: "###", c: [a.PWM]}, a.HCM, {
            cN: "function",
            b: "^\\s*" + c + "\\s*=\\s*" + g,
            e: "[-=]>",
            rB: !0,
            c: [f, h]
        }, {b: /[:\(,=]\s*/, r: 0, c: [{cN: "function", b: g, e: "[-=]>", rB: !0, c: [h]}]}, {
            cN: "class",
            bK: "class",
            e: "$",
            i: /[:="\[\]]/,
            c: [{bK: "extends", eW: !0, i: /[:="\[\]]/, c: [f]}, f]
        }, {cN: "attribute", b: c + ":", e: ":", rB: !0, rE: !0, r: 0}])
    }
}), hljs.registerLanguage("cpp", function (a) {
    var b = {
        keyword: "false int float while private char catch export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long throw volatile static protected bool template mutable if public friend do return goto auto void enum else break new extern using true class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue wchar_t inline delete alignof char16_t char32_t constexpr decltype noexcept nullptr static_assert thread_local restrict _Bool complex _Complex _Imaginary",
        built_in: "std string cin cout cerr clog stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf"
    };
    return {
        aliases: ["c", "h", "c++", "h++"],
        k: b,
        i: "</",
        c: [a.CLCM, a.CBCM, a.QSM, {cN: "string", b: "'\\\\?.", e: "'", i: "."}, {
            cN: "number",
            b: "\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"
        }, a.CNM, {
            cN: "preprocessor",
            b: "#",
            e: "$",
            k: "if else elif endif define undef warning error line pragma",
            c: [{b: 'include\\s*[<"]', e: '[>"]', k: "include", i: "\\n"}, a.CLCM]
        }, {
            cN: "stl_container",
            b: "\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",
            e: ">",
            k: b,
            c: ["self"]
        }, {b: a.IR + "::"}]
    }
}), hljs.registerLanguage("cs", function (a) {
    var b = "abstract as base bool break byte case catch char checked const continue decimal default delegate do double else enum event explicit extern false finally fixed float for foreach goto if implicit in int interface internal is lock long new null object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw true try typeof uint ulong unchecked unsafe ushort using virtual volatile void while async await protected public private internal ascending descending from get group into join let orderby partial select set value var where yield", c = a.IR + "(<" + a.IR + ">)?";
    return {
        aliases: ["csharp"],
        k: b,
        i: /::/,
        c: [{
            cN: "comment",
            b: "///",
            e: "$",
            rB: !0,
            c: [{cN: "xmlDocTag", v: [{b: "///", r: 0}, {b: "<!--|-->"}, {b: "</?", e: ">"}]}]
        }, a.CLCM, a.CBCM, {
            cN: "preprocessor",
            b: "#",
            e: "$",
            k: "if else elif endif define undef warning error line region endregion pragma checksum"
        }, {cN: "string", b: '@"', e: '"', c: [{b: '""'}]}, a.ASM, a.QSM, a.CNM, {
            bK: "class namespace interface",
            e: /[{;=]/,
            i: /[^\s:]/,
            c: [a.TM, a.CLCM, a.CBCM]
        }, {bK: "new", e: /\s/, r: 0}, {
            cN: "function",
            b: "(" + c + "\\s+)+" + a.IR + "\\s*\\(",
            rB: !0,
            e: /[{;=]/,
            eE: !0,
            k: b,
            c: [{b: a.IR + "\\s*\\(", rB: !0, c: [a.TM]}, {
                cN: "params",
                b: /\(/,
                e: /\)/,
                k: b,
                c: [a.ASM, a.QSM, a.CNM, a.CBCM]
            }, a.CLCM, a.CBCM]
        }]
    }
}), hljs.registerLanguage("css", function (a) {
    var b = "[a-zA-Z-][a-zA-Z0-9_-]*", c = {cN: "function", b: b + "\\(", rB: !0, eE: !0, e: "\\("};
    return {
        cI: !0,
        i: "[=/|']",
        c: [a.CBCM, {cN: "id", b: "\\#[A-Za-z0-9_-]+"}, {
            cN: "class",
            b: "\\.[A-Za-z0-9_-]+",
            r: 0
        }, {cN: "attr_selector", b: "\\[", e: "\\]", i: "$"}, {
            cN: "pseudo",
            b: ":(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\\\"\\']+"
        }, {cN: "at_rule", b: "@(font-face|page)", l: "[a-z-]+", k: "font-face page"}, {
            cN: "at_rule",
            b: "@",
            e: "[{;]",
            c: [{cN: "keyword", b: /\S+/}, {b: /\s/, eW: !0, eE: !0, r: 0, c: [c, a.ASM, a.QSM, a.CSSNM]}]
        }, {cN: "tag", b: b, r: 0}, {
            cN: "rules",
            b: "{",
            e: "}",
            i: "[^\\s]",
            r: 0,
            c: [a.CBCM, {
                cN: "rule",
                b: "[^\\s]",
                rB: !0,
                e: ";",
                eW: !0,
                c: [{
                    cN: "attribute",
                    b: "[A-Z\\_\\.\\-]+",
                    e: ":",
                    eE: !0,
                    i: "[^\\s]",
                    starts: {
                        cN: "value",
                        eW: !0,
                        eE: !0,
                        c: [c, a.CSSNM, a.QSM, a.ASM, a.CBCM, {cN: "hexcolor", b: "#[0-9A-Fa-f]+"}, {
                            cN: "important",
                            b: "!important"
                        }]
                    }
                }]
            }]
        }]
    }
}), hljs.registerLanguage("diff", function () {
    return {
        aliases: ["patch"],
        c: [{
            cN: "chunk",
            r: 10,
            v: [{b: /^\@\@ +\-\d+,\d+ +\+\d+,\d+ +\@\@$/}, {b: /^\*\*\* +\d+,\d+ +\*\*\*\*$/}, {b: /^\-\-\- +\d+,\d+ +\-\-\-\-$/}]
        }, {
            cN: "header",
            v: [{b: /Index: /, e: /$/}, {b: /=====/, e: /=====$/}, {b: /^\-\-\-/, e: /$/}, {
                b: /^\*{3} /,
                e: /$/
            }, {b: /^\+\+\+/, e: /$/}, {b: /\*{5}/, e: /\*{5}$/}]
        }, {cN: "addition", b: "^\\+", e: "$"}, {cN: "deletion", b: "^\\-", e: "$"}, {cN: "change", b: "^\\!", e: "$"}]
    }
}), hljs.registerLanguage("http", function () {
    return {
        i: "\\S",
        c: [{cN: "status", b: "^HTTP/[0-9\\.]+", e: "$", c: [{cN: "number", b: "\\b\\d{3}\\b"}]}, {
            cN: "request",
            b: "^[A-Z]+ (.*?) HTTP/[0-9\\.]+$",
            rB: !0,
            e: "$",
            c: [{cN: "string", b: " ", e: " ", eB: !0, eE: !0}]
        }, {cN: "attribute", b: "^\\w", e: ": ", eE: !0, i: "\\n|\\s|=", starts: {cN: "string", e: "$"}}, {
            b: "\\n\\n",
            starts: {sL: "", eW: !0}
        }]
    }
}), hljs.registerLanguage("ini", function (a) {
    return {
        cI: !0,
        i: /\S/,
        c: [{cN: "comment", b: ";", e: "$"}, {cN: "title", b: "^\\[", e: "\\]"}, {
            cN: "setting",
            b: "^[a-z0-9\\[\\]_-]+[ \\t]*=[ \\t]*",
            e: "$",
            c: [{cN: "value", eW: !0, k: "on off true false yes no", c: [a.QSM, a.NM], r: 0}]
        }]
    }
}), hljs.registerLanguage("java", function (a) {
    var b = a.UIR + "(<" + a.UIR + ">)?", c = "false synchronized int abstract float private char boolean static null if const for true while long throw strictfp finally protected import native final return void enum else break transient new catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private";
    return {
        aliases: ["jsp"],
        k: c,
        i: /<\//,
        c: [{
            cN: "javadoc",
            b: "/\\*\\*",
            e: "\\*/",
            r: 0,
            c: [{cN: "javadoctag", b: "(^|\\s)@[A-Za-z]+"}]
        }, a.CLCM, a.CBCM, a.ASM, a.QSM, {
            cN: "class",
            bK: "class interface",
            e: /[{;=]/,
            eE: !0,
            k: "class interface",
            i: /[:"\[\]]/,
            c: [{bK: "extends implements"}, a.UTM]
        }, {bK: "new throw", e: /\s/, r: 0}, {
            cN: "function",
            b: "(" + b + "\\s+)+" + a.UIR + "\\s*\\(",
            rB: !0,
            e: /[{;=]/,
            eE: !0,
            k: c,
            c: [{b: a.UIR + "\\s*\\(", rB: !0, c: [a.UTM]}, {
                cN: "params",
                b: /\(/,
                e: /\)/,
                k: c,
                c: [a.ASM, a.QSM, a.CNM, a.CBCM]
            }, a.CLCM, a.CBCM]
        }, a.CNM, {cN: "annotation", b: "@[A-Za-z]+"}]
    }
}), hljs.registerLanguage("javascript", function (a) {
    return {
        aliases: ["js"],
        k: {
            keyword: "in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",
            literal: "true false null undefined NaN Infinity",
            built_in: "eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document"
        },
        c: [{
            cN: "pi",
            b: /^\s*('|")use strict('|")/,
            r: 10
        }, a.ASM, a.QSM, a.CLCM, a.CBCM, a.CNM, {
            b: "(" + a.RSR + "|\\b(case|return|throw)\\b)\\s*",
            k: "return throw case",
            c: [a.CLCM, a.CBCM, a.RM, {b: /</, e: />;/, r: 0, sL: "xml"}],
            r: 0
        }, {
            cN: "function",
            bK: "function",
            e: /\{/,
            eE: !0,
            c: [a.inherit(a.TM, {b: /[A-Za-z$_][0-9A-Za-z$_]*/}), {
                cN: "params",
                b: /\(/,
                e: /\)/,
                c: [a.CLCM, a.CBCM],
                i: /["'\(]/
            }],
            i: /\[|%/
        }, {b: /\$[(.]/}, {b: "\\." + a.IR, r: 0}]
    }
}), hljs.registerLanguage("json", function (a) {
    var b = {literal: "true false null"}, c = [a.QSM, a.CNM], d = {
        cN: "value",
        e: ",",
        eW: !0,
        eE: !0,
        c: c,
        k: b
    }, e = {
        b: "{",
        e: "}",
        c: [{cN: "attribute", b: '\\s*"', e: '"\\s*:\\s*', eB: !0, eE: !0, c: [a.BE], i: "\\n", starts: d}],
        i: "\\S"
    }, f = {b: "\\[", e: "\\]", c: [a.inherit(d, {cN: null})], i: "\\S"};
    return c.splice(c.length, 0, e, f), {c: c, k: b, i: "\\S"}
}), hljs.registerLanguage("makefile", function (a) {
    var b = {cN: "variable", b: /\$\(/, e: /\)/, c: [a.BE]};
    return {
        aliases: ["mk", "mak"],
        c: [a.HCM, {
            b: /^\w+\s*\W*=/,
            rB: !0,
            r: 0,
            starts: {cN: "constant", e: /\s*\W*=/, eE: !0, starts: {e: /$/, r: 0, c: [b]}}
        }, {cN: "title", b: /^[\w]+:\s*$/}, {
            cN: "phony",
            b: /^\.PHONY:/,
            e: /$/,
            k: ".PHONY",
            l: /[\.\w]+/
        }, {b: /^\t+/, e: /$/, r: 0, c: [a.QSM, b]}]
    }
}), hljs.registerLanguage("xml", function () {
    var a = "[A-Za-z0-9\\._:-]+", b = {
        b: /<\?(php)?(?!\w)/,
        e: /\?>/,
        sL: "php",
        subLanguageMode: "continuous"
    }, c = {
        eW: !0,
        i: /</,
        r: 0,
        c: [b, {cN: "attribute", b: a, r: 0}, {
            b: "=",
            r: 0,
            c: [{cN: "value", c: [b], v: [{b: /"/, e: /"/}, {b: /'/, e: /'/}, {b: /[^\s\/>]+/}]}]
        }]
    };
    return {
        aliases: ["html", "xhtml", "rss", "atom", "xsl", "plist"],
        cI: !0,
        c: [{cN: "doctype", b: "<!DOCTYPE", e: ">", r: 10, c: [{b: "\\[", e: "\\]"}]}, {
            cN: "comment",
            b: "<!--",
            e: "-->",
            r: 10
        }, {cN: "cdata", b: "<\\!\\[CDATA\\[", e: "\\]\\]>", r: 10}, {
            cN: "tag",
            b: "<style(?=\\s|>|$)",
            e: ">",
            k: {title: "style"},
            c: [c],
            starts: {e: "</style>", rE: !0, sL: "css"}
        }, {
            cN: "tag",
            b: "<script(?=\\s|>|$)",
            e: ">",
            k: {title: "script"},
            c: [c],
            starts: {e: "</script>", rE: !0, sL: "javascript"}
        }, b, {cN: "pi", b: /<\?\w+/, e: /\?>/, r: 10}, {
            cN: "tag",
            b: "</?",
            e: "/?>",
            c: [{cN: "title", b: /[^ \/><\n\t]+/, r: 0}, c]
        }]
    }
}), hljs.registerLanguage("markdown", function () {
    return {
        aliases: ["md", "mkdown", "mkd"],
        c: [{cN: "header", v: [{b: "^#{1,6}", e: "$"}, {b: "^.+?\\n[=-]{2,}$"}]}, {
            b: "<",
            e: ">",
            sL: "xml",
            r: 0
        }, {cN: "bullet", b: "^([*+-]|(\\d+\\.))\\s+"}, {cN: "strong", b: "[*_]{2}.+?[*_]{2}"}, {
            cN: "emphasis",
            v: [{b: "\\*.+?\\*"}, {b: "_.+?_", r: 0}]
        }, {cN: "blockquote", b: "^>\\s+", e: "$"}, {
            cN: "code",
            v: [{b: "`.+?`"}, {b: "^( {4}|	)", e: "$", r: 0}]
        }, {cN: "horizontal_rule", b: "^[-\\*]{3,}", e: "$"}, {
            b: "\\[.+?\\][\\(\\[].*?[\\)\\]]",
            rB: !0,
            c: [{cN: "link_label", b: "\\[", e: "\\]", eB: !0, rE: !0, r: 0}, {
                cN: "link_url",
                b: "\\]\\(",
                e: "\\)",
                eB: !0,
                eE: !0
            }, {cN: "link_reference", b: "\\]\\[", e: "\\]", eB: !0, eE: !0}],
            r: 10
        }, {
            b: "^\\[.+\\]:",
            rB: !0,
            c: [{cN: "link_reference", b: "\\[", e: "\\]:", eB: !0, eE: !0, starts: {cN: "link_url", e: "$"}}]
        }]
    }
}), hljs.registerLanguage("nginx", function (a) {
    var b = {cN: "variable", v: [{b: /\$\d+/}, {b: /\$\{/, e: /}/}, {b: "[\\$\\@]" + a.UIR}]}, c = {
        eW: !0,
        l: "[a-z/_]+",
        k: {built_in: "on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},
        r: 0,
        i: "=>",
        c: [a.HCM, {cN: "string", c: [a.BE, b], v: [{b: /"/, e: /"/}, {b: /'/, e: /'/}]}, {
            cN: "url",
            b: "([a-z]+):/",
            e: "\\s",
            eW: !0,
            eE: !0,
            c: [b]
        }, {
            cN: "regexp",
            c: [a.BE, b],
            v: [{b: "\\s\\^", e: "\\s|{|;", rE: !0}, {
                b: "~\\*?\\s+",
                e: "\\s|{|;",
                rE: !0
            }, {b: "\\*(\\.[a-z\\-]+)+"}, {b: "([a-z\\-]+\\.)+\\*"}]
        }, {cN: "number", b: "\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"}, {
            cN: "number",
            b: "\\b\\d+[kKmMgGdshdwy]*\\b",
            r: 0
        }, b]
    };
    return {
        aliases: ["nginxconf"],
        c: [a.HCM, {b: a.UIR + "\\s", e: ";|{", rB: !0, c: [{cN: "title", b: a.UIR, starts: c}], r: 0}],
        i: "[^\\s\\}]"
    }
}), hljs.registerLanguage("objectivec", function (a) {
    var b = {
        keyword: "int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required",
        literal: "false true FALSE TRUE nil YES NO NULL",
        built_in: "NSString NSData NSDictionary CGRect CGPoint UIButton UILabel UITextView UIWebView MKMapView NSView NSViewController NSWindow NSWindowController NSSet NSUUID NSIndexSet UISegmentedControl NSObject UITableViewDelegate UITableViewDataSource NSThread UIActivityIndicator UITabbar UIToolBar UIBarButtonItem UIImageView NSAutoreleasePool UITableView BOOL NSInteger CGFloat NSException NSLog NSMutableString NSMutableArray NSMutableDictionary NSURL NSIndexPath CGSize UITableViewCell UIView UIViewController UINavigationBar UINavigationController UITabBarController UIPopoverController UIPopoverControllerDelegate UIImage NSNumber UISearchBar NSFetchedResultsController NSFetchedResultsChangeType UIScrollView UIScrollViewDelegate UIEdgeInsets UIColor UIFont UIApplication NSNotFound NSNotificationCenter NSNotification UILocalNotification NSBundle NSFileManager NSTimeInterval NSDate NSCalendar NSUserDefaults UIWindow NSRange NSArray NSError NSURLRequest NSURLConnection NSURLSession NSURLSessionDataTask NSURLSessionDownloadTask NSURLSessionUploadTask NSURLResponseUIInterfaceOrientation MPMoviePlayerController dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"
    }, c = /[a-zA-Z@][a-zA-Z0-9_]*/, d = "@interface @class @protocol @implementation";
    return {
        aliases: ["m", "mm", "objc", "obj-c"],
        k: b,
        l: c,
        i: "</",
        c: [a.CLCM, a.CBCM, a.CNM, a.QSM, {
            cN: "string",
            v: [{b: '@"', e: '"', i: "\\n", c: [a.BE]}, {b: "'", e: "[^\\\\]'", i: "[^\\\\][^']"}]
        }, {
            cN: "preprocessor",
            b: "#",
            e: "$",
            c: [{cN: "title", v: [{b: '"', e: '"'}, {b: "<", e: ">"}]}]
        }, {
            cN: "class",
            b: "(" + d.split(" ").join("|") + ")\\b",
            e: "({|$)",
            eE: !0,
            k: d,
            l: c,
            c: [a.UTM]
        }, {cN: "variable", b: "\\." + a.UIR, r: 0}]
    }
}), hljs.registerLanguage("perl", function (a) {
    var b = "getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when", c = {
        cN: "subst",
        b: "[$@]\\{",
        e: "\\}",
        k: b
    }, d = {b: "->{", e: "}"}, e = {
        cN: "variable",
        v: [{b: /\$\d/}, {b: /[\$\%\@](\^\w\b|#\w+(\:\:\w+)*|{\w+}|\w+(\:\:\w*)*)/}, {b: /[\$\%\@][^\s\w{]/, r: 0}]
    }, f = {
        cN: "comment",
        b: "^(__END__|__DATA__)",
        e: "\\n$",
        r: 5
    }, g = [a.BE, c, e], h = [e, a.HCM, f, {cN: "comment", b: "^\\=\\w", e: "\\=cut", eW: !0}, d, {
        cN: "string",
        c: g,
        v: [{b: "q[qwxr]?\\s*\\(", e: "\\)", r: 5}, {b: "q[qwxr]?\\s*\\[", e: "\\]", r: 5}, {
            b: "q[qwxr]?\\s*\\{",
            e: "\\}",
            r: 5
        }, {b: "q[qwxr]?\\s*\\|", e: "\\|", r: 5}, {b: "q[qwxr]?\\s*\\<", e: "\\>", r: 5}, {
            b: "qw\\s+q",
            e: "q",
            r: 5
        }, {b: "'", e: "'", c: [a.BE]}, {b: '"', e: '"'}, {b: "`", e: "`", c: [a.BE]}, {
            b: "{\\w+}",
            c: [],
            r: 0
        }, {b: "-?\\w+\\s*\\=\\>", c: [], r: 0}]
    }, {
        cN: "number",
        b: "(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",
        r: 0
    }, {
        b: "(\\/\\/|" + a.RSR + "|\\b(split|return|print|reverse|grep)\\b)\\s*",
        k: "split return print reverse grep",
        r: 0,
        c: [a.HCM, f, {cN: "regexp", b: "(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*", r: 10}, {
            cN: "regexp",
            b: "(m|qr)?/",
            e: "/[a-z]*",
            c: [a.BE],
            r: 0
        }]
    }, {cN: "sub", bK: "sub", e: "(\\s*\\(.*?\\))?[;{]", r: 5}, {cN: "operator", b: "-\\w\\b", r: 0}];
    return c.c = h, d.c = h, {aliases: ["pl"], k: b, c: h}
}), hljs.registerLanguage("php", function (a) {
    var b = {cN: "variable", b: "\\$+[a-zA-Z_-每][a-zA-Z0-9_-每]*"}, c = {
        cN: "preprocessor",
        b: /<\?(php)?|\?>/
    }, d = {
        cN: "string",
        c: [a.BE, c],
        v: [{b: 'b"', e: '"'}, {b: "b'", e: "'"}, a.inherit(a.ASM, {i: null}), a.inherit(a.QSM, {i: null})]
    }, e = {v: [a.BNM, a.CNM]};
    return {
        aliases: ["php3", "php4", "php5", "php6"],
        cI: !0,
        k: "and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",
        c: [a.CLCM, a.HCM, {
            cN: "comment",
            b: "/\\*",
            e: "\\*/",
            c: [{cN: "phpdoc", b: "\\s@[A-Za-z]+"}, c]
        }, {cN: "comment", b: "__halt_compiler.+?;", eW: !0, k: "__halt_compiler", l: a.UIR}, {
            cN: "string",
            b: "<<<['\"]?\\w+['\"]?$",
            e: "^\\w+;",
            c: [a.BE]
        }, c, b, {b: /->+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/}, {
            cN: "function",
            bK: "function",
            e: /[;{]/,
            eE: !0,
            i: "\\$|\\[|%",
            c: [a.UTM, {cN: "params", b: "\\(", e: "\\)", c: ["self", b, a.CBCM, d, e]}]
        }, {
            cN: "class",
            bK: "class interface",
            e: "{",
            eE: !0,
            i: /[:\(\$"]/,
            c: [{bK: "extends implements"}, a.UTM]
        }, {bK: "namespace", e: ";", i: /[\.']/, c: [a.UTM]}, {bK: "use", e: ";", c: [a.UTM]}, {b: "=>"}, d, e]
    }
}), hljs.registerLanguage("python", function (a) {
    var b = {cN: "prompt", b: /^(>>>|\.\.\.) /}, c = {
        cN: "string",
        c: [a.BE],
        v: [{b: /(u|b)?r?'''/, e: /'''/, c: [b], r: 10}, {b: /(u|b)?r?"""/, e: /"""/, c: [b], r: 10}, {
            b: /(u|r|ur)'/,
            e: /'/,
            r: 10
        }, {b: /(u|r|ur)"/, e: /"/, r: 10}, {b: /(b|br)'/, e: /'/}, {b: /(b|br)"/, e: /"/}, a.ASM, a.QSM]
    }, d = {
        cN: "number",
        r: 0,
        v: [{b: a.BNR + "[lLjJ]?"}, {b: "\\b(0o[0-7]+)[lLjJ]?"}, {b: a.CNR + "[lLjJ]?"}]
    }, e = {cN: "params", b: /\(/, e: /\)/, c: ["self", b, d, c]}, f = {e: /:/, i: /[${=;\n]/, c: [a.UTM, e]};
    return {
        aliases: ["py", "gyp"],
        k: {
            keyword: "and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda nonlocal|10 None True False",
            built_in: "Ellipsis NotImplemented"
        },
        i: /(<\/|->|\?)/,
        c: [b, d, c, a.HCM, a.inherit(f, {cN: "function", bK: "def", r: 10}), a.inherit(f, {
            cN: "class",
            bK: "class"
        }), {cN: "decorator", b: /@/, e: /$/}, {b: /\b(print|exec)\(/}]
    }
}), hljs.registerLanguage("ruby", function (a) {
    var b = "[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?", c = "and false then defined module in return redo if BEGIN retry end for true self when next until do begin unless END rescue nil else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor", d = {
        cN: "yardoctag",
        b: "@[A-Za-z]+"
    }, e = {cN: "value", b: "#<", e: ">"}, f = {
        cN: "comment",
        v: [{b: "#", e: "$", c: [d]}, {b: "^\\=begin", e: "^\\=end", c: [d], r: 10}, {b: "^__END__", e: "\\n$"}]
    }, g = {cN: "subst", b: "#\\{", e: "}", k: c}, h = {
        cN: "string",
        c: [a.BE, g],
        v: [{b: /'/, e: /'/}, {b: /"/, e: /"/}, {b: /`/, e: /`/}, {b: "%[qQwWx]?\\(", e: "\\)"}, {
            b: "%[qQwWx]?\\[",
            e: "\\]"
        }, {b: "%[qQwWx]?{", e: "}"}, {b: "%[qQwWx]?<", e: ">"}, {b: "%[qQwWx]?/", e: "/"}, {
            b: "%[qQwWx]?%",
            e: "%"
        }, {b: "%[qQwWx]?-", e: "-"}, {
            b: "%[qQwWx]?\\|",
            e: "\\|"
        }, {b: /\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/}]
    }, i = {cN: "params", b: "\\(", e: "\\)", k: c}, j = [h, e, f, {
        cN: "class",
        bK: "class module",
        e: "$|;",
        i: /=/,
        c: [a.inherit(a.TM, {b: "[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}), {
            cN: "inheritance",
            b: "<\\s*",
            c: [{cN: "parent", b: "(" + a.IR + "::)?" + a.IR}]
        }, f]
    }, {cN: "function", bK: "def", e: " |$|;", r: 0, c: [a.inherit(a.TM, {b: b}), i, f]}, {
        cN: "constant",
        b: "(::)?(\\b[A-Z]\\w*(::)?)+",
        r: 0
    }, {cN: "symbol", b: a.UIR + "(\\!|\\?)?:", r: 0}, {cN: "symbol", b: ":", c: [h, {b: b}], r: 0}, {
        cN: "number",
        b: "(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",
        r: 0
    }, {cN: "variable", b: "(\\$\\W)|((\\$|\\@\\@?)(\\w+))"}, {
        b: "(" + a.RSR + ")\\s*",
        c: [e, f, {
            cN: "regexp",
            c: [a.BE, g],
            i: /\n/,
            v: [{b: "/", e: "/[a-z]*"}, {b: "%r{", e: "}[a-z]*"}, {b: "%r\\(", e: "\\)[a-z]*"}, {
                b: "%r!",
                e: "![a-z]*"
            }, {b: "%r\\[", e: "\\][a-z]*"}]
        }],
        r: 0
    }];
    g.c = j, i.c = j;
    var k = [{b: /^\s*=>/, cN: "status", starts: {e: "$", c: j}}, {
        cN: "prompt",
        b: /^\S[^=>\n]*>+/,
        starts: {e: "$", c: j}
    }];
    return {aliases: ["rb", "gemspec", "podspec", "thor", "irb"], k: c, c: [f].concat(k).concat(j)}
}), hljs.registerLanguage("sql", function (a) {
    var b = {cN: "comment", b: "--", e: "$"};
    return {
        cI: !0,
        i: /[<>]/,
        c: [{
            cN: "operator",
            bK: "begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate savepoint release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup",
            e: /;/,
            eW: !0,
            k: {
                keyword: "abs absolute acos action add adddate addtime aes_decrypt aes_encrypt after aggregate all allocate alter analyze and any are as asc ascii asin assertion at atan atan2 atn2 authorization authors avg backup before begin benchmark between bin binlog bit_and bit_count bit_length bit_or bit_xor both by cache call cascade cascaded case cast catalog ceil ceiling chain change changed char_length character_length charindex charset check checksum checksum_agg choose close coalesce coercibility collate collation collationproperty column columns columns_updated commit compress concat concat_ws concurrent connect connection connection_id consistent constraint constraints continue contributors conv convert convert_tz corresponding cos cot count count_big crc32 create cross cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime data database databases datalength date_add date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts datetimeoffsetfromparts day dayname dayofmonth dayofweek dayofyear deallocate declare decode default deferrable deferred degrees delayed delete des_decrypt des_encrypt des_key_file desc describe descriptor diagnostics difference disconnect distinct distinctrow div do domain double drop dumpfile each else elt enclosed encode encrypt end end-exec engine engines eomonth errors escape escaped event eventdata events except exception exec execute exists exp explain export_set extended external extract fast fetch field fields find_in_set first first_value floor flush for force foreign format found found_rows from from_base64 from_days from_unixtime full function get get_format get_lock getdate getutcdate global go goto grant grants greatest group group_concat grouping grouping_id gtid_subset gtid_subtract handler having help hex high_priority hosts hour ident_current ident_incr ident_seed identified identity if ifnull ignore iif ilike immediate in index indicator inet6_aton inet6_ntoa inet_aton inet_ntoa infile initially inner innodb input insert install instr intersect into is is_free_lock is_ipv4 is_ipv4_compat is_ipv4_mapped is_not is_not_null is_used_lock isdate isnull isolation join key kill language last last_day last_insert_id last_value lcase lead leading least leaves left len lenght level like limit lines ln load load_file local localtime localtimestamp locate lock log log10 log2 logfile logs low_priority lower lpad ltrim make_set makedate maketime master master_pos_wait match matched max md5 medium merge microsecond mid min minute mod mode module month monthname mutex name_const names national natural nchar next no no_write_to_binlog not now nullif nvarchar oct octet_length of old_password on only open optimize option optionally or ord order outer outfile output pad parse partial partition password patindex percent_rank percentile_cont percentile_disc period_add period_diff pi plugin position pow power pragma precision prepare preserve primary prior privileges procedure procedure_analyze processlist profile profiles public publishingservername purge quarter query quick quote quotename radians rand read references regexp relative relaylog release release_lock rename repair repeat replace replicate reset restore restrict return returns reverse revoke right rlike rollback rollup round row row_count rows rpad rtrim savepoint schema scroll sec_to_time second section select serializable server session session_user set sha sha1 sha2 share show sign sin size slave sleep smalldatetimefromparts snapshot some soname soundex sounds_like space sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sql_variant_property sqlstate sqrt square start starting status std stddev stddev_pop stddev_samp stdev stdevp stop str str_to_date straight_join strcmp string stuff subdate substr substring subtime subtring_index sum switchoffset sysdate sysdatetime sysdatetimeoffset system_user sysutcdatetime table tables tablespace tan temporary terminated tertiary_weights then time time_format time_to_sec timediff timefromparts timestamp timestampadd timestampdiff timezone_hour timezone_minute to to_base64 to_days to_seconds todatetimeoffset trailing transaction translation trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse ucase uncompress uncompressed_length unhex unicode uninstall union unique unix_timestamp unknown unlock update upgrade upped upper usage use user user_resources using utc_date utc_time utc_timestamp uuid uuid_short validate_password_strength value values var var_pop var_samp variables variance varp version view warnings week weekday weekofyear weight_string when whenever where with work write xml xor year yearweek zon",
                literal: "true false null",
                built_in: "array bigint binary bit blob boolean char character date dec decimal float int integer interval number numeric real serial smallint varchar varying int8 serial8 text"
            },
            c: [{cN: "string", b: "'", e: "'", c: [a.BE, {b: "''"}]}, {
                cN: "string",
                b: '"',
                e: '"',
                c: [a.BE, {b: '""'}]
            }, {cN: "string", b: "`", e: "`", c: [a.BE]}, a.CNM, a.CBCM, b]
        }, a.CBCM, b]
    }
}), function () {
    function a(a) {
        this.tokens = [], this.tokens.links = {}, this.options = a || j.defaults, this.rules = k.normal, this.options.gfm && (this.rules = this.options.tables ? k.tables : k.gfm)
    }

    function b(a, b) {
        if (this.options = b || j.defaults, this.links = a, this.rules = l.normal, this.renderer = this.options.renderer || new c, this.renderer.options = this.options, !this.links)throw new Error("Tokens array requires a `links` property.");
        this.options.gfm ? this.rules = this.options.breaks ? l.breaks : l.gfm : this.options.pedantic && (this.rules = l.pedantic)
    }

    function c(a) {
        this.options = a || {}
    }

    function d(a) {
        this.tokens = [], this.token = null, this.options = a || j.defaults, this.options.renderer = this.options.renderer || new c, this.renderer = this.options.renderer, this.renderer.options = this.options
    }

    function e(a, b) {
        return a.replace(b ? /&/g : /&(?!#?\w+;)/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#39;")
    }

    function f(a) {
        return a.replace(/&([#\w]+);/g, function (a, b) {
            return b = b.toLowerCase(), "colon" === b ? ":" : "#" === b.charAt(0) ? String.fromCharCode("x" === b.charAt(1) ? parseInt(b.substring(2), 16) : +b.substring(1)) : ""
        })
    }

    function g(a, b) {
        return a = a.source, b = b || "", function c(d, e) {
            return d ? (e = e.source || e, e = e.replace(/(^|[^\[])\^/g, "$1"), a = a.replace(d, e), c) : new RegExp(a, b)
        }
    }

    function h() {
    }

    function i(a) {
        for (var b, c, d = 1; d < arguments.length; d++) {
            b = arguments[d];
            for (c in b)Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
        }
        return a
    }

    function j(b, c, f) {
        if (f || "function" == typeof c) {
            f || (f = c, c = null), c = i({}, j.defaults, c || {});
            var g, h, k = c.highlight, l = 0;
            try {
                g = a.lex(b, c)
            } catch (m) {
                return f(m)
            }
            h = g.length;
            var n = function (a) {
                if (a)return c.highlight = k, f(a);
                var b;
                try {
                    b = d.parse(g, c)
                } catch (e) {
                    a = e
                }
                return c.highlight = k, a ? f(a) : f(null, b)
            };
            if (!k || k.length < 3)return n();
            if (delete c.highlight, !h)return n();
            for (; l < g.length; l++)!function (a) {
                return "code" !== a.type ? --h || n() : k(a.text, a.lang, function (b, c) {
                    return b ? n(b) : null == c || c === a.text ? --h || n() : (a.text = c, a.escaped = !0, void(--h || n()))
                })
            }(g[l])
        } else try {
            return c && (c = i({}, j.defaults, c)), d.parse(a.lex(b, c), c)
        } catch (m) {
            if (m.message += "\nPlease report this to https://github.com/chjj/marked.", (c || j.defaults).silent)return "<p>An error occured:</p><pre>" + e(m.message + "", !0) + "</pre>";
            throw m
        }
    }

    var k = {
        newline: /^\n+/,
        code: /^( {4}[^\n]+\n*)+/,
        fences: h,
        hr: /^( *[-*_]){3,} *(?:\n+|$)/,
        heading: /^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,
        nptable: h,
        lheading: /^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,
        blockquote: /^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,
        list: /^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
        html: /^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,
        def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,
        table: h,
        paragraph: /^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,
        text: /^[^\n]+/
    };
    k.bullet = /(?:[*+-]|\d+\.)/, k.item = /^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/, k.item = g(k.item, "gm")(/bull/g, k.bullet)(), k.list = g(k.list)(/bull/g, k.bullet)("hr", "\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def", "\\n+(?=" + k.def.source + ")")(), k.blockquote = g(k.blockquote)("def", k.def)(), k._tag = "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b", k.html = g(k.html)("comment", /<!--[\s\S]*?-->/)("closed", /<(tag)[\s\S]+?<\/\1>/)("closing", /<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g, k._tag)(), k.paragraph = g(k.paragraph)("hr", k.hr)("heading", k.heading)("lheading", k.lheading)("blockquote", k.blockquote)("tag", "<" + k._tag)("def", k.def)(), k.normal = i({}, k), k.gfm = i({}, k.normal, {
        fences: /^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,
        paragraph: /^/
    }), k.gfm.paragraph = g(k.paragraph)("(?!", "(?!" + k.gfm.fences.source.replace("\\1", "\\2") + "|" + k.list.source.replace("\\1", "\\3") + "|")(), k.tables = i({}, k.gfm, {
        nptable: /^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,
        table: /^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/
    }), a.rules = k, a.lex = function (b, c) {
        var d = new a(c);
        return d.lex(b)
    }, a.prototype.lex = function (a) {
        return a = a.replace(/\r\n|\r/g, "\n").replace(/\t/g, "    ").replace(/\u00a0/g, " ").replace(/\u2424/g, "\n"), this.token(a, !0)
    }, a.prototype.token = function (a, b, c) {
        for (var d, e, f, g, h, i, j, l, m, a = a.replace(/^ +$/gm, ""); a;)if ((f = this.rules.newline.exec(a)) && (a = a.substring(f[0].length), f[0].length > 1 && this.tokens.push({type: "space"})), f = this.rules.code.exec(a))a = a.substring(f[0].length), f = f[0].replace(/^ {4}/gm, ""), this.tokens.push({
            type: "code",
            text: this.options.pedantic ? f : f.replace(/\n+$/, "")
        }); else if (f = this.rules.fences.exec(a))a = a.substring(f[0].length), this.tokens.push({
            type: "code",
            lang: f[2],
            text: f[3]
        }); else if (f = this.rules.heading.exec(a))a = a.substring(f[0].length), this.tokens.push({
            type: "heading",
            depth: f[1].length,
            text: f[2]
        }); else if (b && (f = this.rules.nptable.exec(a))) {
            for (a = a.substring(f[0].length), i = {
                type: "table",
                header: f[1].replace(/^ *| *\| *$/g, "").split(/ *\| */),
                align: f[2].replace(/^ *|\| *$/g, "").split(/ *\| */),
                cells: f[3].replace(/\n$/, "").split("\n")
            }, l = 0; l < i.align.length; l++)i.align[l] = /^ *-+: *$/.test(i.align[l]) ? "right" : /^ *:-+: *$/.test(i.align[l]) ? "center" : /^ *:-+ *$/.test(i.align[l]) ? "left" : null;
            for (l = 0; l < i.cells.length; l++)i.cells[l] = i.cells[l].split(/ *\| */);
            this.tokens.push(i)
        } else if (f = this.rules.lheading.exec(a))a = a.substring(f[0].length), this.tokens.push({
            type: "heading",
            depth: "=" === f[2] ? 1 : 2,
            text: f[1]
        }); else if (f = this.rules.hr.exec(a))a = a.substring(f[0].length), this.tokens.push({type: "hr"}); else if (f = this.rules.blockquote.exec(a))a = a.substring(f[0].length), this.tokens.push({type: "blockquote_start"}), f = f[0].replace(/^ *> ?/gm, ""), this.token(f, b, !0), this.tokens.push({type: "blockquote_end"}); else if (f = this.rules.list.exec(a)) {
            for (a = a.substring(f[0].length), g = f[2], this.tokens.push({
                type: "list_start",
                ordered: g.length > 1
            }), f = f[0].match(this.rules.item), d = !1, m = f.length, l = 0; m > l; l++)i = f[l], j = i.length, i = i.replace(/^ *([*+-]|\d+\.) +/, ""), ~i.indexOf("\n ") && (j -= i.length, i = this.options.pedantic ? i.replace(/^ {1,4}/gm, "") : i.replace(new RegExp("^ {1," + j + "}", "gm"), "")), this.options.smartLists && l !== m - 1 && (h = k.bullet.exec(f[l + 1])[0], g === h || g.length > 1 && h.length > 1 || (a = f.slice(l + 1).join("\n") + a, l = m - 1)), e = d || /\n\n(?!\s*$)/.test(i), l !== m - 1 && (d = "\n" === i.charAt(i.length - 1), e || (e = d)), this.tokens.push({type: e ? "loose_item_start" : "list_item_start"}), this.token(i, !1, c), this.tokens.push({type: "list_item_end"});
            this.tokens.push({type: "list_end"})
        } else if (f = this.rules.html.exec(a))a = a.substring(f[0].length), this.tokens.push({
            type: this.options.sanitize ? "paragraph" : "html",
            pre: "pre" === f[1] || "script" === f[1] || "style" === f[1],
            text: f[0]
        }); else if (!c && b && (f = this.rules.def.exec(a)))a = a.substring(f[0].length), this.tokens.links[f[1].toLowerCase()] = {
            href: f[2],
            title: f[3]
        }; else if (b && (f = this.rules.table.exec(a))) {
            for (a = a.substring(f[0].length), i = {
                type: "table",
                header: f[1].replace(/^ *| *\| *$/g, "").split(/ *\| */),
                align: f[2].replace(/^ *|\| *$/g, "").split(/ *\| */),
                cells: f[3].replace(/(?: *\| *)?\n$/, "").split("\n")
            }, l = 0; l < i.align.length; l++)i.align[l] = /^ *-+: *$/.test(i.align[l]) ? "right" : /^ *:-+: *$/.test(i.align[l]) ? "center" : /^ *:-+ *$/.test(i.align[l]) ? "left" : null;
            for (l = 0; l < i.cells.length; l++)i.cells[l] = i.cells[l].replace(/^ *\| *| *\| *$/g, "").split(/ *\| */);
            this.tokens.push(i)
        } else if (b && (f = this.rules.paragraph.exec(a)))a = a.substring(f[0].length), this.tokens.push({
            type: "paragraph",
            text: "\n" === f[1].charAt(f[1].length - 1) ? f[1].slice(0, -1) : f[1]
        }); else if (f = this.rules.text.exec(a))a = a.substring(f[0].length), this.tokens.push({
            type: "text",
            text: f[0]
        }); else if (a)throw new Error("Infinite loop on byte: " + a.charCodeAt(0));
        return this.tokens
    };
    var l = {
        escape: /^\\([\\`*{}\[\]()#+\-.!_>])/,
        autolink: /^<([^ >]+(@|:\/)[^ >]+)>/,
        url: h,
        tag: /^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,
        link: /^!?\[(inside)\]\(href\)/,
        reflink: /^!?\[(inside)\]\s*\[([^\]]*)\]/,
        nolink: /^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,
        strong: /^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,
        em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,
        code: /^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,
        br: /^ {2,}\n(?!\s*$)/,
        del: h,
        text: /^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/
    };
    l._inside = /(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/, l._href = /\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/, l.link = g(l.link)("inside", l._inside)("href", l._href)(), l.reflink = g(l.reflink)("inside", l._inside)(), l.normal = i({}, l), l.pedantic = i({}, l.normal, {
        strong: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
        em: /^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/
    }), l.gfm = i({}, l.normal, {
        escape: g(l.escape)("])", "~|])")(),
        url: /^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,
        del: /^~~(?=\S)([\s\S]*?\S)~~/,
        text: g(l.text)("]|", "~]|")("|", "|https?://|")()
    }), l.breaks = i({}, l.gfm, {
        br: g(l.br)("{2,}", "*")(),
        text: g(l.gfm.text)("{2,}", "*")()
    }), b.rules = l, b.output = function (a, c, d) {
        var e = new b(c, d);
        return e.output(a)
    }, b.prototype.output = function (a) {
        for (var b, c, d, f, g = ""; a;)if (f = this.rules.escape.exec(a))a = a.substring(f[0].length), g += f[1]; else if (f = this.rules.autolink.exec(a))a = a.substring(f[0].length), "@" === f[2] ? (c = this.mangle(":" === f[1].charAt(6) ? f[1].substring(7) : f[1]), d = this.mangle("mailto:") + c) : (c = e(f[1]), d = c), g += this.renderer.link(d, null, c); else if (this.inLink || !(f = this.rules.url.exec(a))) {
            if (f = this.rules.tag.exec(a))!this.inLink && /^<a /i.test(f[0]) ? this.inLink = !0 : this.inLink && /^<\/a>/i.test(f[0]) && (this.inLink = !1), a = a.substring(f[0].length), g += this.options.sanitize ? e(f[0]) : f[0]; else if (f = this.rules.link.exec(a))a = a.substring(f[0].length), this.inLink = !0, g += this.outputLink(f, {
                href: f[2],
                title: f[3]
            }), this.inLink = !1; else if ((f = this.rules.reflink.exec(a)) || (f = this.rules.nolink.exec(a))) {
                if (a = a.substring(f[0].length), b = (f[2] || f[1]).replace(/\s+/g, " "), b = this.links[b.toLowerCase()], !b || !b.href) {
                    g += f[0].charAt(0), a = f[0].substring(1) + a;
                    continue
                }
                this.inLink = !0, g += this.outputLink(f, b), this.inLink = !1
            } else if (f = this.rules.strong.exec(a))a = a.substring(f[0].length), g += this.renderer.strong(this.output(f[2] || f[1])); else if (f = this.rules.em.exec(a))a = a.substring(f[0].length), g += this.renderer.em(this.output(f[2] || f[1])); else if (f = this.rules.code.exec(a))a = a.substring(f[0].length), g += this.renderer.codespan(e(f[2], !0)); else if (f = this.rules.br.exec(a))a = a.substring(f[0].length), g += this.renderer.br(); else if (f = this.rules.del.exec(a))a = a.substring(f[0].length), g += this.renderer.del(this.output(f[1])); else if (f = this.rules.text.exec(a))a = a.substring(f[0].length), g += e(this.smartypants(f[0])); else if (a)throw new Error("Infinite loop on byte: " + a.charCodeAt(0))
        } else a = a.substring(f[0].length), c = e(f[1]), d = c, g += this.renderer.link(d, null, c);
        return g
    }, b.prototype.outputLink = function (a, b) {
        var c = e(b.href), d = b.title ? e(b.title) : null;
        return "!" !== a[0].charAt(0) ? this.renderer.link(c, d, this.output(a[1])) : this.renderer.image(c, d, e(a[1]))
    }, b.prototype.smartypants = function (a) {
        return this.options.smartypants ? a.replace(/--/g, "—").replace(/(^|[-\u2014/(\[{"\s])'/g, "$1‘").replace(/'/g, "’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1“").replace(/"/g, "”").replace(/\.{3}/g, "…") : a
    }, b.prototype.mangle = function (a) {
        for (var b, c = "", d = a.length, e = 0; d > e; e++)b = a.charCodeAt(e), Math.random() > .5 && (b = "x" + b.toString(16)), c += "&#" + b + ";";
        return c
    }, c.prototype.code = function (a, b, c) {
        if (this.options.highlight) {
            var d = this.options.highlight(a, b);
            null != d && d !== a && (c = !0, a = d)
        }
        return b ? '<pre><code class="' + this.options.langPrefix + e(b, !0) + '">' + (c ? a : e(a, !0)) + "\n</code></pre>\n" : "<pre><code>" + (c ? a : e(a, !0)) + "\n</code></pre>"
    }, c.prototype.blockquote = function (a) {
        return "<blockquote>\n" + a + "</blockquote>\n"
    }, c.prototype.html = function (a) {
        return a
    }, c.prototype.heading = function (a, b, c) {
        return "<h" + b + ' id="' + this.options.headerPrefix + c.toLowerCase().replace(/[^\w]+/g, "-") + '">' + a + "</h" + b + ">\n"
    }, c.prototype.hr = function () {
        return this.options.xhtml ? "<hr/>\n" : "<hr>\n"
    }, c.prototype.list = function (a, b) {
        var c = b ? "ol" : "ul";
        return "<" + c + ">\n" + a + "</" + c + ">\n"
    }, c.prototype.listitem = function (a) {
        return "<li>" + a + "</li>\n"
    }, c.prototype.paragraph = function (a) {
        return "<p>" + a + "</p>\n"
    }, c.prototype.table = function (a, b) {
        return "<table>\n<thead>\n" + a + "</thead>\n<tbody>\n" + b + "</tbody>\n</table>\n"
    }, c.prototype.tablerow = function (a) {
        return "<tr>\n" + a + "</tr>\n"
    }, c.prototype.tablecell = function (a, b) {
        var c = b.header ? "th" : "td", d = b.align ? "<" + c + ' style="text-align:' + b.align + '">' : "<" + c + ">";
        return d + a + "</" + c + ">\n"
    }, c.prototype.strong = function (a) {
        return "<strong>" + a + "</strong>"
    }, c.prototype.em = function (a) {
        return "<em>" + a + "</em>"
    }, c.prototype.codespan = function (a) {
        return "<code>" + a + "</code>"
    }, c.prototype.br = function () {
        return this.options.xhtml ? "<br/>" : "<br>"
    }, c.prototype.del = function (a) {
        return "<del>" + a + "</del>"
    }, c.prototype.link = function (a, b, c) {
        if (this.options.sanitize) {
            try {
                var d = decodeURIComponent(f(a)).replace(/[^\w:]/g, "").toLowerCase()
            } catch (e) {
                return ""
            }
            if (0 === d.indexOf("javascript:"))return ""
        }
        var g = '<a href="' + a + '"';
        return b && (g += ' title="' + b + '"'), g += ">" + c + "</a>"
    }, c.prototype.image = function (a, b, c) {
        var d = '<img src="' + a + '" alt="' + c + '"';
        return b && (d += ' title="' + b + '"'), d += this.options.xhtml ? "/>" : ">"
    }, d.parse = function (a, b, c) {
        var e = new d(b, c);
        return e.parse(a)
    }, d.prototype.parse = function (a) {
        this.inline = new b(a.links, this.options, this.renderer), this.tokens = a.reverse();
        for (var c = ""; this.next();)c += this.tok();
        return c
    }, d.prototype.next = function () {
        return this.token = this.tokens.pop()
    }, d.prototype.peek = function () {
        return this.tokens[this.tokens.length - 1] || 0
    }, d.prototype.parseText = function () {
        for (var a = this.token.text; "text" === this.peek().type;)a += "\n" + this.next().text;
        return this.inline.output(a)
    }, d.prototype.tok = function () {
        switch (this.token.type) {
            case"space":
                return "";
            case"hr":
                return this.renderer.hr();
            case"heading":
                return this.renderer.heading(this.inline.output(this.token.text), this.token.depth, this.token.text);
            case"code":
                return this.renderer.code(this.token.text, this.token.lang, this.token.escaped);
            case"table":
                var a, b, c, d, e, f = "", g = "";
                for (c = "", a = 0; a < this.token.header.length; a++)d = {
                    header: !0,
                    align: this.token.align[a]
                }, c += this.renderer.tablecell(this.inline.output(this.token.header[a]), {
                    header: !0,
                    align: this.token.align[a]
                });
                for (f += this.renderer.tablerow(c), a = 0; a < this.token.cells.length; a++) {
                    for (b = this.token.cells[a], c = "", e = 0; e < b.length; e++)c += this.renderer.tablecell(this.inline.output(b[e]), {
                        header: !1,
                        align: this.token.align[e]
                    });
                    g += this.renderer.tablerow(c)
                }
                return this.renderer.table(f, g);
            case"blockquote_start":
                for (var g = ""; "blockquote_end" !== this.next().type;)g += this.tok();
                return this.renderer.blockquote(g);
            case"list_start":
                for (var g = "", h = this.token.ordered; "list_end" !== this.next().type;)g += this.tok();
                return this.renderer.list(g, h);
            case"list_item_start":
                for (var g = ""; "list_item_end" !== this.next().type;)g += "text" === this.token.type ? this.parseText() : this.tok();
                return this.renderer.listitem(g);
            case"loose_item_start":
                for (var g = ""; "list_item_end" !== this.next().type;)g += this.tok();
                return this.renderer.listitem(g);
            case"html":
                var i = this.token.pre || this.options.pedantic ? this.token.text : this.inline.output(this.token.text);
                return this.renderer.html(i);
            case"paragraph":
                return this.renderer.paragraph(this.inline.output(this.token.text));
            case"text":
                return this.renderer.paragraph(this.parseText())
        }
    }, h.exec = h, j.options = j.setOptions = function (a) {
        return i(j.defaults, a), j
    }, j.defaults = {
        gfm: !0,
        tables: !0,
        breaks: !1,
        pedantic: !1,
        sanitize: !1,
        smartLists: !1,
        silent: !1,
        highlight: null,
        langPrefix: "lang-",
        smartypants: !1,
        headerPrefix: "",
        renderer: new c,
        xhtml: !1
    }, j.Parser = d, j.parser = d.parse, j.Renderer = c, j.Lexer = a, j.lexer = a.lex, j.InlineLexer = b, j.inlineLexer = b.output, j.parse = j, "undefined" != typeof module && "object" == typeof exports ? module.exports = j : "function" == typeof define && define.amd ? define(function () {
        return j
    }) : this.marked = j
}.call(function () {
    return this || ("undefined" != typeof window ? window : global)
}()), function (a) {
    "object" == typeof exports && "object" == typeof module ? a(require("../../lib/codemirror")) : "function" == typeof define && define.amd ? define(["../../lib/codemirror"], a) : a(CodeMirror)
}(function (a) {
    "use strict";
    function b(a) {
        var b = a.getWrapperElement();
        a.state.fullScreenRestore = {
            scrollTop: window.pageYOffset,
            scrollLeft: window.pageXOffset,
            width: b.style.width,
            height: b.style.height
        }, b.style.width = "", b.style.height = "auto", b.className += " CodeMirror-fullscreen", document.documentElement.style.overflow = "hidden", a.refresh()
    }

    function c(a) {
        var b = a.getWrapperElement();
        b.className = b.className.replace(/\s*CodeMirror-fullscreen\b/, ""), document.documentElement.style.overflow = "";
        var c = a.state.fullScreenRestore;
        b.style.width = c.width, b.style.height = c.height, window.scrollTo(c.scrollLeft, c.scrollTop), a.refresh()
    }

    a.defineOption("fullScreen", !1, function (d, e, f) {
        f == a.Init && (f = !1), !f != !e && (e ? b(d) : c(d))
    })
}), function (a) {
    function b(a) {
        return a = x ? a.replace("Ctrl", "Cmd") : a.replace("Cmd", "Ctrl")
    }

    function c(a, c) {
        c = c || {};
        var d = document.createElement("a"), e = c.shortcut || y[a];
        return e && (e = b(e), d.title = e, d.title = d.title.replace("Cmd", "⌘"), x && (d.title = d.title.replace("Alt", "⌥"))), d.className = c.className || "icon-" + a, d
    }

    function d() {
        return el = document.createElement("i"), el.className = "separator", el.innerHTML = "|", el
    }

    function e(a, b) {
        b = b || a.getCursor("start");
        var c = a.getTokenAt(b);
        if (!c.type)return {};
        for (var d, e, f = c.type.split(" "), g = {}, h = 0; h < f.length; h++)d = f[h], "strong" === d ? g.bold = !0 : "variable-2" === d ? (e = a.getLine(b.line), /^\s*\d+\.\s/.test(e) ? g["ordered-list"] = !0 : g["unordered-list"] = !0) : "atom" === d ? g.quote = !0 : "em" === d ? g.italic = !0 : "comment" === d && (g.code = !0);
        return g
    }

    function f(a) {
        var b = a.codemirror, c = b.getWrapperElement(), d = c.lastChild;
        b.getOption("fullScreen") ? b.getOption("fullScreen") && g(a) : (b.setOption("fullScreen", !b.getOption("fullScreen")), /editor-preview-active/.test(d.className) && (a.fullScreenPreviewOriginContent = d.innerHTML, d.innerHTML += a.fullScreenPreviewCloseDom)), currentMarkdownEditor = a
    }

    function g(a) {
        var b = a.codemirror, c = b.getWrapperElement(), d = c.lastChild;
        b.getOption("fullScreen") && (b.setOption("fullScreen", !1), /editor-preview-active/.test(d.className) && (d.innerHTML = a.fullScreenPreviewOriginContent, a.fullScreenPreviewOriginContent = "")), currentMarkdownEditor = null
    }

    function h(a) {
        var b, c = a.codemirror, d = e(c), f = "**", g = "**", h = c.getCursor("start"), i = c.getCursor("end");
        d.bold ? (b = c.getLine(h.line), f = b.slice(0, h.ch), g = b.slice(h.ch), f = f.replace(/^(.*)?(\*|\_){2}(\S+.*)?$/, "$1$3"), g = g.replace(/^(.*\S+)?(\*|\_){2}(\s+.*)?$/, "$1$3"), h.ch -= 2, i.ch -= 2, c.replaceRange(f + g, {
            line: h.line,
            ch: 0
        }, {
            line: h.line,
            ch: b.length
        })) : (b = c.getSelection(), c.replaceSelection(f + b + g), h.ch += 2, i.ch += 2), c.setSelection(h, i), c.focus()
    }

    function i(a) {
        var b, c = a.codemirror, d = e(c), f = "*", g = "*", h = c.getCursor("start"), i = c.getCursor("end");
        d.italic ? (b = c.getLine(h.line), f = b.slice(0, h.ch), g = b.slice(h.ch), f = f.replace(/^(.*)?(\*|\_)(\S+.*)?$/, "$1$3"), g = g.replace(/^(.*\S+)?(\*|\_)(\s+.*)?$/, "$1$3"), h.ch -= 1, i.ch -= 1, c.replaceRange(f + g, {
            line: h.line,
            ch: 0
        }, {
            line: h.line,
            ch: b.length
        })) : (b = c.getSelection(), c.replaceSelection(f + b + g), h.ch += 1, i.ch += 1), c.setSelection(h, i), c.focus()
    }

    function j(a) {
        var b = a.codemirror;
        u(b, "quote")
    }

    function k(a) {
        var b = a.codemirror;
        u(b, "unordered-list")
    }

    function l(a) {
        var b = a.codemirror;
        u(b, "ordered-list")
    }

    function m(a) {
        var b = a.codemirror, c = e(b);
        t(b, c.link, "[", "](http://)")
    }

    function n(a) {
        var b = a.codemirror, c = e(b);
        t(b, c.image, "![", "](http://)")
    }

    function o(a) {
        var b = a.codemirror, c = e(b);
        0 !== a.imgUrl.length ? t(b, c.image, "\r\n", '<img src="' + a.imgUrl + '" class="img-responsive">') : t(b, c.image, '<img src="', '" class="img-responsive">')
    }

    function p(a) {
        var b = a.codemirror, c = e(b);
        t(b, c.image, "```\r\n", "\r\n\r\n```")
    }

    function q(a) {
        var b = a.codemirror;
        b.undo(), b.focus()
    }

    function r(a) {
        var b = a.codemirror;
        b.redo(), b.focus()
    }

    function s(a) {
        var b = a.toolbar.preview, c = a.constructor.markdown, d = a.codemirror, e = d.getWrapperElement(), f = e.lastChild;
        /editor-preview/.test(f.className) || (f = document.createElement("div"), f.className = "editor-preview", e.appendChild(f)), /editor-preview-active/.test(f.className) ? (f.className = f.className.replace(/\s*editor-preview-active\s*/g, ""), b.className = b.className.replace(/\s*active\s*/g, "")) : (setTimeout(function () {
            f.className += " editor-preview-active"
        }, 1), b.className += " active");
        var g = d.getValue();
        f.innerHTML = c(g), d.getOption("fullScreen") && (a.fullScreenPreviewOriginContent = f.innerHTML, f.innerHTML += a.fullScreenPreviewCloseDom)
    }

    function t(a, b, c, d) {
        var e, f = a.getCursor("start"), g = a.getCursor("end");
        b ? (e = a.getLine(f.line), c = e.slice(0, f.ch), d = e.slice(f.ch), a.replaceRange(c + d, {
            line: f.line,
            ch: 0
        }, {
            line: f.line,
            ch: e.length
        })) : (e = a.getSelection(), a.replaceSelection(c + e + d), f.ch += c.length, g.ch += c.length), a.setSelection(f, g), a.focus()
    }

    function u(a, b) {
        for (var c = e(a), d = a.getCursor("start"), f = a.getCursor("end"), g = {
            quote: /^(\s*)\>\s+/,
            "unordered-list": /^(\s*)(\*|\-|\+)\s+/,
            "ordered-list": /^(\s*)\d+\.\s+/
        }, h = {
            quote: "> ",
            "unordered-list": "* ",
            "ordered-list": "1. "
        }, i = d.line; i <= f.line; i++)!function (d) {
            var e = a.getLine(d), f = "";
            f = c[b] ? e.replace(g[b], "$1") : h[b] + e, a.replaceRange(f, {line: d, ch: 0}, {line: d, ch: e.length})
        }(i);
        a.focus()
    }

    function v(a) {
        var b = /[a-zA-Z0-9_\u0392-\u03c9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g, c = a.match(b), d = 0;
        if (null === c)return d;
        for (var e = 0; e < c.length; e++)d += c[e].charCodeAt(0) >= 19968 ? c[e].length : 1;
        return d
    }

    function w(a) {
        a = a || {}, a.element && (this.element = a.element), a.toolbar = a.toolbar || w.toolbar, a.hasOwnProperty("status") || (a.status = ["lines", "words", "cursor"]), this.options = a, this.element && this.render()
    }

    !function () {
        "use strict";
        var a = /^(\s*)([*+-]|(\d+)\.)(\s*)/, b = "*+-";
        CodeMirror.commands.newlineAndIndentContinueMarkdownList = function (c) {
            var d, e = c.getCursor(), f = c.getStateAfter(e.line).list;
            if (!f || !(d = c.getLine(e.line).match(a)))return void c.execCommand("newlineAndIndent");
            var g = d[1], h = d[4], i = b.indexOf(d[2]) >= 0 ? d[2] : parseInt(d[3], 10) + 1 + ".";
            c.replaceSelection("\n" + g + i + h, "end")
        }
    }(), CodeMirror.defineMode("xml", function (a, b) {
        function c(a, b) {
            function c(c) {
                return b.tokenize = c, c(a, b)
            }

            var e = a.next();
            if ("<" == e) {
                if (a.eat("!"))return a.eat("[") ? a.match("CDATA[") ? c(f("atom", "]]>")) : null : a.match("--") ? c(f("comment", "-->")) : a.match("DOCTYPE", !0, !0) ? (a.eatWhile(/[\w\._\-]/), c(g(1))) : null;
                if (a.eat("?"))return a.eatWhile(/[\w\._\-]/), b.tokenize = f("meta", "?>"), "meta";
                var h = a.eat("/");
                t = "";
                for (var i; i = a.eat(/[^\s\u00a0=<>\"\'\/?]/);)t += i;
                return t ? (u = h ? "closeTag" : "openTag", b.tokenize = d, "tag") : "error"
            }
            if ("&" == e) {
                var j;
                return j = a.eat("#") ? a.eat("x") ? a.eatWhile(/[a-fA-F\d]/) && a.eat(";") : a.eatWhile(/[\d]/) && a.eat(";") : a.eatWhile(/[\w\.\-:]/) && a.eat(";"), j ? "atom" : "error"
            }
            return a.eatWhile(/[^&<]/), null
        }

        function d(a, b) {
            var d = a.next();
            return ">" == d || "/" == d && a.eat(">") ? (b.tokenize = c, u = ">" == d ? "endTag" : "selfcloseTag", "tag") : "=" == d ? (u = "equals", null) : "<" == d ? "error" : /[\'\"]/.test(d) ? (b.tokenize = e(d), b.stringStartCol = a.column(), b.tokenize(a, b)) : (a.eatWhile(/[^\s\u00a0=<>\"\']/), "word")
        }

        function e(a) {
            var b = function (b, c) {
                for (; !b.eol();)if (b.next() == a) {
                    c.tokenize = d;
                    break
                }
                return "string"
            };
            return b.isInAttribute = !0, b
        }

        function f(a, b) {
            return function (d, e) {
                for (; !d.eol();) {
                    if (d.match(b)) {
                        e.tokenize = c;
                        break
                    }
                    d.next()
                }
                return a
            }
        }

        function g(a) {
            return function (b, d) {
                for (var e; null != (e = b.next());) {
                    if ("<" == e)return d.tokenize = g(a + 1), d.tokenize(b, d);
                    if (">" == e) {
                        if (1 == a) {
                            d.tokenize = c;
                            break
                        }
                        return d.tokenize = g(a - 1), d.tokenize(b, d)
                    }
                }
                return "meta"
            }
        }

        function h() {
            for (var a = arguments.length - 1; a >= 0; a--)v.cc.push(arguments[a])
        }

        function i() {
            return h.apply(null, arguments), !0
        }

        function j(a, b) {
            var c = B.doNotIndent.hasOwnProperty(a) || v.context && v.context.noIndent;
            v.context = {prev: v.context, tagName: a, indent: v.indented, startOfLine: b, noIndent: c}
        }

        function k() {
            v.context && (v.context = v.context.prev)
        }

        function l(a) {
            if ("openTag" == a)return v.tagName = t, v.tagStart = w.column(), i(p, m(v.startOfLine));
            if ("closeTag" == a) {
                var b = !1;
                return v.context ? v.context.tagName != t && (B.implicitlyClosed.hasOwnProperty(v.context.tagName.toLowerCase()) && k(), b = !v.context || v.context.tagName != t) : b = !0, b && (x = "error"), i(n(b))
            }
            return i()
        }

        function m(a) {
            return function (b) {
                var c = v.tagName;
                return v.tagName = v.tagStart = null, "selfcloseTag" == b || "endTag" == b && B.autoSelfClosers.hasOwnProperty(c.toLowerCase()) ? (o(c.toLowerCase()), i()) : "endTag" == b ? (o(c.toLowerCase()), j(c, a), i()) : i()
            }
        }

        function n(a) {
            return function (b) {
                return a && (x = "error"), "endTag" == b ? (k(), i()) : (x = "error", i(arguments.callee))
            }
        }

        function o(a) {
            for (var b; ;) {
                if (!v.context)return;
                if (b = v.context.tagName.toLowerCase(), !B.contextGrabbers.hasOwnProperty(b) || !B.contextGrabbers[b].hasOwnProperty(a))return;
                k()
            }
        }

        function p(a) {
            return "word" == a ? (x = "attribute", i(q, p)) : "endTag" == a || "selfcloseTag" == a ? h() : (x = "error", i(p))
        }

        function q(a) {
            return "equals" == a ? i(r, p) : (B.allowMissing ? "word" == a && (x = "attribute") : x = "error", "endTag" == a || "selfcloseTag" == a ? h() : i())
        }

        function r(a) {
            return "string" == a ? i(s) : "word" == a && B.allowUnquoted ? (x = "string", i()) : (x = "error", "endTag" == a || "selfCloseTag" == a ? h() : i())
        }

        function s(a) {
            return "string" == a ? i(s) : h()
        }

        var t, u, v, w, x, y = a.indentUnit, z = b.multilineTagIndentFactor || 1, A = b.multilineTagIndentPastTag || !0, B = b.htmlMode ? {
            autoSelfClosers: {
                area: !0,
                base: !0,
                br: !0,
                col: !0,
                command: !0,
                embed: !0,
                frame: !0,
                hr: !0,
                img: !0,
                input: !0,
                keygen: !0,
                link: !0,
                meta: !0,
                param: !0,
                source: !0,
                track: !0,
                wbr: !0
            },
            implicitlyClosed: {
                dd: !0,
                li: !0,
                optgroup: !0,
                option: !0,
                p: !0,
                rp: !0,
                rt: !0,
                tbody: !0,
                td: !0,
                tfoot: !0,
                th: !0,
                tr: !0
            },
            contextGrabbers: {
                dd: {dd: !0, dt: !0},
                dt: {dd: !0, dt: !0},
                li: {li: !0},
                option: {option: !0, optgroup: !0},
                optgroup: {optgroup: !0},
                p: {
                    address: !0,
                    article: !0,
                    aside: !0,
                    blockquote: !0,
                    dir: !0,
                    div: !0,
                    dl: !0,
                    fieldset: !0,
                    footer: !0,
                    form: !0,
                    h1: !0,
                    h2: !0,
                    h3: !0,
                    h4: !0,
                    h5: !0,
                    h6: !0,
                    header: !0,
                    hgroup: !0,
                    hr: !0,
                    menu: !0,
                    nav: !0,
                    ol: !0,
                    p: !0,
                    pre: !0,
                    section: !0,
                    table: !0,
                    ul: !0
                },
                rp: {rp: !0, rt: !0},
                rt: {rp: !0, rt: !0},
                tbody: {tbody: !0, tfoot: !0},
                td: {td: !0, th: !0},
                tfoot: {tbody: !0},
                th: {td: !0, th: !0},
                thead: {tbody: !0, tfoot: !0},
                tr: {tr: !0}
            },
            doNotIndent: {pre: !0},
            allowUnquoted: !0,
            allowMissing: !0
        } : {
            autoSelfClosers: {},
            implicitlyClosed: {},
            contextGrabbers: {},
            doNotIndent: {},
            allowUnquoted: !1,
            allowMissing: !1
        }, C = b.alignCDATA;
        return {
            startState: function () {
                return {tokenize: c, cc: [], indented: 0, startOfLine: !0, tagName: null, tagStart: null, context: null}
            },
            token: function (a, b) {
                if (!b.tagName && a.sol() && (b.startOfLine = !0, b.indented = a.indentation()), a.eatSpace())return null;
                x = u = t = null;
                var c = b.tokenize(a, b);
                if (b.type = u, (c || u) && "comment" != c)for (v = b, w = a; ;) {
                    var d = b.cc.pop() || l;
                    if (d(u || c))break
                }
                return b.startOfLine = !1, x || c
            },
            indent: function (a, b, e) {
                var f = a.context;
                if (a.tokenize.isInAttribute)return a.stringStartCol + 1;
                if (a.tokenize != d && a.tokenize != c || f && f.noIndent)return e ? e.match(/^(\s*)/)[0].length : 0;
                if (a.tagName)return A ? a.tagStart + a.tagName.length + 2 : a.tagStart + y * z;
                if (C && /<!\[CDATA\[/.test(b))return 0;
                for (f && /^<\//.test(b) && (f = f.prev); f && !f.startOfLine;)f = f.prev;
                return f ? f.indent + y : 0
            },
            electricChars: "/",
            blockCommentStart: "<!--",
            blockCommentEnd: "-->",
            configuration: b.htmlMode ? "html" : "xml",
            helperType: b.htmlMode ? "html" : "xml"
        }
    }), CodeMirror.defineMIME("text/xml", "xml"), CodeMirror.defineMIME("application/xml", "xml"), CodeMirror.mimeModes.hasOwnProperty("text/html") || CodeMirror.defineMIME("text/html", {
        name: "xml",
        htmlMode: !0
    }), CodeMirror.defineMode("markdown", function (a, b) {
        function c(a, b, c) {
            return b.f = b.inline = c, c(a, b)
        }

        function d(a, b, c) {
            return b.f = b.block = c, c(a, b)
        }

        function e(a) {
            return a.linkTitle = !1, a.em = !1, a.strong = !1, a.quote = 0, q || a.f != g || (a.f = k, a.block = f), a.trailingSpace = 0, a.trailingSpaceNewLine = !1, a.thisLineHasContent = !1, null
        }

        function f(a, e) {
            var f = e.list !== !1;
            if (e.list !== !1 && e.indentationDiff >= 0 ? (e.indentationDiff < 4 && (e.indentation -= e.indentationDiff), e.list = null) : e.list !== !1 && e.indentation > 0 ? (e.list = null, e.listDepth = Math.floor(e.indentation / 4)) : e.list !== !1 && (e.list = !1, e.listDepth = 0), e.indentationDiff >= 4)return e.indentation -= 4, a.skipToEnd(), w;
            if (a.eatSpace())return null;
            if ("#" === a.peek() || e.prevLineHasContent && a.match(O))e.header = !0; else if (a.eat(">"))for (e.indentation++, e.quote = 1, a.eatSpace(); a.eat(">");)a.eatSpace(), e.quote++; else {
                if ("[" === a.peek())return c(a, e, m);
                if (a.match(K, !0))return C;
                if (e.prevLineHasContent && !f || !a.match(L, !0) && !a.match(M, !0)) {
                    if (b.fencedCodeBlocks && a.match(/^```([\w+#]*)/, !0))return e.localMode = t(RegExp.$1), e.localMode && (e.localState = e.localMode.startState()), d(a, e, h), w
                } else e.indentation += 4, e.list = !0, e.listDepth++, b.taskLists && a.match(N, !1) && (e.taskList = !0)
            }
            return c(a, e, e.inline)
        }

        function g(a, b) {
            var c = r.token(a, b.htmlState);
            return q && "tag" === c && "openTag" !== b.htmlState.type && !b.htmlState.context && (b.f = k, b.block = f), b.md_inside && -1 != a.current().indexOf(">") && (b.f = k, b.block = f, b.htmlState.context = void 0), c
        }

        function h(a, b) {
            return a.sol() && a.match(/^```/, !0) ? (b.localMode = b.localState = null, b.f = k, b.block = f, w) : b.localMode ? b.localMode.token(a, b.localState) : (a.skipToEnd(), w)
        }

        function i(a) {
            var b = [];
            if (a.taskOpen)return "meta";
            if (a.taskClosed)return "property";
            if (a.strong && b.push(J), a.em && b.push(I), a.linkText && b.push(G), a.code && b.push(w), a.header && b.push(v), a.quote && b.push(a.quote % 2 ? x : y), a.list !== !1) {
                var c = (a.listDepth - 1) % 3;
                b.push(c ? 1 === c ? A : B : z)
            }
            return a.trailingSpaceNewLine ? b.push("trailing-space-new-line") : a.trailingSpace && b.push("trailing-space-" + (a.trailingSpace % 2 ? "a" : "b")), b.length ? b.join(" ") : null
        }

        function j(a, b) {
            return a.match(P, !0) ? i(b) : void 0
        }

        function k(a, e) {
            var f = e.text(a, e);
            if ("undefined" != typeof f)return f;
            if (e.list)return e.list = null, i(e);
            if (e.taskList) {
                var h = "x" !== a.match(N, !0)[1];
                return h ? e.taskOpen = !0 : e.taskClosed = !0, e.taskList = !1, i(e)
            }
            e.taskOpen = !1, e.taskClosed = !1;
            var j = a.next();
            if ("\\" === j)return a.next(), i(e);
            if (e.linkTitle) {
                e.linkTitle = !1;
                var k = j;
                "(" === j && (k = ")"), k = (k + "").replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
                var m = "^\\s*(?:[^" + k + "\\\\]+|\\\\\\\\|\\\\.)" + k;
                if (a.match(new RegExp(m), !0))return H
            }
            if ("`" === j) {
                var n = i(e), o = a.pos;
                a.eatWhile("`");
                var q = 1 + a.pos - o;
                return e.code ? q === u ? (e.code = !1, n) : i(e) : (u = q, e.code = !0, i(e))
            }
            if (e.code)return i(e);
            if ("!" === j && a.match(/\[[^\]]*\] ?(?:\(|\[)/, !1))return a.match(/\[[^\]]*\]/), e.inline = e.f = l, D;
            if ("[" === j && a.match(/.*\](\(| ?\[)/, !1))return e.linkText = !0, i(e);
            if ("]" === j && e.linkText) {
                var r = i(e);
                return e.linkText = !1, e.inline = e.f = l, r
            }
            if ("<" === j && a.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/, !1))return c(a, e, p(E, ">"));
            if ("<" === j && a.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/, !1))return c(a, e, p(F, ">"));
            if ("<" === j && a.match(/^\w/, !1)) {
                if (-1 != a.string.indexOf(">")) {
                    var s = a.string.substring(1, a.string.indexOf(">"));
                    /markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(s) && (e.md_inside = !0)
                }
                return a.backUp(1), d(a, e, g)
            }
            if ("<" === j && a.match(/^\/\w*?>/))return e.md_inside = !1, "tag";
            var t = !1;
            if (!b.underscoresBreakWords && "_" === j && "_" !== a.peek() && a.match(/(\w)/, !1)) {
                var v = a.pos - 2;
                if (v >= 0) {
                    var w = a.string.charAt(v);
                    "_" !== w && w.match(/(\w)/, !1) && (t = !0)
                }
            }
            var n = i(e);
            if ("*" === j || "_" === j && !t) {
                if (e.strong === j && a.eat(j))return e.strong = !1, n;
                if (!e.strong && a.eat(j))return e.strong = j, i(e);
                if (e.em === j)return e.em = !1, n;
                if (!e.em)return e.em = j, i(e)
            } else if (" " === j && (a.eat("*") || a.eat("_"))) {
                if (" " === a.peek())return i(e);
                a.backUp(1)
            }
            return " " === j && (a.match(/ +$/, !1) ? e.trailingSpace++ : e.trailingSpace && (e.trailingSpaceNewLine = !0)), i(e)
        }

        function l(a, b) {
            if (a.eatSpace())return null;
            var d = a.next();
            return "(" === d || "[" === d ? c(a, b, p(H, "(" === d ? ")" : "]")) : "error"
        }

        function m(a, b) {
            return a.match(/^[^\]]*\]:/, !0) ? (b.f = n, G) : c(a, b, k)
        }

        function n(a, b) {
            return a.eatSpace() ? null : (a.match(/^[^\s]+/, !0), void 0 === a.peek() ? b.linkTitle = !0 : a.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/, !0), b.f = b.inline = k, H)
        }

        function o(a) {
            return Q[a] || (a = (a + "").replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1"), Q[a] = new RegExp("^(?:[^\\\\]|\\\\.)*?(" + a + ")")), Q[a]
        }

        function p(a, b, c) {
            return c = c || k, function (d, e) {
                return d.match(o(b)), e.inline = e.f = c, a
            }
        }

        var q = CodeMirror.modes.hasOwnProperty("xml"), r = CodeMirror.getMode(a, q ? {
            name: "xml",
            htmlMode: !0
        } : "text/plain"), s = {
            html: "htmlmixed",
            js: "javascript",
            json: "application/json",
            c: "text/x-csrc",
            "c++": "text/x-c++src",
            java: "text/x-java",
            csharp: "text/x-csharp",
            "c#": "text/x-csharp",
            scala: "text/x-scala"
        }, t = function () {
            var b, c, d = {}, e = {}, f = [];
            for (var g in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(g) && f.push(g);
            for (b = 0; b < f.length; b++)d[f[b]] = f[b];
            var h = [];
            for (var g in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(g) && h.push({
                mime: g,
                mode: CodeMirror.mimeModes[g]
            });
            for (b = 0; b < h.length; b++)c = h[b].mime, e[c] = h[b].mime;
            for (var i in s)(s[i] in d || s[i] in e) && (d[i] = s[i]);
            return function (b) {
                return d[b] ? CodeMirror.getMode(a, d[b]) : null
            }
        }();
        void 0 === b.underscoresBreakWords && (b.underscoresBreakWords = !0), void 0 === b.fencedCodeBlocks && (b.fencedCodeBlocks = !1), void 0 === b.taskLists && (b.taskLists = !1);
        var u = 0, v = "header", w = "comment", x = "atom", y = "number", z = "variable-2", A = "variable-3", B = "keyword", C = "hr", D = "tag", E = "link", F = "link", G = "link", H = "string", I = "em", J = "strong", K = /^([*\-=_])(?:\s*\1){2,}\s*$/, L = /^[*\-+]\s+/, M = /^[0-9]+\.\s+/, N = /^\[(x| )\](?=\s)/, O = /^(?:\={1,}|-{1,})$/, P = /^[^!\[\]*_\\<>` "'(]+/, Q = [];
        return {
            startState: function () {
                return {
                    f: f,
                    prevLineHasContent: !1,
                    thisLineHasContent: !1,
                    block: f,
                    htmlState: CodeMirror.startState(r),
                    indentation: 0,
                    inline: k,
                    text: j,
                    linkText: !1,
                    linkTitle: !1,
                    em: !1,
                    strong: !1,
                    header: !1,
                    taskList: !1,
                    list: !1,
                    listDepth: 0,
                    quote: 0,
                    trailingSpace: 0,
                    trailingSpaceNewLine: !1
                }
            }, copyState: function (a) {
                return {
                    f: a.f,
                    prevLineHasContent: a.prevLineHasContent,
                    thisLineHasContent: a.thisLineHasContent,
                    block: a.block,
                    htmlState: CodeMirror.copyState(r, a.htmlState),
                    indentation: a.indentation,
                    localMode: a.localMode,
                    localState: a.localMode ? CodeMirror.copyState(a.localMode, a.localState) : null,
                    inline: a.inline,
                    text: a.text,
                    linkTitle: a.linkTitle,
                    em: a.em,
                    strong: a.strong,
                    header: a.header,
                    taskList: a.taskList,
                    list: a.list,
                    listDepth: a.listDepth,
                    quote: a.quote,
                    trailingSpace: a.trailingSpace,
                    trailingSpaceNewLine: a.trailingSpaceNewLine,
                    md_inside: a.md_inside
                }
            }, token: function (a, b) {
                if (a.sol()) {
                    if (a.match(/^\s*$/, !0))return b.prevLineHasContent = !1, e(b);
                    b.prevLineHasContent = b.thisLineHasContent, b.thisLineHasContent = !0, b.header = !1, b.taskList = !1, b.code = !1, b.trailingSpace = 0, b.trailingSpaceNewLine = !1, b.f = b.block;
                    var c = a.match(/^\s*/, !0)[0].replace(/\t/g, "    ").length, d = 4 * Math.floor((c - b.indentation) / 4);
                    d > 4 && (d = 4);
                    var f = b.indentation + d;
                    if (b.indentationDiff = f - b.indentation, b.indentation = f, c > 0)return null
                }
                return b.f(a, b)
            }, blankLine: e, getType: i
        }
    }, "xml"), CodeMirror.defineMIME("text/x-markdown", "markdown");
    var x = /Mac/.test(navigator.platform), y = {
        "Cmd-B": h,
        "Cmd-I": i,
        "Cmd-K": m,
        "Cmd-Alt-I": n,
        "Cmd-'": j,
        "Cmd-Alt-L": l,
        "Cmd-L": k,
        F11: f,
        F12: s,
        Esc: g
    };
    w.prototype.fullScreenPreviewCloseDom = '<div class="fullscreen-sidebar"><a href="#" class="" onclick="currentMarkdownEditor.toggleNormalScreen()"><span class="glyphicon glyphicon-remove"></span></a></div>', w.prototype.fullScreenPreviewOriginContent = "";
    var z = [{name: "bold", action: h}, {name: "italic", action: i}, "|", {
        name: "quote",
        action: j
    }, {name: "unordered-list", action: k}, {name: "ordered-list", action: l}, "|", {
        name: "link",
        action: m
    }, {name: "image", action: n}, {name: "code", action: p}, "|", {name: "undo", action: q}, {
        name: "redo",
        action: r
    }, "|", {name: "info", action: "https://help.github.com/articles/github-flavored-markdown/"}, {
        name: "preview",
        action: s
    }, {name: "fullscreen", action: f}];
    w.toolbar = z, w.markdown = function (a) {
        return window.marked ? (marked.setOptions({
            highlight: function (a) {
                return hljs.highlightAuto(a).value
            }
        }), marked(a)) : void 0
    }, w.prototype.render = function (a) {
        if (a || (a = this.element || document.getElementsByTagName("textarea")[0]), this._rendered && this._rendered === a)return void console.info("already rendered");
        this.element = a;
        var c = this.options, d = this, e = {};
        for (var f in y)!function (a) {
            e[b(a)] = function () {
                y[a](d)
            }
        }(f);
        e.Enter = "newlineAndIndentContinueMarkdownList", this.codemirror = CodeMirror.fromTextArea(a, {
            mode: "markdown",
            theme: "paper",
            indentWithTabs: !0,
            lineNumbers: !1,
            lineWrapping: !0,
            extraKeys: e
        }), c.toolbar !== !1 && this.createToolbar(), c.status !== !1 && this.createStatusbar(), this._rendered = this.element
    }, w.prototype.createToolbar = function (a) {
        if (a = a || this.options.toolbar, a && 0 !== a.length) {
            var b = document.createElement("div");
            b.className = "editor-toolbar";
            var f = this;
            f.toolbar = {};
            for (var g = 0; g < a.length; g++)!function (a) {
                var e;
                e = a.name ? c(a.name, a) : "|" === a ? d() : c(a), a.action && ("function" == typeof a.action ? e.onclick = function () {
                    a.action(f)
                } : "string" == typeof a.action && (e.href = a.action, e.target = "_blank")), f.toolbar[a.name || a] = e, b.appendChild(e)
            }(a[g]);
            var h = this.codemirror;
            h.on("cursorActivity", function () {
                var a = e(h);
                for (var b in f.toolbar)!function (b) {
                    var c = f.toolbar[b];
                    a[b] ? c.className += " active" : c.className = c.className.replace(/\s*active\s*/g, "")
                }(b)
            });
            var i = h.getWrapperElement();
            return i.parentNode.insertBefore(b, i), b
        }
    }, w.prototype.createStatusbar = function (a) {
        if (a = a || this.options.status, a && 0 !== a.length) {
            var b = document.createElement("div");
            b.className = "editor-statusbar";
            for (var c, d = this.codemirror, e = 0; e < a.length; e++)!function (a) {
                var e = document.createElement("span");
                e.className = a, "words" === a ? (e.innerHTML = "0", d.on("update", function () {
                    e.innerHTML = v(d.getValue())
                })) : "lines" === a ? (e.innerHTML = "0", d.on("update", function () {
                    e.innerHTML = d.lineCount()
                })) : "cursor" === a && (e.innerHTML = "0:0", d.on("cursorActivity", function () {
                    c = d.getCursor(), e.innerHTML = c.line + ":" + c.ch
                })), b.appendChild(e)
            }(a[e]);
            var f = this.codemirror.getWrapperElement();
            return f.parentNode.insertBefore(b, f.nextSibling), b
        }
    }, w.toggleBold = h, w.toggleItalic = i, w.toggleBlockquote = j, w.toggleUnOrderedList = k, w.toggleOrderedList = l, w.drawLink = m, w.drawImage = n, w.drawHtmlImage = o, w.drawCode = p, w.undo = q, w.redo = r, w.toggleFullScreen = f, w.toggleNormalScreen = g, w.prototype.toggleBold = function () {
        h(this)
    }, w.prototype.toggleItalic = function () {
        i(this)
    }, w.prototype.toggleBlockquote = function () {
        j(this)
    }, w.prototype.toggleUnOrderedList = function () {
        k(this)
    }, w.prototype.toggleOrderedList = function () {
        l(this)
    }, w.prototype.drawLink = function () {
        m(this)
    }, w.prototype.drawImage = function () {
        n(this)
    }, w.prototype.drawHtmlImage = function () {
        o(this)
    }, w.prototype.drawCode = function () {
        p(this)
    }, w.prototype.undo = function () {
        q(this)
    }, w.prototype.redo = function () {
        r(this)
    }, w.prototype.toggleFullScreen = function () {
        f(this)
    }, w.prototype.toggleNormalScreen = function () {
        g(this)
    }, a.Editor = w
}(this), function (a) {
    "function" == typeof define && define.amd ? define(["../../../../bower_components/oclazyload/examples/example2/js/jquery"], a) : a(jQuery)
}(function (a) {
    function b() {
        var b = this;
        b.top = "auto", b.left = "auto", b.right = "auto", b.bottom = "auto", b.set = function (c, d) {
            a.isNumeric(d) && (b[c] = Math.round(d))
        }
    }

    function c(a, b, c) {
        function d(d, e) {
            g(), a.data(q) || (d ? (e && a.data(r, !0), c.showTip(a)) : (z.tipOpenImminent = !0, i = setTimeout(function () {
                i = null, f()
            }, b.intentPollInterval)))
        }

        function e(d) {
            g(), z.tipOpenImminent = !1, a.data(q) && (a.data(r, !1), d ? c.hideTip(a) : (z.delayInProgress = !0, i = setTimeout(function () {
                i = null, c.hideTip(a), z.delayInProgress = !1
            }, b.closeDelay)))
        }

        function f() {
            var e = Math.abs(z.previousX - z.currentX), f = Math.abs(z.previousY - z.currentY), g = e + f;
            b.intentSensitivity > g ? c.showTip(a) : (z.previousX = z.currentX, z.previousY = z.currentY, d())
        }

        function g() {
            i = clearTimeout(i), z.delayInProgress = !1
        }

        function h() {
            c.resetPosition(a)
        }

        var i = null;
        this.show = d, this.hide = e, this.cancel = g, this.resetPosition = h
    }

    function d() {
        function a(a, e, g, h, i) {
            var j, k = e.split("-")[0], l = new b;
            switch (j = f(a) ? d(a, k) : c(a, k), e) {
                case"n":
                    l.set("left", j.left - g / 2), l.set("bottom", z.windowHeight - j.top + i);
                    break;
                case"e":
                    l.set("left", j.left + i), l.set("top", j.top - h / 2);
                    break;
                case"s":
                    l.set("left", j.left - g / 2), l.set("top", j.top + i);
                    break;
                case"w":
                    l.set("top", j.top - h / 2), l.set("right", z.windowWidth - j.left + i);
                    break;
                case"nw":
                    l.set("bottom", z.windowHeight - j.top + i), l.set("right", z.windowWidth - j.left - 20);
                    break;
                case"nw-alt":
                    l.set("left", j.left), l.set("bottom", z.windowHeight - j.top + i);
                    break;
                case"ne":
                    l.set("left", j.left - 20), l.set("bottom", z.windowHeight - j.top + i);
                    break;
                case"ne-alt":
                    l.set("bottom", z.windowHeight - j.top + i), l.set("right", z.windowWidth - j.left);
                    break;
                case"sw":
                    l.set("top", j.top + i), l.set("right", z.windowWidth - j.left - 20);
                    break;
                case"sw-alt":
                    l.set("left", j.left), l.set("top", j.top + i);
                    break;
                case"se":
                    l.set("left", j.left - 20), l.set("top", j.top + i);
                    break;
                case"se-alt":
                    l.set("top", j.top + i), l.set("right", z.windowWidth - j.left)
            }
            return l
        }

        function c(a, b) {
            var c, d, e = a.offset(), f = a.outerWidth(), g = a.outerHeight();
            switch (b) {
                case"n":
                    c = e.left + f / 2, d = e.top;
                    break;
                case"e":
                    c = e.left + f, d = e.top + g / 2;
                    break;
                case"s":
                    c = e.left + f / 2, d = e.top + g;
                    break;
                case"w":
                    c = e.left, d = e.top + g / 2;
                    break;
                case"nw":
                    c = e.left, d = e.top;
                    break;
                case"ne":
                    c = e.left + f, d = e.top;
                    break;
                case"sw":
                    c = e.left, d = e.top + g;
                    break;
                case"se":
                    c = e.left + f, d = e.top + g
            }
            return {top: d, left: c}
        }

        function d(a, b) {
            function c() {
                o.push(j.matrixTransform(l))
            }

            var d, e, f, g, h = a.closest("svg")[0], i = a[0], j = h.createSVGPoint(), k = i.getBBox(), l = i.getScreenCTM(), m = k.width / 2, n = k.height / 2, o = [], p = ["nw", "n", "ne", "e", "se", "s", "sw", "w"];
            if (j.x = k.x, j.y = k.y, c(), j.x += m, c(), j.x += m, c(), j.y += n, c(), j.y += n, c(), j.x -= m, c(), j.x -= m, c(), j.y -= n, c(), o[0].y !== o[1].y || o[0].x !== o[7].x)for (e = Math.atan2(l.b, l.a) * y, f = Math.ceil((e % 360 - 22.5) / 45), 1 > f && (f += 8); f--;)p.push(p.shift());
            for (g = 0; o.length > g; g++)if (p[g] === b) {
                d = o[g];
                break
            }
            return {top: d.y + z.scrollTop, left: d.x + z.scrollLeft}
        }

        this.compute = a
    }

    function e(c) {
        function e(a) {
            a.data(q, !0), y.queue(function (b) {
                f(a), b()
            })
        }

        function f(a) {
            var b;
            if (a.data(q)) {
                if (z.isTipOpen)return z.isClosing || g(z.activeHover), void y.delay(100).queue(function (b) {
                    f(a), b()
                });
                a.trigger("powerTipPreRender"), b = j(a), b && (y.empty().append(b), a.trigger("powerTipRender"), z.activeHover = a, z.isTipOpen = !0, y.data(t, c.mouseOnToPopup), c.followMouse ? h() : (u(a), z.isFixedTipOpen = !0), y.fadeIn(c.fadeInTime, function () {
                    z.desyncTimeout || (z.desyncTimeout = setInterval(w, 500)), a.trigger("powerTipOpen")
                }))
            }
        }

        function g(a) {
            z.isClosing = !0, z.activeHover = null, z.isTipOpen = !1, z.desyncTimeout = clearInterval(z.desyncTimeout), a.data(q, !1), a.data(r, !1), y.fadeOut(c.fadeOutTime, function () {
                var d = new b;
                z.isClosing = !1, z.isFixedTipOpen = !1, y.removeClass(), d.set("top", z.currentY + c.offset), d.set("left", z.currentX + c.offset), y.css(d), a.trigger("powerTipClose")
            })
        }

        function h() {
            if (!z.isFixedTipOpen && (z.isTipOpen || z.tipOpenImminent && y.data(s))) {
                var a, d, e = y.outerWidth(), f = y.outerHeight(), g = new b;
                g.set("top", z.currentY + c.offset), g.set("left", z.currentX + c.offset), a = k(g, e, f), a !== A.none && (d = l(a), 1 === d ? a === A.right ? g.set("left", z.windowWidth - e) : a === A.bottom && g.set("top", z.scrollTop + z.windowHeight - f) : (g.set("left", z.currentX - e - c.offset), g.set("top", z.currentY - f - c.offset))), y.css(g)
            }
        }

        function u(b) {
            var d, e;
            c.smartPlacement ? (d = a.fn.powerTip.smartPlacementLists[c.placement], a.each(d, function (a, c) {
                var d = k(v(b, c), y.outerWidth(), y.outerHeight());
                return e = c, d === A.none ? !1 : void 0
            })) : (v(b, c.placement), e = c.placement), y.addClass(e)
        }

        function v(a, d) {
            var e, f, g = 0, h = new b;
            h.set("top", 0), h.set("left", 0), y.css(h);
            do e = y.outerWidth(), f = y.outerHeight(), h = x.compute(a, d, e, f, c.offset), y.css(h); while (5 >= ++g && (e !== y.outerWidth() || f !== y.outerHeight()));
            return h
        }

        function w() {
            var a = !1;
            !z.isTipOpen || z.isClosing || z.delayInProgress || (z.activeHover.data(q) === !1 || z.activeHover.is(":disabled") ? a = !0 : i(z.activeHover) || z.activeHover.is(":focus") || z.activeHover.data(r) || (y.data(t) ? i(y) || (a = !0) : a = !0), a && g(z.activeHover))
        }

        var x = new d, y = a("#" + c.popupId);
        0 === y.length && (y = a("<div/>", {id: c.popupId}), 0 === o.length && (o = a("body")), o.append(y)), c.followMouse && (y.data(s) || (m.on("mousemove", h), n.on("scroll", h), y.data(s, !0))), c.mouseOnToPopup && y.on({
            mouseenter: function () {
                y.data(t) && z.activeHover && z.activeHover.data(p).cancel()
            }, mouseleave: function () {
                z.activeHover && z.activeHover.data(p).hide()
            }
        }), this.showTip = e, this.hideTip = g, this.resetPosition = u
    }

    function f(a) {
        return window.SVGElement && a[0] instanceof SVGElement
    }

    function g() {
        z.mouseTrackingActive || (z.mouseTrackingActive = !0, a(function () {
            z.scrollLeft = n.scrollLeft(), z.scrollTop = n.scrollTop(), z.windowWidth = n.width(), z.windowHeight = n.height()
        }), m.on("mousemove", h), n.on({
            resize: function () {
                z.windowWidth = n.width(), z.windowHeight = n.height()
            }, scroll: function () {
                var a = n.scrollLeft(), b = n.scrollTop();
                a !== z.scrollLeft && (z.currentX += a - z.scrollLeft, z.scrollLeft = a), b !== z.scrollTop && (z.currentY += b - z.scrollTop, z.scrollTop = b)
            }
        }))
    }

    function h(a) {
        z.currentX = a.pageX, z.currentY = a.pageY
    }

    function i(a) {
        var b = a.offset(), c = a[0].getBoundingClientRect(), d = c.right - c.left, e = c.bottom - c.top;
        return z.currentX >= b.left && z.currentX <= b.left + d && z.currentY >= b.top && z.currentY <= b.top + e
    }

    function j(b) {
        var c, d, e = b.data(v), f = b.data(w), g = b.data(x);
        return e ? (a.isFunction(e) && (e = e.call(b[0])), d = e) : f ? (a.isFunction(f) && (f = f.call(b[0])), f.length > 0 && (d = f.clone(!0, !0))) : g && (c = a("#" + g), c.length > 0 && (d = c.html())), d
    }

    function k(a, b, c) {
        var d = z.scrollTop, e = z.scrollLeft, f = d + z.windowHeight, g = e + z.windowWidth, h = A.none;
        return (d > a.top || d > Math.abs(a.bottom - z.windowHeight) - c) && (h |= A.top), (a.top + c > f || Math.abs(a.bottom - z.windowHeight) > f) && (h |= A.bottom), (e > a.left || a.right + b > g) && (h |= A.left), (a.left + b > g || e > a.right) && (h |= A.right), h
    }

    function l(a) {
        for (var b = 0; a;)a &= a - 1, b++;
        return b
    }

    var m = a(document), n = a(window), o = a("body"), p = "displayController", q = "hasActiveHover", r = "forcedOpen", s = "hasMouseMove", t = "mouseOnToPopup", u = "originalTitle", v = "powertip", w = "powertipjq", x = "powertiptarget", y = 180 / Math.PI, z = {
        isTipOpen: !1,
        isFixedTipOpen: !1,
        isClosing: !1,
        tipOpenImminent: !1,
        activeHover: null,
        currentX: 0,
        currentY: 0,
        previousX: 0,
        previousY: 0,
        desyncTimeout: null,
        mouseTrackingActive: !1,
        delayInProgress: !1,
        windowWidth: 0,
        windowHeight: 0,
        scrollTop: 0,
        scrollLeft: 0
    }, A = {none: 0, top: 1, bottom: 2, left: 4, right: 8};
    a.fn.powerTip = function (b, d) {
        if (!this.length)return this;
        if ("string" === a.type(b) && a.powerTip[b])return a.powerTip[b].call(this, this, d);
        var f = a.extend({}, a.fn.powerTip.defaults, b), h = new e(f);
        return g(), this.each(function () {
            var b, d = a(this), e = d.data(v), g = d.data(w), i = d.data(x);
            d.data(p) && a.powerTip.destroy(d), b = d.attr("title"), e || i || g || !b || (d.data(v, b), d.data(u, b), d.removeAttr("title")), d.data(p, new c(d, f, h))
        }), f.manual || this.on({
            "mouseenter.powertip": function (b) {
                a.powerTip.show(this, b)
            }, "mouseleave.powertip": function () {
                a.powerTip.hide(this)
            }, "focus.powertip": function () {
                a.powerTip.show(this)
            }, "blur.powertip": function () {
                a.powerTip.hide(this, !0)
            }, "keydown.powertip": function (b) {
                27 === b.keyCode && a.powerTip.hide(this, !0)
            }
        }), this
    }, a.fn.powerTip.defaults = {
        fadeInTime: 200,
        fadeOutTime: 100,
        followMouse: !1,
        popupId: "powerTip",
        intentSensitivity: 7,
        intentPollInterval: 100,
        closeDelay: 100,
        placement: "n",
        smartPlacement: !1,
        offset: 10,
        mouseOnToPopup: !1,
        manual: !1
    }, a.fn.powerTip.smartPlacementLists = {
        n: ["n", "ne", "nw", "s"],
        e: ["e", "ne", "se", "w", "nw", "sw", "n", "s", "e"],
        s: ["s", "se", "sw", "n"],
        w: ["w", "nw", "sw", "e", "ne", "se", "n", "s", "w"],
        nw: ["nw", "w", "sw", "n", "s", "se", "nw"],
        ne: ["ne", "e", "se", "n", "s", "sw", "ne"],
        sw: ["sw", "w", "nw", "s", "n", "ne", "sw"],
        se: ["se", "e", "ne", "s", "n", "nw", "se"],
        "nw-alt": ["nw-alt", "n", "ne-alt", "sw-alt", "s", "se-alt", "w", "e"],
        "ne-alt": ["ne-alt", "n", "nw-alt", "se-alt", "s", "sw-alt", "e", "w"],
        "sw-alt": ["sw-alt", "s", "se-alt", "nw-alt", "n", "ne-alt", "w", "e"],
        "se-alt": ["se-alt", "s", "sw-alt", "ne-alt", "n", "nw-alt", "e", "w"]
    }, a.powerTip = {
        show: function (b, c) {
            return c ? (h(c), z.previousX = c.pageX, z.previousY = c.pageY, a(b).data(p).show()) : a(b).first().data(p).show(!0, !0), b
        }, reposition: function (b) {
            return a(b).first().data(p).resetPosition(), b
        }, hide: function (b, c) {
            return b ? a(b).first().data(p).hide(c) : z.activeHover && z.activeHover.data(p).hide(!0), b
        }, destroy: function (b) {
            return a(b).off(".powertip").each(function () {
                var b = a(this), c = [u, p, q, r];
                b.data(u) && (b.attr("title", b.data(u)), c.push(v)), b.removeData(c)
            }), b
        }
    }, a.powerTip.showTip = a.powerTip.show, a.powerTip.closeTip = a.powerTip.hide
}), angular.module("security", ["security.service", "security.login"]), angular.module("security.login.form", ["services.localizedMessages"]).controller("LoginFormController", ["$scope", "security", "localizedMessages", "$window", function (a, b, c) {
    a.user = {}, a.authError = null, a.authReason = null, a.login = function () {
        a.authError = null, b.login(a.user.email, a.user.password, a.user.rememberme).then(function (b) {
            b || (a.authError = c.get("login.error.invalidCredentials"))
        }, function (b) {
            a.authError = c.get("login.error.serverError", {exception: b.data.error})
        })
    }, a.clearForm = function () {
        a.user = {}
    }, a.cancelLogin = function () {
        b.cancelLogin()
    }
}]), angular.module("security.login", ["security.login.form", "security.login.toolbar"]), angular.module("security.login.toolbar", []).directive("loginToolbar", ["security", "loadurladdress", "$interval", "$timeout", "Fenby3Api", "$http", "$cookies", "logger", "$modal", "$rootScope", "$window", function (a, b, c, d, e, f, g, h, i, j, k) {
    var l = {
        templateUrl: "security/login/toolbar.tpl.html", restrict: "E", replace: !0, scope: !0, link: function (l) {
            function m(a) {
                a > l.userUnreadMessagesCount && !v && h.logSuccess("亲,有" + (parseInt(a) - parseInt(l.userUnreadMessagesCount)) + "条新消息!"), l.userUnreadMessagesCount = a, v = !1
            }

            function n(a) {
                l.userRecentMessages = a, d(function () {
                    jQuery(".timeago").timeago()
                }, 0, !1)
            }

            function o(a) {
                a > l.userUnreadNotificationsCount && !w && h.logSuccess("亲,有" + (parseInt(a) - parseInt(l.userUnreadNotificationsCount)) + "条新通知!"), l.userUnreadNotificationsCount = a, w = !1
            }

            function p(a) {
                l.userRecentNotifications = a, d(function () {
                    jQuery(".timeago").timeago()
                }, 0, !1)
            }

            function q() {
                e.get({
                    resourceName: "users",
                    id: l.currentUserId,
                    AlternateResourceName: "my_notifications"
                }).$then(function (a) {
                    o(a.data.unread_notification_count), p(a.data.recent_notificaitons), m(a.data.unread_message_count), n(a.data.recent_messages)
                }, function (a) {
                    console.info("getMyNotifications Error", a.data)
                })
            }

            function r() {
                q()
            }

            function s(a) {
                var b = new e({resourceName: "messages", id: a, AlternateResourceName: "mark_as_read"});
                f.defaults.headers.common["X-CSRFToken"] = g.csrftoken, b.$specialsave().$then(function () {
                    r()
                }, function () {
                })
            }

            l.showLoginBar = !1, l.userRecentMessages = [], l.userUnreadMessagesCount = 0;
            var t, u = {}, v = !0, w = !0;
            l.signup = function (a) {
                k.location.href = a
            }, l.markNotificationHasRead = function (a) {
                var b = new e({resourceName: "notifications", id: a, AlternateResourceName: "mark_as_read"});
                f.defaults.headers.common["X-CSRFToken"] = g.csrftoken, b.$specialsave().$then(function () {
                    r()
                }, function () {
                })
            }, l.toolbarSendMsg = function (a, b, c) {
                var d;
                u.uid = b, u.nickname = c, u.parentId = a, s(a), d = i.open({
                    templateUrl: "template/fenby3/usercardsendmsg.tpl.html",
                    backdrop: !0,
                    controller: "usercardSendMsgCtrl",
                    scope: l,
                    resolve: {
                        currentUsercardUser: function () {
                            return u
                        }
                    }
                }), d.result.then(function () {
                    h.logSuccess("亲,消息已成功发送!")
                }, function (a) {
                    "cancel" !== a && h.logError("亲,消息发送失败!因为" + a)
                })
            }, a.requestCurrentUser().then(function () {
                l.isAuthenticated = a.isAuthenticated, l.isAdmin = a.isAdmin(), l.currentUserId = a.currentUser.uid, l.userCenter = b.get("userCenter", {
                    userSlug: a.currentUser.uid,
                    userUID: a.currentUser.uid
                }), l.userSmallAvatar = a.currentUser.avatar_url_full, r(), d(function () {
                    l.showLoginBar = !0
                }, 0, !1)
            }, function () {
                l.isAuthenticated = a.isAuthenticated, l.isAdmin = a.isAdmin(), l.showLoginBar = !0
            }), l.isAdmin = a.isAdmin(), l.login = a.showLogin, l.logout = a.logout, l.$on("event:auth-loginRequired", function () {
                a.showLogin()
            }), l.$on("refreshCurrentUser", function () {
                a.requestCurrentUser(!0)
            }), l.$watch(function () {
                return a.currentUser
            }, function (d) {
                l.currentUser = d.nickname, l.isAdmin = d.admin, l.currentUserId = d.uid, d.nickname ? (l.userCenter = b.get("userCenter", {
                    userSlug: d.uid,
                    userUID: d.uid
                }), l.userSmallAvatar = a.currentUser.avatar_url_full, r(), t = c(r, 18e5), j.$broadcast("userLogin", d)) : (l.userCenter = null, l.userSmallAvatar = null, t && c.cancel(t), j.$broadcast("userLogout"))
            }, !0)
        }
    };
    return l
}]), angular.module("http-auth-interceptor", ["http-auth-interceptor-buffer"]).factory("authService", ["$rootScope", "httpBuffer", function (a, b) {
    return {
        loginConfirmed: function (c, d) {
            var e = d || function (a) {
                    return a
                };
            a.$broadcast("event:auth-loginConfirmed", c), b.retryAll(e)
        }, loginCancelled: function (c, d) {
            b.rejectAll(d), a.$broadcast("event:auth-loginCancelled", c)
        }
    }
}]).config(["$httpProvider", function (a) {
    a.interceptors.push(["$rootScope", "$q", "httpBuffer", function (a, b, c) {
        return {
            responseError: function (d) {
                if (401 === d.status && !d.config.ignoreAuthModule) {
                    var e = b.defer();
                    return c.append(d.config, e), a.$broadcast("event:auth-loginRequired", d), e.promise
                }
                return b.reject(d)
            }
        }
    }])
}]), angular.module("http-auth-interceptor-buffer", []).factory("httpBuffer", ["$injector", function (a) {
    function b(b, d) {
        function e(a) {
            d.resolve(a)
        }

        function f(a) {
            d.reject(a)
        }

        c = c || a.get("$http"), c(b).then(e, f)
    }

    var c, d = [];
    return {
        append: function (a, b) {
            d.push({config: a, deferred: b})
        }, rejectAll: function (a) {
            if (a)for (var b = 0; b < d.length; ++b)d[b].deferred.reject(a);
            d = []
        }, retryAll: function (a) {
            for (var c = 0; c < d.length; ++c)console.log("in retryAll: function (updater)"), b(a(d[c].config), d[c].deferred);
            d = []
        }
    }
}]), angular.module("security.service", ["http-auth-interceptor", "security.login"]).factory("security", ["$http", "$q", "$location", "authService", "$modal", "Fenby3Api", "$cookies", "$window", "$timeout", function (a, b, c, d, e, f, g, h, i) {
    function j(a) {
        a = a || "/", h.location.href = "/"
    }

    function k() {
        if (m)throw new Error("Trying to open a dialog that is already open!");
        m = e.open({
            templateUrl: "security/login/form.tpl.html",
            controller: "LoginFormController",
            backdrop: "static",
            keyboard: !1
        }), m.result.then(function () {
            m = null, i(function () {
                d.loginConfirmed(null, function (b) {
                    return console.log("in authService.loginConfirmed(null,function(config)"), console.log("$cookies.csrftoken is " + g.csrftoken), a.defaults.headers.common["X-CSRFToken"] = g.csrftoken, b.headers["X-CSRFToken"] = g.csrftoken, b
                })
            }, 200)
        }, function (a) {
            m = null, d.loginCancelled(null, a)
        })
    }

    function l(a) {
        m && a ? m.close("登录成功") : m.dismiss("取消登录")
    }

    var m = null, n = {
        showLogin: function () {
            k()
        },
        login: function (a, b, c) {
            var d = new f({resourceName: "login"});
            return d.username = a, d.password = b, d.remember_me = c, d.$save().$then(function (a) {
                return n.currentUser.nickname = a.data.user.profile.nickname, n.currentUser.uid = a.data.user.uid, n.currentUser.uid = a.data.user.uid, n.currentUser.avatar_url = a.data.user.profile.avatar_url, n.currentUser.avatar_url_full = a.data.user.profile.avatar_url_full, n.currentUser.admin = a.data.user.is_staff ? !0 : !1, n.isAuthenticated() && l(!0), n.isAuthenticated()
            })
        },
        cancelLogin: function () {
            l(!1)
        },
        logout: function (b) {
            var c = new f({resourceName: "logout"});
            a.defaults.headers.common["X-CSRFToken"] = g.csrftoken, c.$save().$then(function () {
                n.currentUser.nickname = null, n.currentUser.admin = !1, n.currentUser.uid = null, n.currentUser.avatar_url = null, n.currentUser.avatar_url_full = null, j(b)
            })
        },
        requestCurrentUser: function (c) {
            return n.isAuthenticated() && !c ? b.when(n.currentUser) : a({
                ignoreAuthModule: !0,
                method: "GET",
                url: "/api/currentuser/"
            }).success(function (a) {
                return n.currentUser.nickname = a.user.profile.nickname, n.currentUser.uid = a.user.uid, n.currentUser.avatar_url = a.user.profile.avatar_url, n.currentUser.avatar_url_full = a.user.profile.avatar_url_full, n.currentUser.admin = a.user.is_staff ? !0 : !1, n.currentUser
            })
        },
        currentUser: {nickname: null, admin: !1, id: null, uid: null, avatar_url: null, avatar_url_full: null},
        isAuthenticated: function () {
            return !!n.currentUser.nickname
        },
        isAdmin: function () {
            return !(!n.currentUser.nickname || !n.currentUser.admin)
        }
    };
    return n
}]), angular.module("template/fenby3/confirmModal.tpl.html", []).run(["$templateCache", function (a) {
    a.put("template/fenby3/confirmModal.tpl.html", '<div class="modal-header bg-dark"><button type="button" class="close" ng-click="$dismiss(\'fail\')">&times;</button><h4 class="modal-title">{$ modalTitle $}</h4></div><div class="modal-body "><div class="box"><span class="line-thru"><strong>{$ modalContent $}</strong></span></div><div class="form-group text-right"><button class="btn btn-success" ng-click="$dismiss(\'fail\')">取消</button><div class="space"></div><button class="btn btn-danger" ng-click="$close(\'success\')">确定</button></div></div>')
}]), angular.module("template/fenby3/usercardsendmsg.tpl.html", []).run(["$templateCache", function (a) {
    a.put("template/fenby3/usercardsendmsg.tpl.html", '<div class="modal-header bg-dark"><button type="button" class="close" ng-click="$dismiss(\'cancel\')">&times;</button><h4 class="modal-title"><i class="fa fa-tasks"></i>发送私信</h4></div><div class="modal-body"><div class="box"><form class="form-horizontal" role="form" name="sendMsgForm.form" novalidate ><div class="form-group"><div class="col-md-12"><p style="padding-top: 7px;margin-bottom: 0px">收件人: <a href="javascript:;" target="_blank" class="text-primary">{$ sendToUserNickname() $}</a></p><div class="divider"></div><textarea name="" id="new-message" ng-model="sendMsgForm.form.content" required ng-minlength="6" ng-maxlength="140" class="form-control" rows="4" placeholder="写下要发送的消息..."></textarea></div></div><div class="text-right"><button class="btn btn-success" ng-click="$dismiss(\'cancel\')">取消</button><span class="space"></span><button class="btn btn-w-md btn-danger" ng-click="usercardSendMsg();commitButtonClicked=true" ng-disabled="sendMsgForm.form.$invalid || commitButtonClicked"><i class="fa fa-spinner fa-spin" ng-show="commitButtonClicked"></i>&nbsp;<span class="glyphicon glyphicon-envelope"></span>&nbsp;发送&nbsp;</button></div></form></div></div>')
}]), angular.module("template/fenby3/generalpop.html", []).run(["$templateCache", function (a) {
    a.put("template/fenby3/generalpop.html", "<div class='popover {$ placement $}' ng-class='{ in: isOpen(), fade: animation() }'><div class='arrow'></div><div class='popover-inner'><h3 class='popover-title' ng-bind='title' ng-show='title'></h3><div class='popover-content' compilecontent='content'></div></div></div>")
}]), angular.module("security/login/form.tpl.html", []).run(["$templateCache", function (a) {
    a.put("security/login/form.tpl.html", '<div class="modal-header bg-dark"><button type="button" class="close" ng-click="cancelLogin()">&times;</button><h4 class="modal-title">登录</h4></div><div class="modal-body"><div class="row"><div class="col-md-10 col-md-offset-1"><div class="space"></div><div class="row signin-social text-center"><a href="https://api.weibo.com/oauth2/authorize?client_id=1471877261&response_type=code&redirect_uri=http%3A%2F%2Fwww.fenby.com%2Faccount%2Foauth%2Fweibo" target="_blank" class="btn-icon-round btn-icon-round-sm btn-danger" tooltip="使用微博账号登录" tooltip-placement="bottom"><i class="fa fa-weibo"></i></a><div class="space"></div><a href="https://graph.qq.com/oauth2.0/authorize?client_id=101178507&amp;response_type=code&amp;redirect_uri=http%3A%2F%2Fwww.fenby.com%2Faccount%2Foauth%2Fqq&amp;state=socialoauth" target="_blank" class="btn-icon-round btn-icon-round-sm btn-primary" tooltip="使用QQ账号登录" tooltip-placement="bottom"><i class="fa fa-qq"></i></a><div class="space"></div><a href="https://www.douban.com/service/auth2/auth?client_id=0e73ee7505ceac232b5bcb5f116c0469&response_type=code&redirect_uri=http%3A%2F%2Fwww.fenby.com%2Faccount%2Foauth%2Fdouban&scope=douban_basic_common" target="_blank" class="btn-icon-round btn-icon-round-sm btn-success" tooltip="使用豆瓣账号登录" tooltip-placement="bottom"><i class="fa fa-leaf"></i></a><div class="space"></div><a href="https://github.com/login/oauth/authorize?client_id=8082ef1e8fa9da205bc9&response_type=code&redirect_uri=http%3A%2F%2Fwww.fenby.com%2Faccount%2Foauth%2Fgithub" target="_blank" class="btn-icon-round btn-icon-round-sm btn-info" tooltip="使用Github账号登录" tooltip-placement="bottom"><i class="fa fa-github-alt"></i></a></div><span class="line-thru">用以上社交帐号直接登录或者</span><br/><form name="form" novalidate><div class="form-group"><div class="input-group input-group-lg"><span class="input-group-addon"><span class="glyphicon glyphicon-envelope"></span></span><input type="email" ng-model="user.email" name="username" required autofocus class="form-control" placeholder="请输入登录邮箱"></div></div><div class="form-group"><div class="input-group input-group-lg"><span class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></span><input type="password" name="password" ng-model="user.password" required class="form-control" placeholder="请输入密码"></div></div><div class="form-group"><div class="checkbox"><label><input type="checkbox" checked name="rememberme" ng-model="user.rememberme">自动登录</label><a href="/password_reset/" target="_blank" type="button" class="btn btn-link pull-right">忘记密码?</a></div></div><div class="form-group text-right"><button class="btn btn-success" ng-click="login()" ng-disabled=\'form.$invalid\'>登录</button><div class="space"></div><a href="/register/" target="_blank" class="btn btn-danger">立即注册</a></div></form></div></div></div><div class="modal-footer" ng-show="authReason || authError"><div class="alert alert-warning" ng-show="authReason">{$ authReason $}</div><div class="alert alert-danger" ng-show="authError">{$ authError $}</div></div>')
}]), angular.module("security/login/toolbar.tpl.html", []).run(["$templateCache", function (a) {
    a.put("security/login/toolbar.tpl.html", '<ul class="nav-right pull-right navbar-right list-unstyled" ng-if="showLoginBar"><li class="dropdown" ng-if="isAuthenticated()"><a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-comment-o"></i><span class="badge badge-danger">{$ userUnreadMessagesCount $}</span></a><div class="dropdown-menu with-arrow panel panel-default pull-right"><div class="panel-heading">你有{$ userUnreadMessagesCount $}条未读消息</div><ul class="list-group"><li class="list-group-item" ng-repeat=" userRecentMessage in userRecentMessages"><a href="" class="media" ><span class="pull-left media-icon"><span class="round-icon sm" ng-class="userRecentMessage.read_on?\'bg-info\':\'bg-danger\'"><i class="fa fa-comment-o"></i></span></span><div class="media-body"><span class="block" popover="{$ userRecentMessage.content $}" popover-title="{$ userRecentMessage.sender_detail.nickname $}" popover-trigger="mouseenter" popover-placement="left">{$ userRecentMessage.sender_detail.nickname $} 给你发来的信息</span><span class="text-muted"><time class="timeago" datetime="{$ userRecentMessage.sent_on $}"></time></span><div class="space"></div><span class="pull-right"><button type="button" class="btn btn-primary btn-xs" ng-click=" toolbarSendMsg(userRecentMessage.uid,userRecentMessage.sender_detail.uid,userRecentMessage.sender_detail.nickname);">回复</button></span></div></a></li></ul><div class="panel-footer"><a ng-href="/users/{$ currentUserId $}/messages/?tab=message">查看所有消息</a></div></div></li><li class="dropdown" ng-if="isAuthenticated()"><a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-bell-o"></i><span class="badge badge-warning">{$ userUnreadNotificationsCount $}</span></a><div class="dropdown-menu with-arrow panel panel-default pull-right"><div class="panel-heading">你有{$ userUnreadNotificationsCount $}条未读通知</div><ul class="list-group"><li class="list-group-item" ng-repeat=" userRecentNotification in userRecentNotifications"><a href="javascript:;" class="media"><span class="pull-left media-icon"><span class="round-icon sm" ng-class="userRecentNotificationHasRead?\'bg-success\':\'bg-danger\'"><i class="fa fa-bell-o"></i></span></span><div class="media-body"><span class="block" popover="{$ userRecentNotification.actor_detail.nickname + userRecentNotification.verb + userRecentNotification.target.title $}" popover-title="{$ userRecentNotification.verb $}" popover-trigger="mouseenter" popover-placement="left">{$ userRecentNotification.actor_detail.nickname + userRecentNotification.verb $}</span><span class="text-muted"><time class="timeago" datetime="{$ userRecentNotification.timestamp $}"></time></span><span class="pull-right" ng-hide="userRecentNotificationHasRead"><button type="button" class="btn btn-primary btn-xs" ng-click=" markNotificationHasRead(userRecentNotification.id);userRecentNotificationHasRead=true;$event.stopPropagation(); " >标为已读</button></span></div></a></li></ul><div class="panel-footer"><a ng-href="/users/{$ currentUserId $}/messages/?tab=notification">查看所有通知</a></div></div></li><li class="dropdown text-normal nav-profile" ng-if="isAuthenticated()"><a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown"><span class="space"></span><img ng-src="{$ userSmallAvatar $}" alt="" class="img-circle img30_30"><span class="space"></span><span>{$ currentUser $}</span></a><ul class="dropdown-menu with-arrow pull-right"><li><a ng-href="{$ userCenter $}"><i class="fa fa-user"></i><span>个人中心</span></a></li><li class="divider"></li><li ng-if="isAdmin"><a href="#"><i class="fa fa-user"></i><span>课程管理</span></a></li><li ng-if="isAdmin"><a href="/admin"><i class="fa fa-user"></i><span>后端管理</span></a></li><li class="divider" ng-if="isAdmin"></li><li><a href="" ng-click="logout()"><i class="fa fa-sign-out"></i><span>退出</span></a></li></ul></li><li class="dropdown nav-profile" ng-if="!isAuthenticated()"><button class="btn btn-danger" ng-click="signup(\'/register\')">注册</button></li><li class="dropdown nav-profile" ng-if="!isAuthenticated()"><button class="btn btn-primary" ng-click="login()">登录</button></li></ul>')
}]), angular.module("truncate", []).filter("characters", function () {
    return function (a, b, c) {
        if (isNaN(b))return a;
        if (0 >= b)return "";
        if (a && a.length > b) {
            if (a = a.substring(0, b), c)for (; " " === a.charAt(a.length - 1);)a = a.substr(0, a.length - 1); else {
                var d = a.lastIndexOf(" ");
                -1 !== d && (a = a.substr(0, d))
            }
            return a + "..."
        }
        return a
    }
}).filter("words", function () {
    return function (a, b) {
        if (isNaN(b))return a;
        if (0 >= b)return "";
        if (a) {
            var c = a.split(/\s+/);
            c.length > b && (a = c.slice(0, b).join(" ") + "...")
        }
        return a
    }
}), angular.module("fenby3.api", []).factory("Fenby3Api", ["djResource", function (a) {
    return a("js/:resourceName/:id/:AlternateResourceName/data.html", {
        resourceName: "@resourceName",
        id: "@id",
        AlternateResourceName: "@AlternateResourceName"
    }, {
        query: {method: "GET", isArray: !1},
        queryforarray: {method: "GET", isArray: !0},
        specialsave: {method: "POST"}
    })
}]).factory("Fenby3Api2", ["$resource", function (a) {
    return a("/api/:resourceName/:id/", {resourceName: "@resourceName", id: "@id"}, {
        query: {
            method: "GET",
            isArray: !0
        }
    })
}]).factory("loadurladdress", ["$interpolate", "Fenby3Url", function (a, b) {
    var c = function (a, b) {
        return a || "?" + b + "?"
    };
    return {
        get: function (d, e) {
            var f = b[d];
            return f ? a(f)(e) : c(f, d)
        }
    }
}]), angular.module("fenby3.logger", []).factory("logger", function () {
    var a;
    return toastr.options = {
        closeButton: !0,
        positionClass: "toast-bottom-full-width",
        timeOut: "3000"
    }, a = function (a, b) {
        return toastr[b](a)
    }, {
        log: function (b) {
            a(b, "info")
        }, logWarning: function (b) {
            a(b, "warning")
        }, logSuccess: function (b) {
            a(b, "success")
        }, logError: function (b) {
            a(b, "error")
        }
    }
}), angular.module("services.localizedMessages", []).factory("localizedMessages", ["$interpolate", "I18N.MESSAGES", function (a, b) {
    var c = function (a, b) {
        return a || "?" + b + "?"
    };
    return {
        get: function (d, e) {
            var f = b[d];
            return f ? a(f)(e) : c(f, d)
        }
    }
}]), angular.module("fenby3.ui.select", []).filter("propsFilter", function () {
    return function (a, b) {
        var c = [];
        return angular.isArray(a) ? a.forEach(function (a) {
            for (var d = !1, e = Object.keys(b), f = 0; f < e.length; f++) {
                var g = e[f], h = b[g].toLowerCase();
                if (a[g] && -1 !== a[g].toString().toLowerCase().indexOf(h)) {
                    d = !0;
                    break
                }
            }
            d && c.push(a)
        }) : c = a, c
    }
}), angular.module("fenby3.actionbar", []).directive("actionbar", ["$timeout", function (a) {
    return {
        restrict: "A",
        scope: !0,
        transclude: !0,
        replace: !0,
        template: '<div ng-mouseenter="mouseEnterToggle();" ng-mouseleave="mouseLeaveToggle()" ng-transclude></div>',
        controller: ["$scope", function (b) {
            function c() {
                var a = (new Date).getTime() + Math.random();
                return a
            }

            function d(a) {
                for (var b in a)return !1;
                return !0
            }

            var e, f = [], g = null, h = !0;
            e = c(), b.mouseEnterToggle = function () {
                g = a(function () {
                    h && (d(b.getCurrentLoginUser()) || b.$parent.$broadcast("prepareXHR", e), h = !1)
                }, 300), b.$parent.$broadcast("mouseEnter", e)
            }, b.mouseLeaveToggle = function () {
                g && (a.cancel(g), g = null), b.$parent.$broadcast("mouseLeave", e)
            }, this.hideOpened = function (a) {
                angular.forEach(f, function (b) {
                    a != b && b.actionbar()
                })
            }, this.addAction = function (a) {
                f.push(a)
            }, this.actionbarNumber = function () {
                return e
            }, b.$on("userLogin", function () {
                h = !0
            }), b.$on("userLogout", function () {
                h = !0, b.$parent.$broadcast("refreshBarWithLogout")
            })
        }]
    }
}]).directive("fdShare", ["$compile", "$position", "$timeout", "$window", "Fenby3Api", "$http", "$cookies", "logger", "$location", function (a, b, c, d, e, f, g, h) {
    return {
        restrict: "A",
        scope: !0,
        template: '<i class="fa fa-share-alt-square"></i>&nbsp;<a href="" ng-click="toggle(); $event.stopPropagation();">分享</a>',
        require: "^actionbar",
        link: function (i, j, k, l) {
            function m() {
                l.hideOpened(i), u = i.$new(), c(function () {
                    i.$apply(function () {
                        r = q(u, function () {
                        }), j.parent().parent().after(r), t = s(u, function () {
                        }), j.parent().parent().after(t);
                        var a = b.position(j), c = b.position(r), d = b.position(t);
                        t.css({left: a.left + a.width / 2, top: c.top - d.height + 1})
                    })
                }, 0).then(function () {
                    i.showContent = !0
                })
            }

            function n() {
                i.showContent = !1, t && (t.remove(), t = null), r && (r.remove(), r = null), u && u.$destroy()
            }

            i.showContent = !1, l.addAction(i);
            var o, p, q, r, s, t, u, v = '<div class="box box-bordered" ng-show="showContent"><div class="row text-center"><div><span><a ng-href="" class="btn-icon-round btn-icon-round-sm btn-danger" tooltip="分享至微博" tooltip-placement="bottom" ng-click="submitShare(\'weibo\')" ><i class="fa fa-weibo"></i></a>分享至微博</span><div class="space"></div><span><a ng-href="" class="btn-icon-round btn-icon-round-sm btn-primary" tooltip="分享至QQ" tooltip-placement="bottom" ng-click="submitShare(\'qq\')"><i class="fa fa-qq"></i></a>分享至QQ</span><div class="space"></div><span><a ng-href="" class="btn-icon-round btn-icon-round-sm btn-success" tooltip="分享至豆瓣" tooltip-placement="bottom" ng-click="submitShare(\'douban\')"><i class="fa fa-leaf"></i></a>分享至豆瓣</span></div></div><div class="text-right"><a href="" ng-click="toggle()"><i class="fa fa-angle-double-up"></i>收起</a></div></div>', w = '<div class="actionbar-arrow" ng-show="showContent"></div>';
            k.$observe("fdContentTypeId", function (a) {
                o = a
            }), k.$observe("fdObjectId", function (a) {
                p = a
            }), i.submitShare = function (a) {
                var b = new e({resourceName: "shares"});
                f.defaults.headers.common["X-CSRFToken"] = g.csrftoken, b.content_type = o, b.object_id = p, b.site_name = a, b.note = "test";
                var c = d.open();
                b.$save().$then(function (a) {
                    c.location = a.data.share_uri, h.logSuccess("亲,已成功分享!"), n()
                }, function () {
                    c.close(), n(), h.logError("亲,Fenby服务器拒绝这个操作哦!")
                })
            }, i.toggle = function () {
                i.showContent ? n() : m()
            }, i.actionbar = function () {
                return n()
            }, q = a(v), s = a(w)
        }
    }
}]).directive("fdVote", ["$compile", "$position", "$timeout", "Fenby3Api", "Fenby3Api2", "$http", "$cookies", "logger", function (a, b, c, d, e, f, g, h) {
    return {
        restrict: "A",
        scope: !0,
        template: '<i class="fa fa-thumbs-o-up" ng-show="upOrDownFont"></i><i class="fa fa-thumbs-o-down" ng-hide="upOrDownFont"></i>&nbsp;<a href="" ng-click="toggle(); $event.stopPropagation();">{$ upOrDown $}</a>',
        require: "^actionbar",
        link: function (i, j, k, l) {
            function m(a) {
                0 != a.length && a[0].object_id === s ? "d" === a[0].vote && "d" === t ? (A = "d", y = a[0].uid, i.upOrDown = "取消踩") : "u" === a[0].vote && "u" === t ? (A = "u", y = a[0].uid, i.upOrDown = "取消顶") : A = a[0].vote : (A = "", y = null, i.upOrDown = "u" === t ? "顶" : "踩")
            }

            function n() {
                A = "", y = null, i.upOrDown = "u" === t ? "顶" : "踩"
            }

            function o() {
                return c(function () {
                    e.query({resourceName: "votes", content_type: r, object_id: s}).$promise.then(function (a) {
                        m(a)
                    }, function () {
                        n()
                    })
                }, 0)
            }

            function p() {
                l.hideOpened(i), z = i.$new(), c(function () {
                    i.$apply(function () {
                        v = u(z, function () {
                        }), j.parent().parent().after(v), x = w(z, function () {
                        }), j.parent().parent().after(x);
                        var a = b.position(j), c = b.position(v), d = b.position(x);
                        x.css({left: a.left + a.width / 2, top: c.top - d.height + 1})
                    })
                }, 0).then(function () {
                    i.showContent = !0, z.commitButtonClicked = !1, "u" === t && (i.showQuestionButtons = !0)
                })
            }

            function q() {
                i.showContent = !1, x && (x.remove(), x = null), v && (v.remove(), v = null), z && z.$destroy()
            }

            i.showContent = !1, l.addAction(i);
            var r, s, t, u, v, w, x, y, z, A = "", B = '<div class="box box-bordered" ng-show="showContent"><div class="divider"></div><form class="form-horizontal" name="voteFrom" novalidate><input type="text" class="form-control" placeholder="{$ placeholder $}" ng-model="voteFrom.text" ng-click="showQuestionButtons = true" required ng-minlength="10"><div class="divider"></div><div ng-show="showQuestionButtons" class="text-right"><button class="btn btn-primary btn-gap" ng-click="commitVote()" ng-disabled="(voteFrom.$invalid && upOrDown ===\'踩\') || commitButtonClicked"><i class="fa fa-spinner fa-spin" ng-show="commitButtonClicked"></i>&nbsp;提交</button><button class="btn btn-default btn-gap" ng-click="showQuestionButtons = false">取消</button></div></form><div class="text-right" ng-click="showQuestions = false"><a href="" ng-click="toggle()"><i class="fa fa-angle-double-up"></i>收起</a></div></div>', C = '<div class="actionbar-arrow" ng-show="showContent"></div>';
            k.$observe("fdContentTypeId", function (a) {
                r = a
            }), k.$observe("fdObjectId", function (a) {
                s = a
            }), k.$observe("fdVoteValue", function (a) {
                t = a, "u" === a ? (i.upOrDown = "顶", i.upOrDownFont = !0, i.placeholder = "我顶是因为...") : "d" === a ? (i.upOrDown = "踩", i.upOrDownFont = !1, i.placeholder = "我踩是因为...(最少10个字哟)") : i.placeholder = "..."
            }), i.toggle = function () {
                if (l.hideOpened(i), A)if (f.defaults.headers.common["X-CSRFToken"] = g.csrftoken, "u" === t && "u" === A) {
                    var a = d.remove({resourceName: "votes", id: y});
                    a.$then(function () {
                        o(), h.logSuccess("亲,成功取消了顶的操作!")
                    }, function () {
                        h.logError("亲,Fenby玩脱啦!")
                    })
                } else if ("d" === t && "d" === A) {
                    var a = d.remove({resourceName: "votes", id: y});
                    a.$then(function () {
                        o(), h.logSuccess("亲,成功取消了踩的操作!")
                    }, function () {
                        h.logError("亲,Fenby玩脱啦!")
                    })
                } else h.logWarning("u" === A ? "亲,您顶了又要踩，这是要闹哪样?" : "亲,您踩了又要顶，这是要闹哪样?"); else i.showContent ? q() : p()
            }, i.commitVote = function () {
                z.commitButtonClicked = !0;
                var a = new d({resourceName: "votes"});
                f.defaults.headers.common["X-CSRFToken"] = g.csrftoken, a.content_type = r, a.object_id = s, a.vote = t, a.note = z.voteFrom.text, a.$save().$then(function () {
                    "u" === t ? (o(), h.logSuccess("亲,顶得好!")) : (o(), h.logSuccess("亲,已成功踩了它!")), z.commitButtonClicked = !1, q()
                }, function () {
                    z.commitButtonClicked = !1, q(), h.logError("亲,Fenby服务器拒绝这个操作哦!")
                })
            }, i.actionbar = function () {
                return q()
            }, u = a(B), w = a(C), i.$on("prepareXHR", function (a, b) {
                b === l.actionbarNumber() && o()
            }), i.$on("refreshBarWithLogout", function () {
                n()
            })
        }
    }
}]).directive("fdComments", ["$compile", "$position", "$timeout", "Fenby3Api", "Fenby3Api2", "$http", "$cookies", "logger", "loadurladdress", "$modal", "$location", "$anchorScroll", function (a, b, c, d, e, f, g, h, i, j, k, l) {
    return {
        restrict: "A",
        scope: !0,
        template: '<i class="fa fa-comments-o"></i>&nbsp;<a href="" ng-click="toggle(); $event.stopPropagation();">{$ getBarName() $}</a>',
        require: "^actionbar",
        link: function (m, n, o, p) {
            function q() {
                return c(function () {
                    m.commentsPromise = e.query({
                        resourceName: "comments",
                        content_type: u,
                        object_id: v
                    }).$promise, m.commentsPromise.then(function (a) {
                        m.userComments = a, c(function () {
                            jQuery(".timeago").timeago()
                        }, 0, !1)
                    }, function () {
                        h.logError("亲,Fenby服务器拒绝这个操作哦!"), m.toggle()
                    })
                }, 0)
            }

            function r() {
                p.hideOpened(m), E = !0, B = m.$new(), c(function () {
                    m.$apply(function () {
                        y = x(B, function () {
                        }), n.parent().parent().after(y), A = z(B, function () {
                        }), n.parent().parent().after(A);
                        var a = b.position(n), c = b.position(y), d = b.position(A);
                        A.css({left: a.left + a.width / 2, top: c.top - d.height + 1})
                    })
                }, 0).then(function () {
                    B.replyCommitButtonClicked = !1, B.commitButtonClicked = !1, m.showContent = !0
                })
            }

            function s() {
                m.showContent = !1, E = !1, A && (A.remove(), A = null), y && (y.remove(), y = null), B && B.$destroy()
            }

            function t(a) {
                f.defaults.headers.common["X-CSRFToken"] = g.csrftoken;
                var b = d.remove({resourceName: "comments", id: a});
                b.$then(function () {
                    var b;
                    for (b in m.userComments)m.userComments[b].uid === a && (m.userComments.splice(b, 1), w -= 1);
                    h.logSuccess("亲,成功删除了评论!")
                }, function () {
                    h.logError("亲,Fenby服务器拒绝这个操作哦!")
                })
            }

            m.showContent = !1, m.showActionBarCommon = !1, p.addAction(m);
            var u, v, w, x, y, z, A, B, C = '<div class="box box-bordered" style="margin-bottom:0px;padding-bottom: 0px;" ng-show="showContent" cg-busy="commentsPromise"><div id="{$ getCommentId($index) $}" class="media box-content bottom-bordered" style="padding: 0px;" ng-repeat="userComment in userComments" ng-mouseenter="actionBarStyle={\'visibility\': \'visible\'}" ng-mouseleave="actionBarStyle={\'visibility\': \'hidden\'}"><a href="javascript:;" class="pull-left" userpop="{$ userComment.creator_detail.uid $}"><img ng-src="{$ userComment.creator_detail.avatar_url_full $}" class="media-object img-rounded img40_40"></a><div class="media-body"><p class="media-heading"><span><a href="" style="color: #259" userpop="{$ userComment.creator_detail.uid $}">{$ userComment.creator_detail.nickname $}</a></span><span ng-show="userComment.parent!=null"> 回复 <a href="" style="color: #259" userpop="{$ getParentComment(userComment.parent,\'id\') $}">{$ getParentComment(userComment.parent,\'nickname\') $}</a></span><span class="space-md"><time class="timeago" datetime="{$ getRelativeDT(userComment.created_on) $}"></time></span></p><p style="color:black;">{$ userComment.content $}</p><div actionbar class="meta" ng-style="actionBarStyle" style="visibility: hidden;"><ul class="list-unstyled list-inline"><li ng-show="getCurrentLoginUser().nickname !== userComment.creator_detail.nickname "><i class="fa fa-reply"></i> <span><a href="" ng-click="replyComment.showReplyForm[$index] = true">回复</a></span></li><li ng-show="getCurrentLoginUser().nickname !== userComment.creator_detail.nickname "><span fd-vote fd-content-type-id="25" fd-object-id="{$ userComment.uid $}" fd-vote-value="u">顶</span></li><li ng-show="getCurrentLoginUser().nickname !== userComment.creator_detail.nickname "><span fd-vote fd-content-type-id="25" fd-object-id="{$ userComment.uid $}" fd-vote-value="d">踩</span></li><li ng-show="getCurrentLoginUser().nickname !== userComment.creator_detail.nickname "><span fd-report fd-content-type-id="25" fd-object-id="{$ userComment.uid $}">举报</span></li><li ng-show="getCurrentLoginUser().nickname === userComment.creator_detail.nickname "><i class="fa fa-exclamation-triangle"></i> <span><a href="" ng-click="removeOwnerComment(userComment.uid)">删除</a></span></li></ul><form class="form-horizontal" name="replyCommentForm" novalidate ng-show="replyComment.showReplyForm[$index]"><input type="text" class="form-control" placeholder="写下你的评论...(不能少于10个字哟)" ng-model="replyComment.content[$index]" required ng-minlength="10"><div class="divider"></div><div class="text-right"><button class="btn btn-primary btn-gap" ng-click="commitComment(userComment.uid,replyComment.content[$index],$index)" ng-disabled="replyCommentForm.$invalid || replyCommitButtonClicked"><i class="fa fa-spinner fa-spin" ng-show="replyCommitButtonClicked"></i>&nbsp;提交</button><button class="btn btn-default btn-gap" ng-click="replyComment.showReplyForm[$index] = false">取消</button></div></form></div></div></div></div><div class="box box-bordered" style="background-color: #fbfbfb;border-top:none"><form class="form-horizontal" name="commentForm" novalidate><input type="text" class="form-control" placeholder="写下你的评论...(不能少于10个字哟)" ng-click="showQuestionButtons = true" required ng-minlength="10" ng-model="commentForm.content"><div class="divider"></div><div ng-show="showQuestionButtons" class="text-right"><button class="btn btn-primary btn-gap" ng-click="commitComment(null,commentForm.content)" ng-disabled="commentForm.$invalid || commitButtonClicked"><i class="fa fa-spinner fa-spin" ng-show="commitButtonClicked"></i>&nbsp;提交</button><button class="btn btn-default btn-gap" ng-click="showQuestionButtons = false">取消</button></div></form><div class="text-right" ng-click="showQuestions = false"><a href="" ng-click="toggle()"><i class="fa fa-angle-double-up"></i>收起</a></div></div>', D = '<div class="actionbar-arrow" ng-show="showContent"></div>', E = !1;
            m.replyComment = {content: [], showReplyForm: [], Form: null}, o.$observe("fdContentTypeId", function (a) {
                u = a
            }), o.$observe("fdObjectId", function (a) {
                v = a
            }), o.$observe("fdCommentsCount", function (a) {
                w = parseInt(a)
            }), m.getRelativeDT = function (a) {
                return a
            }, m.getBarName = function () {
                return E ? "收起评论" : w ? w + "条评论" : "评论"
            }, m.getCommentId = function (a) {
                return u + v + "CommentId" + a
            }, m.getParentComment = function (a, b) {
                var c;
                for (c in m.userComments)if (m.userComments[c].uid === a) {
                    if ("nickname" === b)return m.userComments[c].creator_detail.nickname;
                    if ("id" === b)return m.userComments[c].creator_detail.uid
                }
            }, m.getUserCommunitiesAvatar = function (a) {
                return i.get("userCommunitiesAvatar", {userCommunitiesAvatar: a})
            }, m.toggle = function () {
                m.showContent ? s() : (r(), q())
            }, m.commitComment = function (a, b, e) {
                function i(b) {
                    b ? null !== a ? B.replyCommitButtonClicked = !0 : B.commitButtonClicked = !0 : null !== a ? B.replyCommitButtonClicked = !1 : B.commitButtonClicked = !1
                }

                i(!0), null !== a ? B.replyCommitButtonClicked = !0 : B.commitButtonClicked = !0;
                var j = new d({resourceName: "comments"});
                f.defaults.headers.common["X-CSRFToken"] = g.csrftoken, j.content_type = u, j.object_id = v, j.content = b, j.parent = a, j.$save().$then(function (a) {
                    i(!1), m.userComments.push(a.data), w += 1, m.replyComment.showReplyForm[e] = !1, m.replyComment.content[e] = "", B.showQuestionButtons = !1, B.commentForm.content = "", B.commentForm.$setPristine(), c(function () {
                        jQuery(".timeago").timeago()
                    }, 0, !1), null !== j.parent && m.userComments.length > 3 && (k.hash(m.getCommentId(m.userComments.length - 3)), l()), h.logSuccess("亲,评论成功!")
                }, function () {
                    i(!1), h.logError("亲,Fenby服务器拒绝这个操作哦!")
                })
            }, m.removeOwnerComment = function (a) {
                var b = null;
                if (b)throw new Error("Trying to open a dialog that is already open!");
                b = j.open({
                    templateUrl: "template/fenby3/confirmModal.tpl.html",
                    controller: "comfirmModal",
                    backdrop: !1,
                    size: "sm",
                    resolve: {
                        modalObject: function () {
                            return {title: "删除评论", content: "你确定要删除这条评论吗？"}
                        }
                    }
                }), b.result.then(function () {
                    t(a)
                }, function () {
                })
            }, m.actionbar = function () {
                return s()
            }, x = a(C), z = a(D)
        }
    }
}]).directive("fdReport", ["$compile", "$position", "$timeout", "Fenby3Api", "$http", "$cookies", "logger", function (a, b, c, d, e, f, g) {
    return {
        restrict: "A",
        scope: !0,
        template: '<i class="fa fa-exclamation-triangle" ng-style="actionBarStyle" style="visibility: hidden;"></i>&nbsp;<a href="" ng-click="toggle(); $event.stopPropagation();" ng-style="actionBarStyle" style="visibility: hidden;">举报</a>',
        require: "^actionbar",
        link: function (h, i, j, k) {
            function l() {
                k.hideOpened(h), w = !0, t = h.$new(), c(function () {
                    h.$apply(function () {
                        q = p(t, function () {
                        }), i.parent().parent().after(q), s = r(t, function () {
                        }), i.parent().parent().after(s);
                        var a = b.position(i), c = b.position(q), d = b.position(s);
                        s.css({left: a.left + a.width / 2, top: c.top - d.height + 1})
                    })
                }, 0).then(function () {
                    t.commitButtonClicked = !1, h.showContent = !0
                })
            }

            function m() {
                h.showContent = !1, w = !1, s && (s.remove(), s = null), q && (q.remove(), q = null), t && t.$destroy()
            }

            h.showContent = !1, k.addAction(h);
            var n, o, p, q, r, s, t, u = '<div class="box box-bordered" ng-show="showContent"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">为什么举报这个呢?</h3></div><div class="panel-body"><div class="box-content"><form class="form-horizontal" name ="reportForm" novalidate><div class="form-group"><div><p><strong>请选择理由</strong></p></div><div  ng-style="highlightBackground1" ng-mouseenter="highlightBackground1={\'background-color\':\'#eff6fa\'}" ng-mouseleave="highlightBackground1={}"><label class="ui-radio"><input name="reportreason" ng-model="reportForm.reason" type="radio" value="广告等垃圾信息" ng-click="showQuestionButtons = false"><span>广告等垃圾信息</span></label></div><div  ng-style="highlightBackground2" ng-mouseenter="highlightBackground2={\'background-color\':\'#eff6fa\'}" ng-mouseleave="highlightBackground2={}"><label class="ui-radio"><input name="reportreason" ng-model="reportForm.reason" type="radio" value="不友善内容" ng-click="showQuestionButtons = false"><span>不友善内容</span></label></div><div  ng-style="highlightBackground3" ng-mouseenter="highlightBackground3={\'background-color\':\'#eff6fa\'}" ng-mouseleave="highlightBackground3={}"><label class="ui-radio"><input name="reportreason" ng-model="reportForm.reason" type="radio" value="违法违规内容" ng-click="showQuestionButtons = false"><span>违法违规内容</span></label></div><div  ng-style="highlightBackground4" ng-mouseenter="highlightBackground4={\'background-color\':\'#eff6fa\'}" ng-mouseleave="highlightBackground4={}"><label class="ui-radio"><input name="reportreason" ng-model="reportForm.reason" type="radio" value="不宜公开讨论的政治内容" ng-click="showQuestionButtons = false"><span>不宜公开讨论的政治内容</span></label></div><div  ng-style="highlightBackground5" ng-mouseenter="highlightBackground5={\'background-color\':\'#eff6fa\'}" ng-mouseleave="highlightBackground5={}"><label class="ui-radio"><input name="reportreason" ng-model="reportForm.reason" type="radio" value="" ng-click="showQuestionButtons = true"><span>其他（可自行填写）</span></label></div></div><div class="divider"></div><input type="text" name="customreason" class="form-control" ng-model="reportForm.customreason" placeholder="请填写原因...(不少于10个字)" ng-show="showQuestionButtons" ng-minlength="10" required><div class="text-right"><button class="btn btn-primary btn-gap" ng-click="commitReport()" ng-disabled="reportForm.customreason.$invalid && reportForm.reason === \'\' || reportForm.$pristine || commitButtonClicked"><i class="fa fa-spinner fa-spin" ng-show="commitButtonClicked"></i>&nbsp;提交</button><button class="btn btn-default btn-gap" ng-click="toggle()">取消</button></div></form></div></div></div><div class="text-right" ng-click="showQuestions = false"><a href="" ng-click="toggle()"><i class="fa fa-angle-double-up"></i>收起</a></div></div>', v = '<div class="actionbar-arrow" ng-show="showContent"></div>', w = !1;
            j.$observe("fdContentTypeId", function (a) {
                n = a
            }), j.$observe("fdObjectId", function (a) {
                o = a
            }), h.commitReport = function () {
                t.commitButtonClicked = !0;
                var a = new d({resourceName: "reports"});
                e.defaults.headers.common["X-CSRFToken"] = f.csrftoken, a.content_type = n, a.object_id = o, a.note = t.reportForm.reason ? t.reportForm.reason : t.reportForm.customreason, a.$save().$then(function () {
                    t.commitButtonClicked = !1, g.logSuccess("亲,举报成功!"), h.toggle()
                }, function () {
                    t.commitButtonClicked = !1, g.logError("亲,Fenby服务器拒绝这个操作哦!")
                })
            }, h.toggle = function () {
                h.showContent ? m() : l()
            }, h.$on("mouseEnter", function (a, b) {
                b === k.actionbarNumber() && (h.actionBarStyle = {visibility: "visible"})
            }), h.$on("mouseLeave", function (a, b) {
                b !== k.actionbarNumber() || w || (h.actionBarStyle = {visibility: "hidden"})
            }), h.actionbar = function () {
                return m()
            }, p = a(u), r = a(v)
        }
    }
}]).directive("fdReply", ["$location", "$anchorScroll", function (a, b) {
    return {
        restrict: "A",
        scope: !0,
        template: '<i class="fa fa-reply" ng-style="actionBarStyle" style="visibility: hidden;"></i>&nbsp;<a href="" ng-click="gotoReply(); $event.stopPropagation();" ng-transclude ng-style="actionBarStyle" style="visibility: hidden;"></a>',
        transclude: !0,
        require: "^actionbar",
        link: function (c, d, e, f) {
            c.gotoReply = function () {
                a.hash("postReplyEditor"), b(), angular.element(document.querySelector("#postReplyEditor"))[0].focus()
            }, c.$on("mouseEnter", function (a, b) {
                b === f.actionbarNumber() && (c.actionBarStyle = {visibility: "visible"})
            }), c.$on("mouseLeave", function (a, b) {
                b === f.actionbarNumber() && (c.actionBarStyle = {visibility: "hidden"})
            })
        }
    }
}]).directive("fdFavorite", ["$compile", "$position", "$timeout", "Fenby3Api", "$http", "$cookies", "logger", function (a, b, c, d, e, f, g) {
    return {
        restrict: "A",
        scope: !0,
        template: '<i class="fa fa-bookmark" ng-style="actionBarStyle" style="visibility: hidden;"></i>&nbsp;<a href="" ng-click="toggle(); $event.stopPropagation();" ng-style="actionBarStyle" style="visibility: hidden;"><i class="fa fa-spinner fa-spin" ng-show="commitButtonClicked"></i>&nbsp;{$ favorOrNot $}</a>',
        require: "^actionbar",
        link: function (a, b, h, i) {
            function j(b) {
                0 != b.data.length ? (p = !0, q = b.data[0].uid, a.favorOrNot = "取消收藏", a.commitButtonClicked = !1) : (p = !1, a.favorOrNot = "收藏", a.commitButtonClicked = !1), c(function () {
                    r = !0
                }, 0, !1)
            }

            function k() {
                p = !1, q = null, a.favorOrNot = "收藏", a.commitButtonClicked = !1
            }

            function l() {
                return c(function () {
                    d.queryforarray({resourceName: "favorites", content_type: n, object_id: o}).$then(function (a) {
                        j(a)
                    }, function () {
                        k()
                    })
                }, 0)
            }

            function m() {
                a.commitButtonClicked = !0;
                var b = new d({resourceName: "favorites"});
                e.defaults.headers.common["X-CSRFToken"] = f.csrftoken, b.content_type = n, b.object_id = o, b.$save().$then(function () {
                    g.logSuccess("亲,已成功收藏!"), l()
                }, function () {
                    g.logError("亲,Fenby服务器拒绝这个操作哦!"), a.commitButtonClicked = !1
                })
            }

            i.addAction(a);
            var n, o, p = !1, q = null, r = !1;
            h.$observe("fdContentTypeId", function (a) {
                n = a
            }), h.$observe("fdObjectId", function (a) {
                o = a
            }), a.toggle = function () {
                if (i.hideOpened(a), p) {
                    a.commitButtonClicked = !0, e.defaults.headers.common["X-CSRFToken"] = f.csrftoken;
                    var b = d.remove({resourceName: "favorites", id: q});
                    b.$then(function () {
                        l(), g.logSuccess("亲,已成功取消收藏!")
                    }, function () {
                        g.logError("亲,Fenby玩脱啦!"), a.commitButtonClicked = !1
                    })
                } else m()
            }, a.actionbar = function () {
                return angular.noop
            }, a.$on("mouseEnter", function (b, c) {
                c === i.actionbarNumber() && r && (a.actionBarStyle = {visibility: "visible"})
            }), a.$on("mouseLeave", function (b, c) {
                c === i.actionbarNumber() && (a.actionBarStyle = {visibility: "hidden"})
            }), a.$on("prepareXHR", function (a, b) {
                b === i.actionbarNumber() && l()
            }), a.$on("refreshBarWithLogout", function () {
                k()
            })
        }
    }
}]).directive("fdQuestion", ["$compile", "$position", "$timeout", "Fenby3Api", "$http", "$cookies", "logger", "loadurladdress", "$modal", "$location", "$anchorScroll", "FileUploader", "$q", "$window", "base64", function (a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
    return {
        restrict: "A",
        scope: !0,
        template: '<i class="fa fa-question-circle"></i>&nbsp;<a href="" ng-click="toggle(); $event.stopPropagation();">{$ getBarName() $}</a>',
        require: "^actionbar",
        link: function (j, k, p, q) {
            function r() {
                q.hideOpened(j), H = !0, I = j.$new(), s(), c(function () {
                    j.$apply(function () {
                        C = B(I, function () {
                        }), k.parent().parent().after(C), E = D(I, function () {
                        }), k.parent().parent().after(E);
                        var a = b.position(k), c = b.position(C), d = b.position(E);
                        E.css({left: a.left + a.width / 2, top: c.top - d.height + 1})
                    })
                }, 0).then(function () {
                    I.commitButtonClicked = !1, t(), j.showContent = !0, I.editorCssId = N = "editor" + parseInt(x())
                })
            }

            function s() {
                var a = f.csrftoken, b = I.pictureAttachmentsUpload = new l({headers: {"X-CSRFToken": a}});
                b.queueLimit = 6, b.alias = "attachment_file", b.url = h.get("attachment"), b.filters.push({
                    name: "imageFilter",
                    fn: function (a) {
                        var b = "|" + a.type.slice(a.type.lastIndexOf("/") + 1) + "|";
                        return -1 !== "|jpg|png|jpeg|bmp|gif|".indexOf(b)
                    }
                }), b.onAfterAddingFile = function (a) {
                    if (-1 === a.file.name.lastIndexOf("."))return void g.logError("亲,不支持这种文件类型");
                    var b = a.file.name.substring(0, a.file.name.lastIndexOf(".")), c = a.file.name.substring(a.file.name.lastIndexOf("."), a.file.name.length);
                    a.file.name = o.urlencode(b).length > 100 ? o.urlencode(b).substring(0, 100) : o.urlencode(b) + c, a.file.size / 1024 > 512 ? (g.logError("亲,图片大于512K哟,麻烦缩小点嘛!"), a.remove(this)) : L || (I.waitForCreateDraft = !0, v(!0))
                }, b.onBeforeUploadItem = function (a) {
                    console.info("item", a), a.formData = [{
                        content_type: h.get("question_content_type"),
                        object_id: L,
                        is_secure: !1
                    }]
                }, b.onProgressAll = function () {
                    I.blockPictureAttachmentUpload = M, I.commitButtonClicked = !0
                }, b.onSuccessItem = function (a, b) {
                    J.imgUrl = b.oss_url, J.drawHtmlImage()
                }, b.onCompleteAll = function () {
                    c(function () {
                        M.resolve("成功添加图片到编辑器"), g.logSuccess("成功添加图片到编辑器"), M = m.defer(), I.commitButtonClicked = !1
                    }, 0, !1)
                }
            }

            function t() {
                c(function () {
                    J = new Editor({element: document.getElementById(N)}), I.$apply(function () {
                        jQuery(".icon-bold").powerTip({placement: "ne"}), jQuery(".icon-italic").powerTip({placement: "ne"}), jQuery(".icon-quote").powerTip({placement: "ne"}), jQuery(".icon-unordered-list").powerTip({placement: "ne"}), jQuery(".icon-ordered-list").powerTip({placement: "ne"}), jQuery(".icon-link").powerTip({placement: "ne"}), jQuery(".icon-image").powerTip({placement: "ne"}), jQuery(".icon-code").powerTip({placement: "ne"}), jQuery(".icon-undo").powerTip({placement: "ne"}), jQuery(".icon-redo").powerTip({placement: "ne"}), jQuery(".icon-info").powerTip({placement: "ne"}), jQuery(".icon-preview").powerTip({placement: "ne"}), jQuery(".icon-fullscreen").powerTip({placement: "nw"}), jQuery(".icon-bold").data("powertip", "字体加粗"), jQuery(".icon-italic").data("powertip", "字体倾斜"), jQuery(".icon-quote").data("powertip", "文字引用"), jQuery(".icon-unordered-list").data("powertip", "无序list"), jQuery(".icon-ordered-list").data("powertip", "有序list"), jQuery(".icon-link").data("powertip", "添加链接"), jQuery(".icon-image").data("powertip", "添加图片链接"), jQuery(".icon-code").data("powertip", "添加代码片段,在```后输入语言名称可高亮显示"), jQuery(".icon-undo").data("powertip", "恢复到上一步"), jQuery(".icon-redo").data("powertip", "重做下一步"), jQuery(".icon-info").data("powertip", "Markdown语法介绍"), jQuery(".icon-preview").data("powertip", '预览"F12为快捷键'), jQuery(".icon-fullscreen").data("powertip", '全屏显示"F11为快捷键"')
                    })
                }, 0, !1)
            }

            function u() {
                return c(function () {
                    I.updatesPromise = d.query({
                        resourceName: "questions",
                        content_type: y,
                        object_id: z,
                        page_size: 0
                    }).$then(function (a) {
                        I.blockUpdates = a.data.results, c(function () {
                            jQuery(".timeago").timeago(), j.refreshScene(z)
                        }, 0, !1)
                    }, function () {
                        console.info("getQuestions error"), j.toggle()
                    })
                }, 0)
            }

            function v(a) {
                function b() {
                    I.commitButtonClicked = !0, c.content_type = y, c.object_id = z, c.content = J.codemirror.getValue(), c.$save().$then(function (a) {
                        g.logSuccess("成功提交问题..."), I.blockUpdates.push(a.data), L = null, K = !1, I.pictureAttachmentsUpload.clearQueue(), I.commitButtonClicked = !1, I.showEditor = !1
                    }, function () {
                        I.commitButtonClicked = !1, g.logError("亲,Fenby服务器拒绝这个操作哦!")
                    })
                }

                var c;
                e.defaults.headers.common["X-CSRFToken"] = f.csrftoken, a ? (c = new d({resourceName: "questions"}), c.content_type = y, c.object_id = z, c.content = J.codemirror.getValue() || "Draft!", c.$save().$then(function (a) {
                    L = a.data.uid, K = !0, I.waitForCreateDraft = !1
                }, function () {
                    console.log("commitQuestionDraft error")
                })) : !J.codemirror.getValue() || J.codemirror.getValue().length < 10 ? J.codemirror.getValue() ? J.codemirror.getValue().length < 10 && g.logError("亲,太惜墨了,不要小于10个字哟!") : g.logError("亲,难道真的不需要任何内容吗?") : K ? (c = new d({
                    resourceName: "questions",
                    id: L
                }), b(c)) : (c = new d({resourceName: "questions"}), b(c))
            }

            function w() {
                j.showContent = !1, H = !1, E && (E.remove(), E = null), C && (C.remove(), C = null), I && I.$destroy(), J && (J = null), M && (M = null), L && (L = null), K && (K = !1), c(function () {
                    j.refreshScene(z)
                }, 0, !1)
            }

            function x() {
                var a = (new Date).getTime() + Math.random();
                return a
            }

            j.showContent = !1, j.showActionBarCommon = !1, q.addAction(j);
            var y, z, A, B, C, D, E, F = '<div class="box box-bordered" style="margin-bottom:0px;padding-bottom: 0px;" ng-show="showContent" cg-busy="updatesPromise"><h4 class="text-center text-primary" ng-show="!blockUpdates.length">目前没有任何问题,就等你啦...</h4> <div class="panel panel-primary" ng-repeat="blockUpdate in blockUpdates"><div class="panel-body"><div id="{$ getUpdatesId($index) $}" class="media" style="padding: 0px;border: none" ><a href="javascript:;" class="pull-left" userpop="{$ blockUpdate.creator_detail.uid $}"><img ng-src="{$ blockUpdate.creator_detail.avatar_url_full $}" class="media-object img-rounded img40_40"></a><div class="media-body"><p class="media-heading"><span><a href="" style="color: #259" userpop="{$ blockUpdate.creator_detail.uid $}">{$ blockUpdate.creator_detail.nickname $}</a></span><span class="space-md"><time class="timeago" datetime="{$ blockUpdate.created_on $}"></time></span><span class="pull-right">{$ blockUpdate.status_name $}</span></p><p style="color:black;" ng-bind-html=" markdownContent(blockUpdate.content) "></p><div actionbar class="meta"><ul class="list-unstyled list-inline"><li ng-show="getCurrentLoginUser().nickname !== blockUpdate.creator_detail.nickname "><span fd-share fd-content-type-id="72" fd-object-id="{$ blockUpdate.uid $}">分享</span></li><li ng-show="getCurrentLoginUser().nickname !== blockUpdate.creator_detail.nickname "><span fd-vote fd-vote-value="u" fd-content-type-id="72" fd-object-id="{$ blockUpdate.uid $}">顶</span></li><li ng-show="getCurrentLoginUser().nickname !== blockUpdate.creator_detail.nickname "><span fd-vote fd-vote-value="d" fd-content-type-id="72" fd-object-id="{$ blockUpdate.uid $}">踩</span></li><li><span fd-comments fd-content-type-id="72" fd-object-id="{$ blockUpdate.uid $}">评论</span></li><li ng-show="getCurrentLoginUser().nickname === blockUpdate.creator_detail.nickname "><i class="fa fa-exclamation-triangle"></i>&nbsp;<span><a href="" ng-click="removeOwnerUpdate(blockUpdate.uid)">删除</a></span></li><li ng-show="getCurrentLoginUser().nickname !== blockUpdate.creator_detail.nickname "><span fd-report fd-content-type-id="72" fd-object-id="{$ blockUpdate.uid $}">举报</span></li><li ng-show="getCurrentLoginUser().nickname !== blockUpdate.creator_detail.nickname "><span fd-favorite fd-content-type-id="72" fd-object-id="{$ blockUpdate.uid $}">收藏</span></li></ul></div><div actionbar class="meta"><ul class="list-unstyled list-inline"><li><span fd-question-reply fd-question-uid="{$ blockUpdate.uid $}" fd-question-id="{$ blockUpdate.uid $}" fd-content-type-id="66" fd-object-id="{$ objectId $}">(点击查看答案...)</span></li></ul></div></div></div></div></div><div class="divider"></div><div ng-click="showEditor = !showEditor" class="text-right"><a href="" class="btn btn-line-primary">提一个新的问题</a><span class="caret"></span></div><div class="divider"></div><div class="box box-bordered" style="border:none" cg-busy="blockPictureAttachmentUpload" ng-show="showEditor"><textarea id="{$ editorCssId $}" ng-model="blockUpdate" style="display: none"></textarea><div ng-click="showPictureAttach = !showPictureAttach" class="text-right text-small"><a href="" class="btn btn-line-primary btn-xs">上传图片</a><span class="caret"></span></div><div class="divider"></div><div ng-show="showPictureAttach"><div class="form-group"><div><div class="drop-box clearfix" nv-file-drop="" uploader="pictureAttachmentsUpload"><span class="file-input-wrapper btn btn-default  btn-primary btn-sm">上传图片<input type="file" nv-file-select uploader="pictureAttachmentsUpload"/></span><span class="text-primary">或者拖拽图片到这里<small class="text-danger">(支持jpg、gif、png格式的图片，文件小于512K)</small></span></div><div class="divider"></div><div class="row"><div ng-repeat="item in pictureAttachmentsUpload.queue" class="gallery-box"><span class="title">{$ item.file.name $}</span><div class="thumbnail"><div ng-show="pictureAttachmentsUpload.isHTML5"ng-thumb="{ file: item._file, height: 100 }"></div></div><div class="progressbar-xs progress-striped"><div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0"aria-valuemax="100" ng-style="{ \'width\': item.progress + \'%\' }"style="width: 100%;"></div></div><div class="divider"></div><div class="text-center"><button type="button" class="btn btn-primary btn-xs" ng-click="item.upload()"ng-disabled="item.isReady || item.isUploading || item.isSuccess || waitForCreateDraft "><span class="glyphicon glyphicon-upload"></span> 上传</button><div class="space"></div><button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()"><span class="glyphicon glyphicon-trash"></span> 删除</button></div></div></div><div><div>总进度:<div class="progressbar-xs progress-striped"><div class="progress-bar" role="progressbar"ng-style="{ \'width\': pictureAttachmentsUpload.progress + \'%\' }"></div></div></div><div class="divider"></div><button type="button" class="btn btn-primary btn-sm"ng-click="pictureAttachmentsUpload.uploadAll()"ng-disabled="!pictureAttachmentsUpload.getNotUploadedItems().length || waitForCreateDraft"><span class="glyphicon glyphicon-upload"></span> 上传全部</button><button type="button" class="btn btn-warning btn-sm"ng-click="pictureAttachmentsUpload.cancelAll()"ng-disabled="!pictureAttachmentsUpload.isUploading"><span class="glyphicon glyphicon-ban-circle"></span> 取消上传</button><button type="button" class="btn btn-danger btn-sm"ng-click="pictureAttachmentsUpload.clearQueue()"ng-disabled="!pictureAttachmentsUpload.queue.length"><span class="glyphicon glyphicon-trash"></span> 删除全部</button></div></div></div></div><div class="divider"></div><div class="text-right"><button class="btn btn-primary btn-gap" ng-click="commitBlockUpdate()" ng-disabled="commitButtonClicked"><i class="fa fa-spinner fa-spin" ng-show="commitButtonClicked"></i>&nbsp;提交</button><button class="btn btn-default btn-gap" ng-click="toggle()">取消</button></div><div class="divider"></div><div class="text-right"><a href="" ng-click="toggle()"><i class="fa fa-angle-double-up"></i>收起</a></div></div></div><div class="divider-lg"></div>', G = '<div class="actionbar-arrow" ng-show="showContent"></div>', H = !1, I = null, J = null, K = !1, L = null, M = m.defer(), N = null;
            p.$observe("fdContentTypeId", function (a) {
                y = a
            }), p.$observe("fdObjectId", function (a) {
                j.objectId = z = a
            }), p.$observe("fdUpdatesCount", function (a) {
                A = parseInt(a)
            }), j.getBarName = function () {
                return H ? "收起问题" : A ? A + "个问题" : "问题"
            }, j.getUpdatesId = function (a) {
                return "blockId" + z + "UpdateId" + a
            }, j.getUserCommunitiesAvatar = function (a) {
                return h.get("userCommunitiesAvatar", {userCommunitiesAvatar: a})
            }, j.markdownContent = function (a) {
                return J.constructor.markdown(a)
            }, j.toggle = function () {
                j.showContent ? w() : (r(), u())
            }, j.isSupervisors = function (a) {
                return -1 === a.indexOf(j.getCurrentLoginUser().uid) ? !1 : !0
            }, j.approveBlockUpdate = function (a) {
                var b = null;
                if (b)throw new Error("Trying to open a dialog that is already open!");
                b = i.open({
                    templateUrl: "template/fenby3/confirmModal.tpl.html",
                    controller: "comfirmModal",
                    backdrop: !1,
                    size: "sm",
                    resolve: {
                        modalObject: function () {
                            return {title: "接受更正", content: "你确定要接受这条更正吗？"}
                        }
                    }
                }), I.acceptButtonClicked = !0, b.result.then(function () {
                    d.specialsave({resourceName: "blocks", id: a, AlternateResourceName: "accept"}).$then(function () {
                        I.acceptButtonClicked = !1, g.logSuccess("成功更新课程"), n.location.reload(!0)
                    }, function () {
                        I.acceptButtonClicked = !1, console.log("accpet error")
                    })
                }, function () {
                })
            }, j.rejectBlockUpdate = function (a) {
                var b = null;
                if (b)throw new Error("Trying to open a dialog that is already open!");
                b = i.open({
                    templateUrl: "template/fenby3/confirmModal.tpl.html",
                    controller: "comfirmModal",
                    backdrop: !1,
                    size: "sm",
                    resolve: {
                        modalObject: function () {
                            return {title: "拒绝更正", content: "你确定要拒绝这条更正吗？"}
                        }
                    }
                }), I.rejectButtonClicked = !0, b.result.then(function () {
                    d.specialsave({resourceName: "blocks", id: a, AlternateResourceName: "reject"}).$then(function () {
                        I.rejectButtonClicked = !1, g.logSuccess("已拒绝这条更正")
                    }, function () {
                        I.rejectButtonClicked = !1, console.log("reject error")
                    })
                }, function () {
                })
            }, j.commitBlockUpdate = function () {
                v(!1)
            }, j.removeOwnerUpdate = function (a) {
                var b = null;
                if (b)throw new Error("Trying to open a dialog that is already open!");
                b = i.open({
                    templateUrl: "template/fenby3/confirmModal.tpl.html",
                    controller: "comfirmModal",
                    backdrop: !1,
                    size: "sm",
                    resolve: {
                        modalObject: function () {
                            return {title: "删除问题", content: "你确定要删除这个问题吗？"}
                        }
                    }
                }), b.result.then(function () {
                    e.defaults.headers.common["X-CSRFToken"] = f.csrftoken;
                    var b = d.remove({resourceName: "questions", id: a});
                    b.$then(function () {
                        var b;
                        for (b in I.blockUpdates)I.blockUpdates[b].uid === a && (I.blockUpdates.splice(b, 1), A -= 1);
                        g.logSuccess("亲,成功删除了问题!")
                    }, function () {
                        g.logError("亲,Fenby服务器拒绝这个操作哦!")
                    })
                }, function () {
                })
            }, j.isQuestionCreator = function (a) {
                for (var b = 0; b < I.blockUpdates.length; b++)if (a === I.blockUpdates[b].uid)return I.blockUpdates[b].creator_detail.uid
            }, j.actionbar = function () {
                return w()
            }, B = a(F), D = a(G)
        }
    }
}]).directive("fdQuestionReply", ["$compile", "$position", "$timeout", "Fenby3Api", "$http", "$cookies", "logger", "loadurladdress", "$modal", "$location", "$anchorScroll", "FileUploader", "$q", "$window", "base64", function (a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
    return {
        restrict: "A",
        scope: !0,
        template: '<i class="fa fa-reply-all"></i>&nbsp;<a href="" ng-click="toggle(); $event.stopPropagation();">{$ getBarName() $}</a>',
        require: "^actionbar",
        link: function (j, k, p, q) {
            function r() {
                q.hideOpened(j), H = !0, I = j.$new(), s(), c(function () {
                    j.$apply(function () {
                        C = B(I, function () {
                        }), k.parent().parent().after(C), E = D(I, function () {
                        }), k.parent().parent().after(E);
                        var a = b.position(k), c = b.position(C), d = b.position(E);
                        E.css({left: a.left + a.width / 2, top: c.top - d.height + 1})
                    })
                }, 0).then(function () {
                    I.commitButtonClicked = !1, t(), j.showContent = !0, I.editorCssId = N = "editor" + parseInt(x())
                })
            }

            function s() {
                var a = f.csrftoken, b = I.pictureAttachmentsUpload = new l({headers: {"X-CSRFToken": a}});
                b.queueLimit = 6, b.alias = "attachment_file", b.url = h.get("attachment"), b.filters.push({
                    name: "imageFilter",
                    fn: function (a) {
                        var b = "|" + a.type.slice(a.type.lastIndexOf("/") + 1) + "|";
                        return -1 !== "|jpg|png|jpeg|bmp|gif|".indexOf(b)
                    }
                }), b.onAfterAddingFile = function (a) {
                    if (-1 === a.file.name.lastIndexOf("."))return void g.logError("亲,不支持这种文件类型");
                    var b = a.file.name.substring(0, a.file.name.lastIndexOf(".")), c = a.file.name.substring(a.file.name.lastIndexOf("."), a.file.name.length);
                    a.file.name = o.urlencode(b).length > 100 ? o.urlencode(b).substring(0, 100) : o.urlencode(b) + c, a.file.size / 1024 > 512 ? (g.logError("亲,图片大于512K哟,麻烦缩小点嘛!"), a.remove(this)) : L || (I.waitForCreateDraft = !0, v(!0))
                }, b.onBeforeUploadItem = function (a) {
                    a.formData = [{content_type: h.get("question_content_type"), object_id: L, is_secure: !1}]
                }, b.onProgressAll = function () {
                    I.blockPictureAttachmentUpload = M, I.commitButtonClicked = !0
                }, b.onSuccessItem = function (a, b) {
                    J.imgUrl = b.oss_url, J.drawHtmlImage()
                }, b.onCompleteAll = function () {
                    c(function () {
                        M.resolve("成功添加图片到编辑器"), g.logSuccess("成功添加图片到编辑器"), M = m.defer(), I.commitButtonClicked = !1
                    }, 0, !1)
                }
            }

            function t() {
                c(function () {
                    J = new Editor({element: document.getElementById(N)}), I.$apply(function () {
                        jQuery(".icon-bold").powerTip({placement: "ne"}), jQuery(".icon-italic").powerTip({placement: "ne"}), jQuery(".icon-quote").powerTip({placement: "ne"}), jQuery(".icon-unordered-list").powerTip({placement: "ne"}), jQuery(".icon-ordered-list").powerTip({placement: "ne"}), jQuery(".icon-link").powerTip({placement: "ne"}), jQuery(".icon-image").powerTip({placement: "ne"}), jQuery(".icon-code").powerTip({placement: "ne"}), jQuery(".icon-undo").powerTip({placement: "ne"}), jQuery(".icon-redo").powerTip({placement: "ne"}), jQuery(".icon-info").powerTip({placement: "ne"}), jQuery(".icon-preview").powerTip({placement: "ne"}), jQuery(".icon-fullscreen").powerTip({placement: "nw"}), jQuery(".icon-bold").data("powertip", "字体加粗"), jQuery(".icon-italic").data("powertip", "字体倾斜"), jQuery(".icon-quote").data("powertip", "文字引用"), jQuery(".icon-unordered-list").data("powertip", "无序list"), jQuery(".icon-ordered-list").data("powertip", "有序list"), jQuery(".icon-link").data("powertip", "添加链接"), jQuery(".icon-image").data("powertip", "添加图片链接"), jQuery(".icon-code").data("powertip", "添加代码片段,在```后输入语言名称可高亮显示"), jQuery(".icon-undo").data("powertip", "恢复到上一步"), jQuery(".icon-redo").data("powertip", "重做下一步"), jQuery(".icon-info").data("powertip", "Markdown语法介绍"), jQuery(".icon-preview").data("powertip", '预览"F12为快捷键'), jQuery(".icon-fullscreen").data("powertip", '全屏显示"F11为快捷键"')
                    })
                }, 0, !1)
            }

            function u() {
                return c(function () {
                    I.updatesPromise = d.queryforarray({
                        resourceName: "questions",
                        id: O,
                        AlternateResourceName: "replies"
                    }).$then(function (a) {
                        I.questionReplies = a.data, c(function () {
                            jQuery(".timeago").timeago(), void 0 !== j.refreshScene && j.refreshScene(z)
                        }, 0, !1)
                    }, function () {
                        console.info("getQuestionReplies error"), j.toggle()
                    })
                }, 0)
            }

            function v(a) {
                function b() {
                    I.commitButtonClicked = !0, c.parent = P, c.content_type = y, c.object_id = z, c.content = J.codemirror.getValue(), c.$save().$then(function (a) {
                        g.logSuccess("成功提交答案..."), I.questionReplies.push(a.data), L = null, K = !1, I.pictureAttachmentsUpload.clearQueue(), I.commitButtonClicked = !1, I.showEditor = !1, J.codemirror.setValue("")
                    }, function () {
                        I.commitButtonClicked = !1, g.logError("亲,Fenby服务器拒绝这个操作哦!")
                    })
                }

                var c;
                e.defaults.headers.common["X-CSRFToken"] = f.csrftoken, a ? (c = new d({resourceName: "questions"}), c.parent = P, c.content_type = y, c.object_id = z, c.content = J.codemirror.getValue() || "Draft!", c.$save().$then(function (a) {
                    L = a.data.uid, K = !0, I.waitForCreateDraft = !1
                }, function () {
                    console.log("commitQuestionDraft error")
                })) : !J.codemirror.getValue() || J.codemirror.getValue().length < 10 ? J.codemirror.getValue() ? J.codemirror.getValue().length < 10 && g.logError("亲,太惜墨了,不要小于10个字哟!") : g.logError("亲,难道真的不需要任何内容吗?") : K ? (c = new d({
                    resourceName: "questions",
                    id: L
                }), b(c)) : (c = new d({resourceName: "questions"}), b(c))
            }

            function w() {
                j.showContent = !1, H = !1, E && (E.remove(), E = null), C && (C.remove(), C = null), I && I.$destroy(), J && (J = null), M && (M = null), L && (L = null), K && (K = !1), c(function () {
                    void 0 !== j.refreshScene && j.refreshScene(z)
                }, 0, !1)
            }

            function x() {
                var a = (new Date).getTime() + Math.random();
                return a
            }

            j.showContent = !1, j.showActionBarCommon = !1, q.addAction(j);
            var y, z, A, B, C, D, E, F = '<div class="box box-bordered" style="margin-bottom:0px;padding-bottom: 0px;" ng-show="showContent" cg-busy="updatesPromise"><h4 class="text-center text-primary" ng-show="!questionReplies.length">目前没有任何答案,就等你啦...</h4> <div class="panel panel-primary" ng-repeat="questionReply in questionReplies" > <div class="panel-body"><div id="{$ getUpdatesId($index) $}" class="media" style="padding: 0px;border: none" ><a href="javascript:;" class="pull-left" userpop="{$ questionReply.creator_detail.uid $}"><img ng-src="{$ questionReply.creator_detail.avatar_url_full $}" class="media-object img-rounded img40_40"></a><div class="media-body"><p class="media-heading"><span><a href="" style="color: #259" userpop="{$ questionReply.creator_detail.uid $}">{$ questionReply.creator_detail.nickname $}</a></span><span class="space-md"><time class="timeago" datetime="{$ questionReply.created_on $}"></time></span><span class="pull-right">{$ questionReply.is_accepted?\'已采纳\':\'未采纳\' $}</span></p><p style="color:black;" ng-bind-html=" markdownContent(questionReply.content) "></p><div actionbar class="meta"><ul class="list-unstyled list-inline"><li ng-show=" isShowAccept(questionReply,$index) "><span fd-anwser-accept fd-is-accept="{$ questionReply.is_accepted $}" fd-object-id="{$ questionReply.uid $}">采纳</span></li><li ng-show="getCurrentLoginUser().nickname !== questionReply.creator_detail.nickname "><span fd-share fd-content-type-id="72" fd-object-id="{$ questionReply.uid $}">分享</span></li><li ng-show="getCurrentLoginUser().nickname !== questionReply.creator_detail.nickname "><span fd-vote fd-vote-value="u" fd-content-type-id="72" fd-object-id="{$ questionReply.uid $}">顶</span></li><li ng-show="getCurrentLoginUser().nickname !== questionReply.creator_detail.nickname "><span fd-vote fd-vote-value="d" fd-content-type-id="72" fd-object-id="{$ questionReply.uid $}">踩</span></li><li><span fd-comments fd-content-type-id="72" fd-object-id="{$ questionReply.uid $}">评论</span></li><li ng-show="getCurrentLoginUser().nickname === questionReply.creator_detail.nickname "><i class="fa fa-exclamation-triangle"></i>&nbsp;<span><a href="" ng-click="removeOwnerUpdate(questionReply.uid)">删除</a></span></li><li ng-show="getCurrentLoginUser().nickname !== questionReply.creator_detail.nickname "><span fd-report fd-content-type-id="72" fd-object-id="{$ questionReply.uid $}">举报</span></li><li ng-show="getCurrentLoginUser().nickname !== questionReply.creator_detail.nickname "><span fd-favorite fd-content-type-id="72" fd-object-id="{$ questionReply.uid $}">收藏</span></li></ul></div></div></div></div></div><div class="divider"></div><div ng-click="showEditor = !showEditor" class="text-right"><a href="" class="btn btn-line-primary">提一个新的答案</a><span class="caret"></span></div><div class="divider"></div><div class="box box-bordered" style="border:none" cg-busy="blockPictureAttachmentUpload" ng-show="showEditor"><textarea id="{$ editorCssId $}" ng-model="questionReplyModel" style="display: none"></textarea><div ng-click="showPictureAttach = !showPictureAttach" class="text-right text-small"><a href="" class="btn btn-line-primary btn-xs">上传图片</a><span class="caret"></span></div><div class="divider"></div><div ng-show="showPictureAttach"><div class="form-group"><div><div class="drop-box clearfix" nv-file-drop="" uploader="pictureAttachmentsUpload"><span class="file-input-wrapper btn btn-default  btn-primary btn-sm">上传图片<input type="file" nv-file-select uploader="pictureAttachmentsUpload"/></span><span class="text-primary">或者拖拽图片到这里<small class="text-danger">(支持jpg、gif、png格式的图片，文件小于512K)</small></span></div><div class="divider"></div><div class="row"><div ng-repeat="item in pictureAttachmentsUpload.queue" class="gallery-box"><span class="title">{$ item.file.name $}</span><div class="thumbnail"><div ng-show="pictureAttachmentsUpload.isHTML5"ng-thumb="{ file: item._file, height: 100 }"></div></div><div class="progressbar-xs progress-striped"><div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0"aria-valuemax="100" ng-style="{ \'width\': item.progress + \'%\' }"style="width: 100%;"></div></div><div class="divider"></div><div class="text-center"><button type="button" class="btn btn-primary btn-xs" ng-click="item.upload()"ng-disabled="item.isReady || item.isUploading || item.isSuccess || waitForCreateDraft "><span class="glyphicon glyphicon-upload"></span> 上传</button><div class="space"></div><button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()"><span class="glyphicon glyphicon-trash"></span> 删除</button></div></div></div><div><div>总进度:<div class="progressbar-xs progress-striped"><div class="progress-bar" role="progressbar"ng-style="{ \'width\': pictureAttachmentsUpload.progress + \'%\' }"></div></div></div><div class="divider"></div><button type="button" class="btn btn-primary btn-sm"ng-click="pictureAttachmentsUpload.uploadAll()"ng-disabled="!pictureAttachmentsUpload.getNotUploadedItems().length || waitForCreateDraft"><span class="glyphicon glyphicon-upload"></span> 上传全部</button><button type="button" class="btn btn-warning btn-sm"ng-click="pictureAttachmentsUpload.cancelAll()"ng-disabled="!pictureAttachmentsUpload.isUploading"><span class="glyphicon glyphicon-ban-circle"></span> 取消上传</button><button type="button" class="btn btn-danger btn-sm"ng-click="pictureAttachmentsUpload.clearQueue()"ng-disabled="!pictureAttachmentsUpload.queue.length"><span class="glyphicon glyphicon-trash"></span> 删除全部</button></div></div></div></div><div class="divider"></div><div class="text-right"><button class="btn btn-primary btn-gap" ng-click="commitBlockUpdate()" ng-disabled="commitButtonClicked"><i class="fa fa-spinner fa-spin" ng-show="commitButtonClicked"></i>&nbsp;提交</button><button class="btn btn-default btn-gap" ng-click="toggle()">取消</button></div><div class="divider"></div><div class="text-right"><a href="" ng-click="toggle()"><i class="fa fa-angle-double-up"></i>收起</a></div></div></div><div class="divider-lg"></div>', G = '<div class="actionbar-arrow" ng-show="showContent"></div>', H = !1, I = null, J = null, K = !1, L = null, M = m.defer(), N = null, O = null, P = null, Q = [], R = !1;
            p.$observe("fdQuestionUid", function (a) {
                O = a
            }), p.$observe("fdQuestionId", function (a) {
                P = a
            }), p.$observe("fdContentTypeId", function (a) {
                y = a
            }), p.$observe("fdObjectId", function (a) {
                z = a
            }), p.$observe("fdUpdatesCount", function (a) {
                A = parseInt(a)
            }), j.getBarName = function () {
                return H ? "收起答案" : A ? A + "个答案" : "(点击查看答案...)"
            }, j.getUpdatesId = function (a) {
                return O + "reply" + a
            }, j.isShowAccept = function (a, b) {
                function c() {
                    for (var a = 0; a < Q.length; a++)if (Q[a].creator_detail.uid === j.getCurrentLoginUser().uid) {
                        for (var c = 0; c < I.questionReplies.length; c++)I.questionReplies[c].is_accepted && (e = c);
                        return b === e || null === e ? !0 : !1
                    }
                    return !1
                }

                var e = null;
                if (void 0 !== j.isQuestionCreator) {
                    if (j.isQuestionCreator(a.parent) === j.getCurrentLoginUser().uid) {
                        for (var f = 0; f < I.questionReplies.length; f++)I.questionReplies[f].is_accepted && (e = f);
                        return b === e || null === e ? !0 : !1
                    }
                    return !1
                }
                return R ? c() : (R = !0, void d.query({
                    resourceName: "questions",
                    content_type: y,
                    object_id: z,
                    page_size: 0
                }).$then(function (a) {
                    return Q = a.data.results, c()
                }, function () {
                    return console.info("getQuestions error"), j.toggle(), !1
                }))
            }, j.getUserCommunitiesAvatar = function (a) {
                return h.get("userCommunitiesAvatar", {userCommunitiesAvatar: a})
            }, j.markdownContent = function (a) {
                return J.constructor.markdown(a)
            }, j.toggle = function () {
                j.showContent ? w() : (r(), u())
            }, j.isSupervisors = function (a) {
                return -1 === a.indexOf(j.getCurrentLoginUser().uid) ? !1 : !0
            }, j.approveBlockUpdate = function (a) {
                var b = null;
                if (b)throw new Error("Trying to open a dialog that is already open!");
                b = i.open({
                    templateUrl: "template/fenby3/confirmModal.tpl.html",
                    controller: "comfirmModal",
                    backdrop: !1,
                    size: "sm",
                    resolve: {
                        modalObject: function () {
                            return {title: "接受更正", content: "你确定要接受这条更正吗？"}
                        }
                    }
                }), I.acceptButtonClicked = !0, b.result.then(function () {
                    d.specialsave({resourceName: "blocks", id: a, AlternateResourceName: "accept"}).$then(function () {
                        I.acceptButtonClicked = !1, g.logSuccess("成功更新课程"), n.location.reload(!0)
                    }, function () {
                        I.acceptButtonClicked = !1, console.log("accpet error")
                    })
                }, function () {
                })
            }, j.rejectBlockUpdate = function (a) {
                var b = null;
                if (b)throw new Error("Trying to open a dialog that is already open!");
                b = i.open({
                    templateUrl: "template/fenby3/confirmModal.tpl.html",
                    controller: "comfirmModal",
                    backdrop: !1,
                    size: "sm",
                    resolve: {
                        modalObject: function () {
                            return {title: "拒绝更正", content: "你确定要拒绝这条更正吗？"}
                        }
                    }
                }), I.rejectButtonClicked = !0, b.result.then(function () {
                    d.specialsave({resourceName: "blocks", id: a, AlternateResourceName: "reject"}).$then(function () {
                        I.rejectButtonClicked = !1, g.logSuccess("已拒绝这条更正")
                    }, function () {
                        I.rejectButtonClicked = !1, console.log("reject error")
                    })
                }, function () {
                })
            }, j.commitBlockUpdate = function () {
                v(!1)
            }, j.removeOwnerUpdate = function (a) {
                var b = null;
                if (b)throw new Error("Trying to open a dialog that is already open!");
                b = i.open({
                    templateUrl: "template/fenby3/confirmModal.tpl.html",
                    controller: "comfirmModal",
                    backdrop: !1,
                    size: "sm",
                    resolve: {
                        modalObject: function () {
                            return {title: "删除回答", content: "你确定要删除这条回答吗？"}
                        }
                    }
                }), b.result.then(function () {
                    e.defaults.headers.common["X-CSRFToken"] = f.csrftoken;
                    var b = d.remove({resourceName: "questions", id: a});
                    b.$then(function () {
                        var b;
                        for (b in I.questionReplies)I.questionReplies[b].uid === a && (I.questionReplies.splice(b, 1), A -= 1);
                        g.logSuccess("亲,成功删除了回答!")
                    }, function () {
                        g.logError("亲,Fenby服务器拒绝这个操作哦!")
                    })
                }, function () {
                })
            }, j.actionbar = function () {
                return w()
            }, B = a(F), D = a(G)
        }
    }
}]).directive("fdAnwserAccept", ["$compile", "$position", "$timeout", "Fenby3Api", "$http", "$cookies", "logger", function (a, b, c, d, e, f, g) {
    return {
        restrict: "A",
        scope: !0,
        template: '<i class="fa fa-check"></i>&nbsp;<a href="" ng-click="toggle(); $event.stopPropagation();"><i class="fa fa-spinner fa-spin" ng-show="commitButtonClicked"></i>&nbsp{$ acceptOrNot $}</a>',
        require: "^actionbar",
        link: function (a, b, c, h) {
            function i() {
                a.commitButtonClicked = !0, e.defaults.headers.common["X-CSRFToken"] = f.csrftoken, d.specialsave({
                    resourceName: "questions",
                    id: k,
                    AlternateResourceName: "accept"
                }).$then(function () {
                    g.logSuccess("亲,已成功采纳答案,Fenby有你会更好!")
                }, function () {
                    g.logError("亲,Fenby服务器拒绝这个操作哦!"), a.commitButtonClicked = !1
                })
            }

            h.addAction(a);
            var j, k;
            c.$observe("fdIsAccept", function (b) {
                j = b, a.acceptOrNot = j ? "已采纳" : "采纳"
            }), c.$observe("fdObjectId", function (a) {
                k = a
            }), a.toggle = function () {
                h.hideOpened(a), j || i()
            }, a.actionbar = function () {
                return angular.noop
            }
        }
    }
}]).directive("fdBlockCorrection", ["$compile", "$position", "$timeout", "Fenby3Api", "$http", "$cookies", "logger", "loadurladdress", "$modal", "$location", "$anchorScroll", "FileUploader", "$q", "$window", "base64", function (a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
    return {
        restrict: "A",
        scope: !0,
        template: '<i class="fa fa-pencil-square" ng-style="actionBarStyle" style="visibility: hidden;"></i>&nbsp;<a href="" ng-click="toggle(); $event.stopPropagation();" ng-style="actionBarStyle" style="visibility: hidden;">{$ getBarName() $}</a>',
        require: "^actionbar",
        link: function (j, k, p, q) {
            function r() {
                q.hideOpened(j), H = !0, I = j.$new(), s(), c(function () {
                    j.$apply(function () {
                        C = B(I, function () {
                        }), k.parent().parent().after(C), E = D(I, function () {
                        }), k.parent().parent().after(E);
                        var a = b.position(k), c = b.position(C), d = b.position(E);
                        E.css({left: a.left + a.width / 2, top: c.top - d.height + 1})
                    })
                }, 0).then(function () {
                    I.commitButtonClicked = !1, I.editorCssId = O = "editor" + parseInt(y()), t(), u(), j.showContent = !0
                })
            }

            function s() {
                var a = f.csrftoken, b = I.pictureAttachmentsUpload = new l({headers: {"X-CSRFToken": a}});
                b.queueLimit = 6, b.alias = "attachment_file", b.url = h.get("attachment"), b.filters.push({
                    name: "imageFilter",
                    fn: function (a) {
                        var b = "|" + a.type.slice(a.type.lastIndexOf("/") + 1) + "|";
                        return -1 !== "|jpg|png|jpeg|bmp|gif|".indexOf(b)
                    }
                }), b.onAfterAddingFile = function (a) {
                    if (-1 === a.file.name.lastIndexOf("."))return void g.logError("亲,不支持这种文件类型");
                    var b = a.file.name.substring(0, a.file.name.lastIndexOf(".")), c = a.file.name.substring(a.file.name.lastIndexOf("."), a.file.name.length);
                    a.file.name = o.urlencode(b).length > 100 ? o.urlencode(b).substring(0, 100) : o.urlencode(b) + c, a.file.size / 1024 > 512 ? (g.logError("亲,图片大于512K哟,麻烦缩小点嘛!"), a.remove(this)) : L || (I.waitForCreateDraft = !0, w(!0))
                }, b.onBeforeUploadItem = function (a) {
                    a.formData = [{content_type: h.get("block_content_type"), object_id: L, is_secure: !1}]
                }, b.onProgressAll = function () {
                    I.blockPictureAttachmentUpload = N, I.commitButtonClicked = !0
                }, b.onSuccessItem = function (a, b) {
                    J.imgUrl = b.oss_url, J.drawHtmlImage()
                }, b.onCompleteAll = function () {
                    c(function () {
                        N.resolve("成功添加图片到编辑器"), g.logSuccess("成功添加图片到编辑器"), N = m.defer(), I.commitButtonClicked = !1
                    }, 0, !1)
                }
            }

            function t() {
                c(function () {
                    J = new Editor({element: document.getElementById(O)}), I.$apply(function () {
                        J.render(), jQuery(".icon-bold").powerTip({placement: "ne"}), jQuery(".icon-italic").powerTip({placement: "ne"}), jQuery(".icon-quote").powerTip({placement: "ne"}), jQuery(".icon-unordered-list").powerTip({placement: "ne"}), jQuery(".icon-ordered-list").powerTip({placement: "ne"}), jQuery(".icon-link").powerTip({placement: "ne"}), jQuery(".icon-image").powerTip({placement: "ne"}), jQuery(".icon-code").powerTip({placement: "ne"}), jQuery(".icon-undo").powerTip({placement: "ne"}), jQuery(".icon-redo").powerTip({placement: "ne"}), jQuery(".icon-info").powerTip({placement: "ne"}), jQuery(".icon-preview").powerTip({placement: "ne"}), jQuery(".icon-fullscreen").powerTip({placement: "nw"}), jQuery(".icon-bold").data("powertip", "字体加粗"), jQuery(".icon-italic").data("powertip", "字体倾斜"), jQuery(".icon-quote").data("powertip", "文字引用"), jQuery(".icon-unordered-list").data("powertip", "无序list"), jQuery(".icon-ordered-list").data("powertip", "有序list"), jQuery(".icon-link").data("powertip", "添加链接"), jQuery(".icon-image").data("powertip", "添加图片链接"), jQuery(".icon-code").data("powertip", "添加代码片段,在```后输入语言名称可高亮显示"), jQuery(".icon-undo").data("powertip", "恢复到上一步"), jQuery(".icon-redo").data("powertip", "重做下一步"), jQuery(".icon-info").data("powertip", "Markdown语法介绍"), jQuery(".icon-preview").data("powertip", '预览"F12为快捷键'), jQuery(".icon-fullscreen").data("powertip", '全屏显示"F11为快捷键"')
                    })
                }, 0, !1)
            }

            function u() {
                c(function () {
                    var a = d.get({resourceName: "blocks", id: z});
                    a.$then(function (a) {
                        J.codemirror.setValue(a.data.content)
                    }, function () {
                        console.info("loadBlockContent error")
                    })
                }, 0, !1)
            }

            function v() {
                return c(function () {
                    I.updatesPromise = d.queryforarray({
                        resourceName: "blocks",
                        id: z,
                        AlternateResourceName: "pending"
                    }).$then(function (a) {
                        I.blockUpdates = a.data, c(function () {
                            jQuery(".timeago").timeago(), j.refreshScene(z)
                        }, 0, !1)
                    }, function () {
                        console.info("getUpdates error"), j.toggle()
                    })
                }, 0)
            }

            function w(a) {
                function b(a, b) {
                    I.commitButtonClicked = !0, b ? (a.section = M, a.content = J.codemirror.getValue(), a.description = I.blockForm.content, a.$save().$then(function (a) {
                        d.specialsave({
                            resourceName: "blocks",
                            id: a.data.uid,
                            AlternateResourceName: "submit"
                        }).$then(function (a) {
                            a.data.is_active ? (g.logSuccess("成功更新课程...请稍后..."), n.location.reload(!0)) : (I.blockUpdates.push(a.data), L = null, M = null, b = !1, I.commitButtonClicked = !1, I.showEditor = !1, I.pictureAttachmentsUpload.clearQueue())
                        }, function () {
                            I.commitButtonClicked = !1, console.info("publish error")
                        })
                    }, function () {
                        I.commitButtonClicked = !1, g.logError("亲,Fenby服务器拒绝这个操作哦!")
                    })) : (a.content = J.codemirror.getValue(), a.description = I.blockForm.content, a.$specialsave().$then(function (a) {
                        d.specialsave({
                            resourceName: "blocks",
                            id: a.data.uid,
                            AlternateResourceName: "submit"
                        }).$then(function (a) {
                            a.data.is_active ? (g.logSuccess("成功更新课程...请稍后..."), n.location.reload(!0)) : (I.blockUpdates.push(a.data), L = null, M = null, b = !1, I.commitButtonClicked = !1, I.showEditor = !1, I.pictureAttachmentsUpload.clearQueue())
                        }, function () {
                            I.commitButtonClicked = !1, console.info("publish error")
                        })
                    }, function () {
                        I.commitButtonClicked = !1, g.logError("亲,Fenby服务器拒绝这个操作哦!")
                    }))
                }

                var c;
                e.defaults.headers.common["X-CSRFToken"] = f.csrftoken, a ? (c = new d({
                    resourceName: "blocks",
                    id: z,
                    AlternateResourceName: "revise"
                }), c.content = J.codemirror.getValue() || "Draft!", c.description = I.blockForm.content || "Draft!", c.$specialsave().$then(function (a) {
                    L = a.data.uid, M = a.data.section, K = !0, I.waitForCreateDraft = !1
                }, function () {
                    console.log("commitPostDraft error")
                })) : !J.codemirror.getValue() || J.codemirror.getValue().length < 10 ? J.codemirror.getValue() ? J.codemirror.getValue().length < 10 && g.logError("亲,太惜墨了,不要小于10个字哟!") : g.logError("亲,难道真的不需要任何内容吗?") : K ? (c = new d({
                    resourceName: "blocks",
                    id: L
                }), b(c, K)) : (c = new d({resourceName: "blocks", id: z, AlternateResourceName: "revise"}), b(c, K))
            }

            function x() {
                j.showContent = !1, H = !1, E && (E.remove(), E = null), C && (C.remove(), C = null), I && I.$destroy(), J && (J = null), N && (N = null), L && (L = null), K && (K = !1), c(function () {
                    j.refreshScene(z)
                }, 0, !1)
            }

            function y() {
                var a = (new Date).getTime() + Math.random();
                return a
            }

            j.showContent = !1, j.showActionBarCommon = !1, q.addAction(j);
            var z, A, B, C, D, E, F = '<div class="box box-bordered" style="margin-bottom:0px;padding-bottom: 0px;" ng-show="showContent" cg-busy="updatesPromise"><h4 class="text-center text-primary" ng-show="!blockUpdates.length">目前没有任何待处理更正,就等你啦...</h4> <div id="{$ getUpdatesId($index) $}" class="media box-content bottom-bordered" style="padding: 0px;border: none" ng-repeat="blockUpdate in blockUpdates" ng-mouseenter="actionBarStyle={\'visibility\': \'visible\'}" ng-mouseleave="actionBarStyle={\'visibility\': \'hidden\'}"><a href="javascript:;" class="pull-left" userpop="{$ blockUpdate.creator_detail.uid $}"><img ng-src="{$ blockUpdate.creator_detail.avatar_url_full $}" class="media-object img-rounded img40_40"></a><div class="media-body"><div class="divider"></div><p class="media-heading"><span><a href="" style="color: #259" userpop="{$ blockUpdate.creator_detail.uid $}">{$ blockUpdate.creator_detail.nickname $}</a></span><span class="space-md"><time class="timeago" datetime="{$ blockUpdate.created_on $}"></time></span><span class="pull-right">{$ blockUpdate.status_name $}</span></p><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">{$ blockUpdate.description $}</h3></div><div class="panel-body"><p style="color:black;" ng-bind-html=" markdownContent(blockUpdate.content) "></p><div actionbar class="meta" ng-style="actionBarStyle" style="visibility: hidden;"><ul class="list-unstyled list-inline"><li ng-show="getCurrentLoginUser().nickname !== blockUpdate.creator_detail.nickname "><i class="fa fa-exclamation-triangle"></i> <span fd-report fd-content-type-id="66" fd-object-id="{$ blockUpdate.uid $}">举报</span></li><li ng-show="getCurrentLoginUser().nickname === blockUpdate.creator_detail.nickname "><i class="fa fa-exclamation-triangle"></i> <span><a href="" ng-click="removeOwnerUpdate(blockUpdate.uid)">删除</a></span></li><li ng-show=" isSupervisors(blockUpdate.supervisors) "><i class="fa fa-exclamation-triangle"></i> <span><a href="" ng-click="approveBlockUpdate(blockUpdate.uid)"><i class="fa fa-spinner fa-spin" ng-show="acceptButtonClicked"></i>&nbsp;通过</a></span></li><li ng-show=" isSupervisors(blockUpdate.supervisors) "><i class="fa fa-exclamation-triangle"></i> <span><a href="" ng-click="rejectBlockUpdate(blockUpdate.uid)"><i class="fa fa-spinner fa-spin" ng-show="rejectButtonClicked"></i>&nbsp;拒绝</a></span></li></ul></div></div></div></div></div><div class="divider"></div><div ng-click="showEditor = !showEditor" class="text-right text-small"><a href="" class="btn btn-line-primary btn-xs">我来更正</a><span class="caret"></span></div><div class="divider"></div><div class="box box-bordered" style="border:none" cg-busy="blockPictureAttachmentUpload" ng-show="showEditor"><textarea id="{$ editorCssId $}" ng-model="blockUpdate" style="display: none"></textarea><form class="form-horizontal" name="blockForm" novalidate><input type="text" class="form-control" placeholder="写下更正的原因...(不能少于10个字哟)" required ng-minlength="10" ng-model="blockForm.content"></form><div class="divider"></div><div ng-click="showPictureAttach = !showPictureAttach" class="text-right text-small"><a href="" class="btn btn-line-primary btn-xs">上传图片</a><span class="caret"></span></div><div class="divider"></div><div ng-show="showPictureAttach"><div class="form-group"><div><div class="drop-box clearfix" nv-file-drop="" uploader="pictureAttachmentsUpload"><span class="file-input-wrapper btn btn-default  btn-primary btn-sm">上传图片<input type="file" nv-file-select uploader="pictureAttachmentsUpload"/></span><span class="text-primary">或者拖拽图片到这里<small class="text-danger">(支持jpg、gif、png格式的图片，文件小于512K)</small></span></div><div class="divider"></div><div class="row"><div ng-repeat="item in pictureAttachmentsUpload.queue" class="gallery-box"><span class="title">{$ item.file.name $}</span><div class="thumbnail"><div ng-show="pictureAttachmentsUpload.isHTML5"ng-thumb="{ file: item._file, height: 100 }"></div></div><div class="progressbar-xs progress-striped"><div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0"aria-valuemax="100" ng-style="{ \'width\': item.progress + \'%\' }"style="width: 100%;"></div></div><div class="divider"></div><div class="text-center"><button type="button" class="btn btn-primary btn-xs" ng-click="item.upload()"ng-disabled="item.isReady || item.isUploading || item.isSuccess || waitForCreateDraft "><span class="glyphicon glyphicon-upload"></span> 上传</button><div class="space"></div><button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()"><span class="glyphicon glyphicon-trash"></span> 删除</button></div></div></div><div><div>总进度:<div class="progressbar-xs progress-striped"><div class="progress-bar" role="progressbar"ng-style="{ \'width\': pictureAttachmentsUpload.progress + \'%\' }"></div></div></div><div class="divider"></div><button type="button" class="btn btn-primary btn-sm"ng-click="pictureAttachmentsUpload.uploadAll()"ng-disabled="!pictureAttachmentsUpload.getNotUploadedItems().length || waitForCreateDraft"><span class="glyphicon glyphicon-upload"></span> 上传全部</button><button type="button" class="btn btn-warning btn-sm"ng-click="pictureAttachmentsUpload.cancelAll()"ng-disabled="!pictureAttachmentsUpload.isUploading"><span class="glyphicon glyphicon-ban-circle"></span> 取消上传</button><button type="button" class="btn btn-danger btn-sm"ng-click="pictureAttachmentsUpload.clearQueue()"ng-disabled="!pictureAttachmentsUpload.queue.length"><span class="glyphicon glyphicon-trash"></span> 删除全部</button></div></div></div></div><div class="divider"></div><div class="text-right"><button class="btn btn-primary btn-gap" ng-click="commitBlockUpdate()" ng-disabled="commitButtonClicked || blockForm.$invalid"><i class="fa fa-spinner fa-spin" ng-show="commitButtonClicked"></i>&nbsp;提交</button><button class="btn btn-default btn-gap" ng-click="toggle()">取消</button></div><div class="divider"></div><div class="text-right"><a href="" ng-click="toggle()"><i class="fa fa-angle-double-up"></i>收起</a></div></div></div><div class="divider-lg"></div>', G = '<div class="actionbar-arrow" ng-show="showContent"></div>', H = !1, I = null, J = null, K = !1, L = null, M = null, N = m.defer(), O = null;
            p.$observe("fdBlockId", function (a) {
                z = a
            }), p.$observe("fdBlockPendingCount", function (a) {
                A = parseInt(a)
            }), j.getBarName = function () {
                return H ? "收起更正" : A ? A + "条未处理更正" : "更正"
            }, j.getUpdatesId = function (a) {
                return "blockId" + z + "UpdateId" + a
            }, j.getUserCommunitiesAvatar = function (a) {
                return h.get("userCommunitiesAvatar", {userCommunitiesAvatar: a})
            }, j.markdownContent = function (a) {
                return J.constructor.markdown(a)
            }, j.toggle = function () {
                j.showContent ? x() : (r(), v())
            }, j.isSupervisors = function (a) {
                return -1 === a.indexOf(j.getCurrentLoginUser().uid) ? !1 : !0
            }, j.approveBlockUpdate = function (a) {
                var b = null;
                if (b)throw new Error("Trying to open a dialog that is already open!");
                b = i.open({
                    templateUrl: "template/fenby3/confirmModal.tpl.html",
                    controller: "comfirmModal",
                    backdrop: !1,
                    size: "sm",
                    resolve: {
                        modalObject: function () {
                            return {title: "接受更正", content: "你确定要接受这条更正吗？"}
                        }
                    }
                }), I.acceptButtonClicked = !0, b.result.then(function () {
                    d.specialsave({resourceName: "blocks", id: a, AlternateResourceName: "accept"}).$then(function () {
                        I.acceptButtonClicked = !1, g.logSuccess("成功更新课程"), n.location.reload(!0)
                    }, function () {
                        I.acceptButtonClicked = !1, console.log("accpet error")
                    })
                }, function () {
                })
            }, j.rejectBlockUpdate = function (a) {
                var b = null;
                if (b)throw new Error("Trying to open a dialog that is already open!");
                b = i.open({
                    templateUrl: "template/fenby3/confirmModal.tpl.html",
                    controller: "comfirmModal",
                    backdrop: !1,
                    size: "sm",
                    resolve: {
                        modalObject: function () {
                            return {title: "拒绝更正", content: "你确定要拒绝这条更正吗？"}
                        }
                    }
                }), I.rejectButtonClicked = !0, b.result.then(function () {
                    d.specialsave({resourceName: "blocks", id: a, AlternateResourceName: "reject"}).$then(function () {
                        I.rejectButtonClicked = !1;
                        var b;
                        for (b in I.blockUpdates)I.blockUpdates[b].uid === a && (I.blockUpdates.splice(b, 1), A -= 1);
                        g.logSuccess("已拒绝这条更正")
                    }, function () {
                        I.rejectButtonClicked = !1, console.log("reject error")
                    })
                }, function () {
                })
            }, j.commitBlockUpdate = function () {
                w(!1)
            }, j.removeOwnerUpdate = function (a) {
                var b = null;
                if (b)throw new Error("Trying to open a dialog that is already open!");
                b = i.open({
                    templateUrl: "template/fenby3/confirmModal.tpl.html",
                    controller: "comfirmModal",
                    backdrop: !1,
                    size: "sm",
                    resolve: {
                        modalObject: function () {
                            return {title: "删除更正", content: "你确定要删除这条更正吗？"}
                        }
                    }
                }), b.result.then(function () {
                    e.defaults.headers.common["X-CSRFToken"] = f.csrftoken;
                    var b = d.remove({resourceName: "blocks", id: a});
                    b.$then(function () {
                        var b;
                        for (b in I.blockUpdates)I.blockUpdates[b].uid === a && (I.blockUpdates.splice(b, 1), A -= 1);
                        g.logSuccess("亲,成功删除了更正!")
                    }, function () {
                        g.logError("亲,Fenby服务器拒绝这个操作哦!")
                    })
                }, function () {
                })
            }, j.$on("mouseEnter", function (a, b) {
                b === q.actionbarNumber() && (j.actionBarStyle = {visibility: "visible"})
            }), j.$on("mouseLeave", function (a, b) {
                b !== q.actionbarNumber() || H || (j.actionBarStyle = {visibility: "hidden"})
            }), j.actionbar = function () {
                return x()
            }, B = a(F), D = a(G)
        }
    }
}]).directive("fdBlockHistory", ["$compile", "$position", "$timeout", "Fenby3Api", "$http", "$cookies", "logger", "loadurladdress", "$modal", "$location", "$anchorScroll", "FileUploader", "$q", "$window", function (a, b, c, d, e, f, g, h) {
    return {
        restrict: "A",
        scope: !0,
        template: '<i class="fa fa-history" ng-style="actionBarStyle" style="visibility: hidden;"></i>&nbsp;<a href="" ng-click="toggle(); $event.stopPropagation();" ng-style="actionBarStyle" style="visibility: hidden;">{$ getBarName() $}</a>',
        require: "^actionbar",
        link: function (e, f, g, i) {
            function j() {
                i.hideOpened(e), v = !0, w = e.$new(), c(function () {
                    e.$apply(function () {
                        q = p(w, function () {
                        }), f.parent().parent().after(q), s = r(w, function () {
                        }), f.parent().parent().after(s);
                        var a = b.position(f), c = b.position(q), d = b.position(s);
                        s.css({left: a.left + a.width / 2, top: c.top - d.height + 1})
                    })
                }, 0).then(function () {
                    k(), e.showContent = !0
                })
            }

            function k() {
                var a = d.get({resourceName: "blocks", id: n});
                a.$then(function (a) {
                    x = a.data
                }, function () {
                    console.info("loadBlockContent error")
                })
            }

            function l() {
                return c(function () {
                    w.updatesPromise = d.queryforarray({
                        resourceName: "blocks",
                        id: n,
                        AlternateResourceName: "histories"
                    }).$then(function (a) {
                        w.blockUpdates = a.data, c(function () {
                            jQuery(".timeago").timeago(), e.refreshScene(n)
                        }, 0, !1)
                    }, function () {
                        console.info("getHistories error"), e.toggle()
                    })
                }, 0)
            }

            function m() {
                e.showContent = !1, v = !1, s && (s.remove(), s = null), q && (q.remove(), q = null), w && w.$destroy(), c(function () {
                    e.refreshScene(n)
                }, 0, !1)
            }

            e.showContent = !1, e.showActionBarCommon = !1, i.addAction(e);
            var n, o, p, q, r, s, t = '<div class="box box-bordered" style="margin-bottom:0px;padding-bottom: 0px;" ng-show="showContent" cg-busy="updatesPromise"><h4 class="text-center text-primary" ng-show="!blockUpdates.length">目前不存在任何历史版本...</h4> <div id="{$ getUpdatesId($index) $}" class="media box-content bottom-bordered" style="padding: 0px;border: none" ng-repeat="blockUpdate in blockUpdates" ng-mouseenter="actionBarStyle={\'visibility\': \'visible\'}" ng-mouseleave="actionBarStyle={\'visibility\': \'hidden\'}"><a href="javascript:;" class="pull-left" userpop="{$ blockUpdate.creator_detail.uid $}"><img ng-src="{$ blockUpdate.creator_detail.avatar_url_full $}" class="media-object img-rounded img40_40"></a><div class="media-body"><div class="divider"></div><p class="media-heading"><span><a href="" style="color: #259" userpop="{$ blockUpdate.creator_detail.uid $}">{$ blockUpdate.creator_detail.nickname $}</a></span><span class="space-md">该版本创建于<time class="timeago" datetime="{$ blockUpdate.created_on $}"></time></span><span class="space-md">并于<time class="timeago" datetime="{$ blockUpdate.updated_on $}"></time>被关闭</span><span class="space-md" style="overflow-x:auto">关闭原因为:<span class="text-danger">{$ getCloseReason(blockUpdate.uid) $}</span></span></p><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">{$ getBlcokVersion(blockUpdate.level) $} &nbsp;&nbsp;{$ blockUpdate.description $}</h3></div><div class="panel-body"><p style="color:black;" ng-bind-html=" markdownContent(blockUpdate.content) "></p></div></div></div></div></div><div class="divider-lg"></div>', u = '<div class="actionbar-arrow" ng-show="showContent"></div>', v = !1, w = null, x = null;
            g.$observe("fdBlockId", function (a) {
                n = a
            }), g.$observe("fdBlockRevisionCount", function (a) {
                o = parseInt(a)
            }), e.getBarName = function () {
                return v ? "收起历史版本" : o ? o + "个历史版本" : "无历史版本"
            }, e.getUpdatesId = function (a) {
                return "blockId" + n + "UpdateId" + a
            }, e.getUserCommunitiesAvatar = function (a) {
                return h.get("userCommunitiesAvatar", {userCommunitiesAvatar: a})
            }, e.getCloseReason = function (a) {
                var b = [];
                if (x.parent === a)return x.description;
                for (var c = 0; c < w.blockUpdates.length; c++)b.push(w.blockUpdates[c].parent);
                return -1 !== b.indexOf(a) ? w.blockUpdates[b.indexOf(a)].description : void 0
            }, e.markdownContent = function (a) {
                return window.marked ? (marked.setOptions({
                    highlight: function (a) {
                        return hljs.highlightAuto(a).value
                    }
                }), marked(a)) : void 0
            }, e.getBlcokVersion = function (a) {
                return 0 == a ? "初始版本" : "第" + a + "版"
            }, e.toggle = function () {
                e.showContent ? m() : (j(), l())
            }, e.isSupervisors = function (a) {
                return -1 === a.indexOf(e.getCurrentLoginUser().uid) ? !1 : !0
            }, e.$on("mouseEnter", function (a, b) {
                b === i.actionbarNumber() && (e.actionBarStyle = {visibility: "visible"})
            }), e.$on("mouseLeave", function (a, b) {
                b !== i.actionbarNumber() || v || (e.actionBarStyle = {visibility: "hidden"})
            }), e.actionbar = function () {
                return m()
            }, p = a(t), r = a(u)
        }
    }
}]), angular.module("fenby3.popresourcecontent", []).provider("PopResourceContent", function () {
    this.$get = ["loadurladdress", function (a) {
        return function (b, c) {
            function d(a, b, c) {
                if (isNaN(b))return a;
                if (0 >= b)return "";
                if (a && a.length > b) {
                    if (a = a.substring(0, b), c)for (; " " === a.charAt(a.length - 1);)a = a.substr(0, a.length - 1); else {
                        var d = a.lastIndexOf(" ");
                        -1 !== d && (a = a.substr(0, d))
                    }
                    return a + "..."
                }
                return a
            }

            return "tags" === b ? "<div class='panel panel-info'><div class='panel-heading'>" + c.name + "</div><div class='panel-body'>" + d(c.intro, 100, !0) + "</div><div class='panel-footer text-right'><a class='btn btn-info' href='" + a.get("tagDetailUrl", {tagSlug: c.slug}) + "'target='_blank'>详细</a></div></div>" : "users" === b ? '<div class="panel panel-profile" ng-init="currentUsercardUser.uid=\'' + c.uid + "';currentUsercardUser.nickname='" + c.profile.nickname + '\'"><div class="panel-heading bg-primary clearfix" style="min-width: 400px"><a href="" class="pull-left profile"><img src="' + c.profile.avatar_url_full + '" class="media-object img-rounded img40_40"></a><span class="pull-right">注册于' + c.created_on + "</span><h4>" + c.profile.nickname + '</h4><span class="pull-right"><i class="fa fa-comments-o size-h3 " tooltip="私信" style="cursor: pointer" ng-click="usercardSendMsg()"></i><div class="space"></div><button  ng-style="followButtonStyle" style="visibility: hidden;" class="btn btn-danger" ng-click="toggleFollow()">{$ getButtonName() $}</button></span><span><h5>' + c.profile.intro + '</h5></span></div><div class="divider divider"></div></div>' : void 0
        }
    }]
}).directive("compilecontent", ["$compile", function (a) {
    return function (b, c, d) {
        b.$watch(function (a) {
            return a.$eval(d.compilecontent)
        }, function (d) {
            c.html(d), a(c.contents())(b)
        })
    }
}]), angular.module("fenby3.userpop", ["fenby3.f3tooltip"]).directive("userpopPopup", ["$modal", "logger", "Fenby3Api", "$http", "$cookies", "$timeout", function (a, b, c, d, e, f) {
    return {
        restrict: "EA",
        replace: !0,
        scope: {title: "@", content: "@", placement: "@", animation: "&", isOpen: "&"},
        templateUrl: "template/fenby3/generalpop.html",
        link: function (g) {
            function h(a) {
                var f = new c({resourceName: "users", id: g.currentUsercardUser.uid, AlternateResourceName: a});
                d.defaults.headers.common["X-CSRFToken"] = e.csrftoken, f.$specialsave().$then(function () {
                    "unfollow" === a ? (j = !1, b.logSuccess("亲,成功取消对<<" + g.currentUsercardUser.nickname + ">>的关注!")) : (j = !0, b.logSuccess("亲,成功关注<<" + g.currentUsercardUser.nickname + ">>"))
                }, function () {
                    b.logError("亲,Fenby服务器拒绝这个操作哦!")
                })
            }

            function i() {
                var a;
                a = c.get({
                    resourceName: "users",
                    id: g.currentUsercardUser.uid,
                    AlternateResourceName: "is_following"
                }), a.$then(function (a) {
                    j = a.data.message ? !0 : !1, g.followButtonStyle = {visibility: "visible"}
                })
            }

            var j = !1;
            g.currentUsercardUser = {}, g.showUsercardMore = !1, g.displayFollowButtonName = !1, g.getButtonName = function () {
                return j ? "取消关注" : " 关注 "
            }, g.toggleFollow = function () {
                h(j ? "unfollow" : "follow")
            }, f(function () {
                i()
            }, 0), g.usercardSendMsg = function () {
                var c;
                c = a.open({
                    templateUrl: "template/fenby3/usercardsendmsg.tpl.html",
                    backdrop: !0,
                    controller: "usercardSendMsgCtrl",
                    scope: g,
                    resolve: {
                        currentUsercardUser: function () {
                            return g.currentUsercardUser
                        }
                    }
                }), c.result.then(function () {
                    b.logSuccess("亲,消息已成功发送!")
                }, function (a) {
                    "cancel" !== a && "backdrop click" !== a && b.logError("亲,消息发送失败!因为" + a)
                })
            }
        }
    }
}]).directive("userpop", ["$f3tooltip", function (a) {
    return a("userpop", "userpop", "mouseenter", "users")
}]).controller("usercardSendMsgCtrl", ["$scope", "$modalInstance", "Fenby3Api", "$http", "$cookies", "currentUsercardUser", function (a, b, c, d, e, f) {
    a.sendMsgForm = {}, a.sendToUserNickname = function () {
        return f.nickname
    }, a.usercardSendMsg = function () {
        var g = new c({resourceName: "messages"});
        d.defaults.headers.common["X-CSRFToken"] = e.csrftoken, f.parentId && (g.parent = f.parentId), g.recipient = f.uid, g.content = a.sendMsgForm.form.content, g.$save().$then(function () {
            b.close("success")
        }, function (a) {
            b.dismiss(a.statusText)
        })
    }
}]), angular.module("fenby3.tagpop", ["fenby3.f3tooltip"]).directive("tagpopPopup", function () {
    return {
        restrict: "EA",
        replace: !0,
        scope: {title: "@", content: "@", placement: "@", animation: "&", isOpen: "&"},
        templateUrl: "template/fenby3/generalpop.html"
    }
}).directive("tagpop", ["$f3tooltip", function (a) {
    return a("tagpop", "tagpop", "mouseenter", "tags")
}]), angular.module("fenby3.f3tooltip", ["ui.bootstrap.position", "ui.bootstrap.bindHtml"]).provider("$f3tooltip", function () {
    function a(a) {
        var b = /[A-Z]/g, c = "-";
        return a.replace(b, function (a, b) {
            return (b ? c : "") + a.toLowerCase()
        })
    }

    var b = {placement: "top", animation: !0, popupDelay: 0}, c = {
        mouseenter: "mouseleave",
        click: "click",
        focus: "blur"
    }, d = {};
    this.options = function (a) {
        angular.extend(d, a)
    }, this.setTriggers = function (a) {
        angular.extend(c, a)
    }, this.$get = ["$window", "$compile", "$timeout", "$parse", "$document", "$position", "$interpolate", "Fenby3Api", "PopResourceContent", function (e, f, g, h, i, j, k, l, m) {
        return function (n, o, p, q) {
            function r(a) {
                var b = a || s.trigger || p, d = c[b] || b;
                return {show: b, hide: d}
            }

            var s = angular.extend({}, b, d), t = a(n), u = k.startSymbol(), v = k.endSymbol(), w = "<div " + t + '-popup title="' + u + "tt_title" + v + '" content="' + u + "tt_content" + v + '" placement="' + u + "tt_placement" + v + '" animation="tt_animation" is-open="tt_isOpen"></div>';
            return {
                restrict: "EA", scope: !0, compile: function () {
                    var a = f(w);
                    return function (b, c, d) {
                        function f() {
                            b.tt_isOpen ? p() : k()
                        }

                        function k() {
                            (!G || b.$eval(d[o + "Enable"])) && (C || (C = g(function () {
                                D = l.get({resourceName: q, id: H}), D.$then(function (a) {
                                    return b.tt_content = m(q, a.data)
                                }).then(function () {
                                    return g(function () {
                                        v()()
                                    }, 0)
                                }, function (a) {
                                    return b.tt_content = "<div class='panel panel-danger'><div class='panel-heading'>亲,网络有点问题!</div><div class='panel-body'>" + a.data + "</div></div>", g(function () {
                                        v()()
                                    }, 0)
                                })
                            }, 500, !1)))
                        }

                        function p() {
                            b.$apply(function () {
                                w()
                            })
                        }

                        function t() {
                            z || (g.cancel(C), g.cancel(B), p()), b.$broadcast("element_mouseleave")
                        }

                        function u() {
                            I = !0
                        }

                        function v() {
                            return B = null, C = null, A && (g.cancel(A), A = null), b.tt_content ? (x(), z.css({
                                top: 0,
                                left: 0,
                                display: "block"
                            }), E ? i.find("body").append(z) : c.after(z), J(), z.bind("mouseleave", p), z.bind("mouseenter", u), b.tt_isOpen = !0, b.$digest(), J) : angular.noop
                        }

                        function w() {
                            I = !1, b.tt_isOpen = !1, g.cancel(B), B = null, g.cancel(C), C = null, b.tt_animation ? A || (A = g(y, 500)) : y()
                        }

                        function x() {
                            z && y(), z = a(b, function () {
                                b.$on("element_mouseleave", function () {
                                    g(function () {
                                        I || w()
                                    }, 500)
                                })
                            }), b.$digest()
                        }

                        function y() {
                            A = null, z && (z.remove(), z = null)
                        }

                        var z, A, B, C, D, E = angular.isDefined(s.appendToBody) ? s.appendToBody : !0, F = r(void 0), G = angular.isDefined(d[o + "Enable"]), H = "", I = !1, J = function () {
                            var a, d = j.offset(c), f = j.offset(z);
                            return e.innerWidth < 500 ? (p(), angular.noop) : (d.left < f.width / 2 ? (b.tt_placement = "right", a = j.positionElements(c, z, b.tt_placement, E)) : e.innerWidth - (d.left + d.width) < f.width ? (b.tt_placement = "left", a = j.positionElements(c, z, b.tt_placement, E)) : e.innerHeight - (d.top + d.height) < f.height ? (b.tt_placement = "top", a = j.positionElements(c, z, b.tt_placement, E)) : (b.tt_placement = "bottom", a = j.positionElements(c, z, b.tt_placement, E)), a.top += "px", a.left += "px", void z.css(a))
                        };
                        b.tt_isOpen = !1, d.$observe(n, function (a) {
                            b.tt_content = a, H = a, !a && b.tt_isOpen && w()
                        }), d.$observe(o + "Title", function (a) {
                            b.tt_title = a
                        }), d.$observe(o + "Placement", function (a) {
                            b.tt_placement = angular.isDefined(a) ? a : s.placement
                        }), d.$observe(o + "PopupDelay", function (a) {
                            var c = parseInt(a, 10);
                            b.tt_popupDelay = isNaN(c) ? s.popupDelay : c
                        });
                        var K = function () {
                            c.unbind(F.show, k), c.unbind(F.hide, p)
                        };
                        d.$observe(o + "Trigger", function (a) {
                            K(), F = r(a), F.show === F.hide ? c.bind(F.show, f) : (c.bind(F.show, k), c.bind(F.hide, t))
                        });
                        var L = b.$eval(d[o + "Animation"]);
                        b.tt_animation = angular.isDefined(L) ? !!L : s.animation, d.$observe(o + "AppendToBody", function (a) {
                            E = angular.isDefined(a) ? h(a)(b) : E
                        }), E && b.$on("$locationChangeSuccess", function () {
                            b.tt_isOpen && w()
                        }), b.$on("$destroy", function () {
                            g.cancel(A), g.cancel(B), g.cancel(C), K(), y()
                        })
                    }
                }
            }
        }
    }]
}), angular.module("fenby3.sidebar", []).directive("toggleMinNav", ["$rootScope", function (a) {
    return {
        restrict: "A", link: function (b, c) {
            var d, e, f, g;
            return f = $("#f3App"), d = $(window), c.on("click", function (b) {
                return f.hasClass("nav-min") ? f.removeClass("nav-min") : (f.addClass("nav-min"), a.$broadcast("minNav:enabled")), b.preventDefault()
            }), e = void 0, g = function () {
                var a;
                return a = d.width(), 768 > a ? f.removeClass("nav-min") : void 0
            }, f.addClass("nav-min"), a.$broadcast("minNav:enabled"), d.resize(function () {
                var a;
                return clearTimeout(a), a = setTimeout(g, 300)
            })
        }
    }
}]).directive("collapseNav", [function () {
    return {
        restrict: "A", link: function (a, b) {
            var c, d, e, f, g;
            return e = b.find("ul").parent("li"), e.append('<i class="fa fa-caret-right icon-has-ul"></i>'), c = e.children("a"), f = b.children("li").not(e), d = f.children("a"), g = $("#f3App"), c.on("click", function (a) {
                var b, c;
                return g.hasClass("nav-min") ? !1 : (c = $(this), b = c.parent("li"), e.not(b).removeClass("open").find("ul").slideUp(), b.toggleClass("open").find("ul").slideToggle(), a.preventDefault())
            }), d.on("click", function () {
                return e.removeClass("open").find("ul").slideUp()
            }), a.$on("minNav:enabled", function () {
                return e.removeClass("open").find("ul").slideUp()
            })
        }
    }
}]).directive("highlightActive", [function () {
    return {
        restrict: "A", controller: ["$scope", "$element", "$attrs", "$location", function (a, b, c, d) {
            var e, f, g;
            return f = b.find("a"), g = function () {
                return d.path()
            }, e = function (a, b) {
                return b = "#" + b, angular.forEach(a, function (a) {
                    var c, d, e;
                    return d = angular.element(a), c = d.parent("li"), e = d.attr("href"), c.hasClass("active") && c.removeClass("active"), 0 === b.indexOf(e) ? c.addClass("active") : void 0
                })
            }, e(f, d.path()), a.$watch(g, function (a, b) {
                return a !== b ? e(f, d.path()) : void 0
            })
        }]
    }
}]).directive("toggleOffCanvas", [function () {
    return {
        restrict: "A", link: function (a, b) {
            return b.on("click", function () {
                return $("#f3App").toggleClass("on-canvas")
            })
        }
    }
}]).directive("slimScroll", [function () {
    return {
        restrict: "A", link: function (a, b) {
            return b.slimScroll({height: "100%"})
        }
    }
}]), angular.module("fenby3.images", []).directive("ngThumb", ["$window", function (a) {
    var b = {
        support: !(!a.FileReader || !a.CanvasRenderingContext2D), isFile: function (b) {
            return angular.isObject(b) && b instanceof a.File
        }, isImage: function (a) {
            var b = "|" + a.type.slice(a.type.lastIndexOf("/") + 1) + "|";
            return -1 !== "|jpg|png|jpeg|bmp|gif|".indexOf(b)
        }
    };
    return {
        restrict: "A", template: "<canvas/>", link: function (a, c, d) {
            function e(a) {
                var b = new Image;
                b.onload = f, b.src = a.target.result
            }

            function f() {
                var a = g.width || this.width / this.height * g.height, b = g.height || this.height / this.width * g.width;
                h.attr({width: a, height: b}), h[0].getContext("2d").drawImage(this, 0, 0, a, b)
            }

            if (b.support) {
                var g = a.$eval(d.ngThumb);
                if (b.isFile(g.file) && b.isImage(g.file)) {
                    var h = c.find("canvas"), i = new FileReader;
                    i.onload = e, i.readAsDataURL(g.file)
                }
            }
        }
    }
}]), angular.module("fenby3.basesite", []).controller("NotifyCtrl", ["$scope", "$rootScope", "logger", function (a, b, c) {
    var d = {};
    return a.$on("userLogin", function (a, b) {
        d = b
    }), a.$on("userLogout", function () {
        d = {}
    }), a.getCurrentLoginUser = function () {
        return d
    }, a.notify = function (a) {
        switch (a) {
            case"info":
                return c.log("这是一个提示信息！");
            case"success":
                return c.logSuccess("这是一个成功信息！");
            case"warning":
                return c.logWarning("这是一个警告提示！");
            case"error":
                return c.logError("这是一个错误信息！")
        }
    }
}]).controller("PageLoaderCtrl", ["$scope", "$timeout", function () {
    angular.element(document).ready(function () {
        jQuery("#page-loading").fadeOut("slow", function () {
            jQuery("#page-container").css("visibility", "visible"), jQuery("#page-container").fadeIn("fast")
        })
    })
}]).controller("HeaderCtrl", ["$scope", function () {
}]).controller("SignupFormCtrl", ["$scope", "$http", "$window", "$timeout", function (a, b, c, d) {
    function e() {
        a.register_valid_form.email.$valid && !a.register_valid_form.email.$pristine && a.register_valid_form.password1.$valid && !a.register_valid_form.password1.$pristine && a.register_valid_form.password2.$valid && !a.register_valid_form.password2.$pristine ? (a.register_valid_form.$valid = !1, a.register_valid_form.$invalid = !1) : (a.register_valid_form.$valid = !1, a.register_valid_form.$invalid = !0)
    }

    function f() {
        if (a.register.email) {
            var c = {};
            c.value = a.register.email, h || d.cancel(h), h = d(function () {
                b({
                    method: "post",
                    url: "/validator/email/",
                    data: $.param(c),
                    headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"}
                }).success(function (b) {
                    "valid" !== b.status || a.register_valid_form.email.$pristine ? (a.register_valid_form.email.$error.pattern = !0, console.log(a.register_valid_form.email.$error.email), a.register_valid_form.email.$invalid = !0, a.register_valid_form.email.$valid = !1) : (a.register_valid_form.email.$invalid = !1, a.register_valid_form.email.$valid = !0), e()
                })
            }, 500)
        }
    }

    function g() {
        a.register.password1 == a.register.password2 && a.register.password1 && a.register.password2 ? (a.register_valid_form.password1.$valid = !0, a.register_valid_form.password2.$valid = !0, a.register_valid_form.password1.$invalid = !1, a.register_valid_form.password2.$invalid = !1, e()) : (a.register_valid_form.password1.$valid = !1, a.register_valid_form.password2.$valid = !1, a.register_valid_form.password1.$invalid = !0, a.register_valid_form.password2.$invalid = !0, e())
    }

    {
        var h;
        a.$watch("register.email", f), a.$watch("register.password1", g), a.$watch("register.password2", g)
    }
}]).controller("AttachmentDownLoad", ["$scope", "Fenby3Api", "$window", function (a, b, c) {
    a.getFileDownLoad = function (a) {
        b.get({resourceName: "attachments", id: a}).$then(function (a) {
            c.location = a.data.oss_url
        }, function () {
            console.info("getFileDownLoad Error")
        })
    }
}]).controller("comfirmModal", ["$scope", "$modalInstance", "modalObject", function (a, b, c) {
    a.modalTitle = c.title, a.modalContent = c.content
}]).controller("ModalInstanceSectionCtrl", ["$scope", "$modalInstance", "modalObject", "Fenby3Api", "$http", "$cookies", "$timeout", "logger", "loadurladdress", function (a, b, c, d, e, f, g, h, i) {
    function j(a) {
        var b = [];
        if (a) {
            for (var c = 0; c < a.length; c++)console.info("id:indata[i].target_object_id", a[c].target_object_id), b.push({
                id: a[c].target_object_id,
                title: a[c].target_object_description,
                crossreferencesId: a[c].uid,
                creatorId: a[c].creator_detail.uid
            });
            return b
        }
        return b
    }

    function k(b) {
        g(function () {
            a.sectionBlocksPromise = d.queryforarray({
                resourceName: "sections",
                id: b,
                AlternateResourceName: "supervisors"
            }).$then(function (b) {
                u = b.data, a.isSupervisor = -1 != u.indexOf(a.currentLoginUserId) ? !0 : !1
            }, function () {
                console.info("亲,Fenby服务器拒绝这个操作哦!")
            })
        }, 0, !1)
    }

    function l(b) {
        g(function () {
            a.currentTOCPromise = d.queryforarray({
                resourceName: "courses",
                id: b,
                AlternateResourceName: "toc"
            }).$then(function (b) {
                a.tableOfCourse = b.data
            }, function () {
                console.info("亲,Fenby服务器拒绝这个操作哦!")
            })
        }, 0, !1)
    }

    function m() {
        g(function () {
            a.currentRelatedSectionsPromise = d.queryforarray({
                resourceName: "crossreferences",
                source_content_type: c.objectContent.source_content_type,
                source_object_id: c.objectContent.source_object_id
            }).$then(function (b) {
                a.currentRelatedSections[0].items = j(b.data)
            }, function () {
                console.info("getRelatedSections errors")
            })
        }, 0, !1)
    }

    function n() {
        g(function () {
            a.pendingRelatedSectionsPromise = d.queryforarray({
                resourceName: "crossreferences",
                id: "pending",
                source_content_type: c.objectContent.source_content_type,
                source_object_id: c.objectContent.source_object_id
            }).$then(function (b) {
                a.selectedSections[0].items = j(b.data)
            }, function () {
                console.info("getPendingRelatedSections errors")
            })
        }, 0, !1)
    }

    function o(b) {
        a.sectionBlocksPromise = d.query({resourceName: "sections", id: b}).$then(function (b) {
            a.modalContent.title = b.data.title, a.modalContent.blocks = b.data.blocks, g(function () {
                r && p()
            }, 0, !1)
        }, function () {
            console.info("亲,Fenby服务器拒绝这个操作哦!")
        })
    }

    function p() {
        function b(a) {
            return /^(GET|HEAD|OPTIONS|TRACE)$/.test(a)
        }

        $.ajaxSetup({
            beforeSend: function (a, c) {
                b(c.type) || this.crossDomain || a.setRequestHeader("X-CSRFToken", f.csrftoken)
            }
        });
        for (var c = 0; c < a.modalContent.blocks.length; c++)$("#modalBlockId" + a.modalContent.blocks[c].uid).annotator().data("annotator").addPlugin("Store", {
            prefix: "/api",
            annotationData: {block: a.modalContent.blocks[c].uid.toString()},
            loadFromSearch: {limit: 10, block_uid: a.modalContent.blocks[c].uid.toString()}
        }).addPlugin("Permissions", {
            user: r,
            permissions: {read: [], update: [r], "delete": [r], admin: [r]},
            showViewPermissionsCheckbox: !0,
            showEditPermissionsCheckbox: !1
        }).addPlugin("Unsupported", {message: "对不起,你的浏览器太老了,不支持笔记哟,快升级浏览器吧..."}).addPlugin("Tags").addPlugin("Touch", {})
    }

    function q(b) {
        var g = new d({
            resourceName: "crossreferences",
            source_content_type: c.objectContent.source_content_type,
            source_object_id: c.objectContent.source_object_id,
            target_content_type: i.get("section_content_type"),
            target_object_id: b.id
        });
        e.defaults.headers.common["X-CSRFToken"] = f.csrftoken, a.commitRelatedSections = g.$save().$then(function (b) {
            var c = [];
            return c.push(b.data), console.info("commitRelatedSections success tempArray is ", c), b.data.is_active ? (a.currentRelatedSections[0].items = a.currentRelatedSections[0].items.concat(j(c)), h.logSuccess("已成功关联知识点")) : "S" === b.data.status && (a.selectedSections[0].items = a.selectedSections[0].items.concat(j(c)), h.logSuccess("已成功提交知识点关联申请,请等待课程作者审核")), !0
        }, function () {
            return console.info("commitRelatedSections errors"), h.logError("提交关联知识点失败!"), !1
        })
    }

    var r = c.objectContent.currentUser.nickname, s = !0, t = null, u = null;
    switch (a.isSupervisor = !1, a.currentLoginUserId = c.objectContent.currentUser.uid, c.type) {
        case"viewRelatedSection":
            a.needActionBar = !0, a.needCreateContent = !1, a.needGotoSectionButton = !0, a.gotoSectionUrl = c.objectContent.sectionUrl, a.modalTitle = c.objectContent.title, o(c.objectContent.sectionUid);
            break;
        case"createRelatedSection":
            a.needActionBar = !1, a.needCreateContent = !0, a.modalTitle = c.objectContent.title, k(c.objectContent.sectionUid), l(c.objectContent.currentCourseUid), m(c.objectContent.sectionUid), n(c.objectContent.sectionUid);
            break;
        case"viewTOCSection":
            a.needActionBar = !0, a.needCreateContent = !1, a.needGotoSectionButton = !0, a.gotoSectionUrl = c.objectContent.sectionUrl, a.modalTitle = c.objectContent.title, o(c.objectContent.sectionUid)
    }
    a.modalContent = {title: null, blocks: []}, a.selectedSections = [{
        id: "topnode",
        items: [],
        title: "待审核的关联知识点",
        track: {}
    }], a.currentRelatedSections = [{
        id: "topnode",
        items: [],
        title: "已关联的知识点",
        track: {}
    }], a.commitButtonClicked = !1, a.tree1Options = {
        accept: function () {
            return !1
        }, beforeDrag: function (b) {
            return a.modalContent.title !== b.$modelValue.title && (t = g(function () {
                o(b.$modelValue.id)
            }, 500, !1)), !0
        }, dragStart: function (a) {
            g.cancel(t), a.elements.placeholder.replaceWith(a.elements.dragging.clone().find("li"))
        }, dropped: function (b) {
            console.info("in dropped callback"), s = !0;
            var c = angular.copy(b.source.nodeScope.$modelValue);
            for (var d in b.source.nodesScope.$modelValue)if (b.source.nodesScope.$modelValue[d].id === b.source.nodeScope.$modelValue.id)return !0;
            console.info("e.source.nodesScope", b.source.nodesScope), b.source.nodesScope.$modelValue.splice(b.source.index, 0, c), q(b.source.nodeScope.$modelValue) || a.selectedSections[0].items.splice(b.dest.index, 1)
        }
    }, a.tree2Options = {
        accept: function (a, b) {
            if (b.depth() < 1)return !1;
            for (var d in b.$modelValue)if (a.$modelValue.id === b.$modelValue[d].id)return s && (h.logError("重复提交,已关联该知识点"), s = !1), !1;
            return a.$modelValue.id === c.objectContent.sectionUid ? (s && (h.logError("知识点不能关联自己!"), s = !1), !1) : !0
        }
    }, a.tree3Options = {
        accept: function () {
            return !1
        }
    }, a.rejectPendingSection = function (b) {
        a.commitRelatedSections = d.specialsave({
            resourceName: "crossreferences",
            id: b.$modelValue.crossreferencesId,
            AlternateResourceName: "reject"
        }).$then(function () {
            b.remove(), h.logSuccess("审核拒绝,已删除该关联知识点")
        }, function () {
            h.logError("审核失败,请重试!")
        })
    }, a.acceptPendingSection = function (b) {
        a.commitRelatedSections = d.specialsave({
            resourceName: "crossreferences",
            id: b.$modelValue.crossreferencesId,
            AlternateResourceName: "accept"
        }).$then(function () {
            a.currentRelatedSections[0].items.push(b.$modelValue), b.remove(), h.logSuccess("审核通过,已成功添加该关联知识点")
        }, function () {
            h.logError("审核失败,请重试!")
        })
    }, a.addToRelatedSections = function (b) {
        if (console.info("in addToRelatedSections function"), b.$modelValue.id === c.objectContent.sectionUid)return void h.logError("知识点不能关联自己!");
        for (var d in a.selectedSections[0].items)if (b.$modelValue.id === a.selectedSections[0].items[d].id)return void h.logError("重复提交,已提交该知识点关联申请,请耐心等待审核");
        for (var d in a.currentRelatedSections[0].items)if (b.$modelValue.id === a.currentRelatedSections[0].items[d].id)return void h.logError("重复提交,已关联该知识点");
        q(b.$modelValue)
    }, a.removePendingSection = function (b) {
        e.defaults.headers.common["X-CSRFToken"] = f.csrftoken;
        var c = d.remove({resourceName: "crossreferences", id: b.$modelValue.crossreferencesId});
        a.commitRelatedSections = c.$then(function () {
            b.remove(), h.logSuccess("亲,成功删除了待审核的关联知识点!")
        }, function () {
            h.logError("亲,Fenby服务器拒绝这个操作哦!")
        })
    }, a.markdownContent = function (a) {
        return window.marked ? (marked.setOptions({
            highlight: function (a) {
                return hljs.highlightAuto(a).value
            }
        }), marked(a)) : void 0
    }, a.refreshScene = function () {
        angular.noop
    }, a.getCurrentLoginUser = function () {
        return c.objectContent.currentUser
    }, a.treeviewToggle = function (a) {
        a.toggle()
    }, a.displaySectionInterview = function (a) {
        o(a.$modelValue.id)
    }
}]).controller("lightningCompileCtrl", ["$scope", "$modal", function (a, b) {
    var c = null;
    a.openLighteningCompile = function () {
        c ? console.error("已经打开闪电编程窗口") : (c = b.open({
            templateUrl: "template/fenby3/courses/modalDialogLighteningCompile.html",
            controller: "ModalInstanceLighteningCompileCtrl",
            backdrop: "static",
            size: "lg",
            resolve: {
                modalObject: function () {
                    return {type: "common", objectContent: {title: "闪电编程", currentUser: a.getCurrentLoginUser()}}
                }
            }
        }), c.result.then(function () {
            c = null
        }, function () {
            c = null
        }))
    }
}]).controller("ModalInstanceLighteningCompileCtrl", ["$scope", "$modalInstance", "modalObject", "Fenby3Api", "$http", "$cookies", "$timeout", "logger", "loadurladdress", "$ocLazyLoad", "$q", "$sce", "$window", function ($scope, $modalInstance, modalObject, Fenby3Api, $http, $cookies, $timeout, logger, loadurladdress, $ocLazyLoad, $q, $sce, $window) {
    function backendCodeListInit(a) {
        if (0 !== a.length) {
            for (var b = {
                MySQL: ["file.sql", 'create table myTable(name varchar(10));\ninsert into myTable values("Hello");\nselect * from myTable;', "sql"],
                Java: ["file.java", '/* package whatever; // don\'t place package name! */\n\nimport java.io.*;\n\nclass myCode\n{\n	public static void main (String[] args) throws java.lang.Exception\n	{\n		\n		System.out.println("Hello");\n	}\n}', "clike"],
                "C/C++": ["file.cpp", '#include <iostream>\nusing namespace std;\n\nint main() {\n	cout<<"Hello"<<endl;\n	return 0;\n}', "clike"],
                "C#": ["file.cs", 'using System;\n\npublic class Test\n{\n	public static void Main()\n	{\n			Console.WriteLine("Hello");\n	}\n}', "clike"],
                Clojure: ["file.clj", '(println "Hello")', "clojure"],
                Go: ["file.go", 'package main\nimport "fmt"\n\nfunc main(){\n  \n	fmt.Printf("Hello\\n")\n}', "go"],
                "Plain JavaScript": ["file.js", '//Not happy with Plain JS? Use JS/HTML/CSS option for using your own libraries.\n\nconsole.log("Hello");', "javascript"],
                PHP: ["file.php", '<?php\n$ho = fopen(\'php://stdout\', "w");\n\nfwrite($ho, "Hello\\n");\n\nfclose($ho);\n?>', "php"],
                Python: ["file.py", 'print "Hello"', "python"],
                Ruby: ["file.rb", 'puts "Hello"', "ruby"],
                Bash: ["file.sh", "echo 'Hi' ", "shell"],
                "Objective-C": ["file.m", '#include <Foundation/Foundation.h>\n\n@interface Test\n+ (const char *) classStringValue;\n@end\n\n@implementation Test\n+ (const char *) classStringValue;\n{\n    return "Hey!";\n}\n@end\n\nint main(void)\n{\n    printf("%s\\n", [Test classStringValue]);\n    return 0;\n}', "clike"],
                Scala: ["file.scala", 'object HelloWorld {def main(args: Array[String]) = println("Hello")}', "clike"],
                "VB.NET": ["file.vb", 'Imports System\n\nPublic Class Test\n	Public Shared Sub Main() \n    	System.Console.WriteLine("Hello")\n	End Sub\nEnd Class', "vb"]
            }, c = a, d = 0; d < c.length; d++)b.hasOwnProperty(c[d].name) && (c[d].template_files = [{
                file_name: b[c[d].name][0],
                source_code: b[c[d].name][1],
                editor_lang: b[c[d].name][2]
            }], c[d].origin_template_files = angular.copy(c[d].template_files));
            $scope.backendCodeLangList = c, $scope.codeSelectDisabled = !1
        }
    }

    function frontendCodeListInit(a) {
        if (console.info("remoteCodeList", a), 0 !== a.length) {
            for (var b = [{
                code: "javascript",
                name: "pure web javascript",
                template_files: [{
                    file_name: "file.js",
                    source_code: '//Not happy with Plain JS? Use JS/HTML/CSS option for using your own libraries.\n\nconsole.log("Hello");',
                    editor_lang: "javascript"
                }],
                origin_template_files: [{
                    file_name: "file.js",
                    source_code: '//Not happy with Plain JS? Use JS/HTML/CSS option for using your own libraries.\n\nconsole.log("Hello");',
                    editor_lang: "javascript"
                }]
            }, {
                code: "htmlmixed",
                name: "HTML/CSS/Javascript",
                template_files: [{
                    file_name: "index.html",
                    source_code: "<html>\n<head>\n</head>\n<body>\n<h1>Hello Fenby</h1>\n</body>\n</html>",
                    editor_lang: "htmlmixed"
                }, {
                    file_name: "app.js",
                    source_code: 'alert("Hello Fenby");',
                    editor_lang: "javascript"
                }, {file_name: "main.css", source_code: "h1 {\ncolor:blue;\n}", editor_lang: "css"}],
                origin_template_files: [{
                    file_name: "index.html",
                    source_code: "<html>\n<head>\n</head>\n<body>\n<h1>Hello Fenby</h1>\n</body>\n</html>",
                    editor_lang: "htmlmixed"
                }, {
                    file_name: "app.js",
                    source_code: 'alert("Hello Fenby");',
                    editor_lang: "javascript"
                }, {file_name: "main.css", source_code: "h1 {\ncolor:blue;\n}", editor_lang: "css"}]
            }], c = 0; c < a.length; c++)for (var d = 0; d < b.length; d++)a[c].name === b[d].name && $scope.frontendcodeLangList.push(b[d]);
            console.info("$scope.frontendcodeLangList", $scope.frontendcodeLangList)
        }
    }

    function fixShortcut(a) {
        return a = isMac ? a.replace("Ctrl", "Cmd") : a.replace("Cmd", "Ctrl")
    }

    function setFilesToNone() {
        $scope.activeFiles = [], codemirrorInstance && codemirrorInstance.setValue("")
    }

    function templateFilesInit() {
        $timeout(function () {
            "backend" === $scope.lighteningCompileUserSelected.is_Backend ? null !== $scope.lighteningCompileUserSelected.selectedBackendCodeLang ? ($scope.activeFiles = $scope.lighteningCompileUserSelected.selectedBackendCodeLang.template_files, $scope.activeFile(0)) : setFilesToNone() : null !== $scope.lighteningCompileUserSelected.selectedFrontendCodeLang ? ($scope.activeFiles = $scope.lighteningCompileUserSelected.selectedFrontendCodeLang.template_files, $scope.activeFile(0)) : setFilesToNone()
        }, 0)
    }

    function setCodemirrorMode(a) {
        codemirrorInstance && codemirrorInstance.setOption("mode", a.toLowerCase())
    }

    function loadCodemirrorModeFile(a, b) {
        for (var c = [], d = 0, e = 0; e < a.template_files.length; e++)-1 === hasLoadedModeFile.indexOf(a.template_files[e].editor_lang) && c.push(loadurladdress.get("codemirror_mode_js", {editor_lang_code: a.template_files[e].editor_lang}));
        if (c = c.unique(), c.length > 0) {
            $ocLazyLoad.load([{name: "lighteningCompileCodemirrorModeFilename", files: c}]);
            var f = $timeout(function () {
                b.resolve("timeout")
            }, 2e3);
            $scope.$on("ocLazyLoad.fileLoaded", function () {
                if (d++, d === c.length) {
                    $timeout.cancel(f);
                    for (var e = 0; e < a.template_files.length; e++)hasLoadedModeFile.push(a.template_files[e].editor_lang);
                    b.resolve("load success")
                }
            })
        } else b.resolve("has loaded")
    }

    function highLightLine(a) {
        if (a)for (var b = 0; b < codemirrorHighLightArray.length; b++)console.info("codemirrorHighLightArray[i]", codemirrorHighLightArray[b]), console.info("$scope.activeFiles[activedFileIndex]", $scope.activeFiles[activedFileIndex].file_name), codemirrorHighLightArray[b].file_name === $scope.activeFiles[activedFileIndex].file_name && codemirrorInstance.addLineClass(codemirrorHighLightArray[b].error_line, "text", "line-error"); else {
            for (var b = 0; b < codemirrorHighLightArray.length; b++)codemirrorHighLightArray[b].file_name === $scope.activeFiles[activedFileIndex].file_name && codemirrorInstance.removeLineClass(codemirrorHighLightArray[b].error_line, "text", "line-error");
            codemirrorHighLightArray = []
        }
    }

    function parseErrors(a) {
        if ("python" === $scope.lighteningCompileUserSelected.selectedBackendCodeLang.code) {
            for (var b = a.split("\n"), c = 0; c < b.length; c++)if (-1 !== b[c].search(/,\sline\s\d+/i)) {
                var d = b[c].split(","), e = d[1].substring(6), f = d[0].substring(d[0].search(/\/[a-zA-Z_]+[a-zA-z0-9_]*\.[a-zA-Z]+/i) + 1, d[0].length - 1);
                codemirrorHighLightArray.push({file_name: f, error_line: e - 1})
            }
        } else if ("php" === $scope.lighteningCompileUserSelected.selectedBackendCodeLang.code) {
            for (var b = a.split("\n"), c = 0; c < b.length; c++)if (-1 !== b[c].search(/\son\sline\s\d+/i)) {
                var d = b[c].split(" in "), e = d[1].substring(d[1].search(/\son\sline\s\d+/i) + 9), f = d[1].substring(d[1].search(/\/[a-zA-Z_]+[a-zA-z0-9_]*\.[a-zA-Z]+/i) + 1, d[1].search(/\son\sline\s\d+/i));
                codemirrorHighLightArray.push({file_name: f, error_line: e - 1})
            }
        } else if ("cs" === $scope.lighteningCompileUserSelected.selectedBackendCodeLang.code) {
            for (var b = a.split("\n"), c = 0; c < b.length; c++)if (-1 !== b[c].search(/\/[a-zA-Z_]+[a-zA-z0-9_]*\.[a-zA-Z]+\(\d+,\d+\)/i)) {
                var d = b[c].split(":"), g = d[0].substring(d[0].search(/\(\d+,\d+\)/i) + 1, d[0].length - 1), e = g.split(",")[0], f = d[0].substring(d[0].search(/\/[a-zA-Z_]+[a-zA-z0-9_]*\.[a-zA-Z]+/i) + 1, d[0].search(/\(\d+,\d+\)/i));
                codemirrorHighLightArray.push({file_name: f, error_line: e - 1})
            }
        } else for (var b = a.split("\n"), c = 0; c < b.length; c++)if (-1 !== b[c].search(/:\d+:[\d+|\s]/i)) {
            var h = b[c].search(/:\d+:[\d+|\s]/i), f = b[c].substring(b[c].search(/\/[a-zA-Z_]+[a-zA-z0-9_]*\.[a-zA-Z]+/i) + 1, h), i = b[c].substring(h + 1), e = b[c].substring(h + 1, h + 1 + i.indexOf(":"));
            codemirrorHighLightArray.push({file_name: f, error_line: e - 1})
        }
    }

    function backendRun() {
        var a = [];
        highLightLine(!1), jQuery("#lighteningCompileConsole").fadeIn("slow"), jQuery("#lighteningCompileRun").attr("disabled", !0);
        for (var b = 0; b < $scope.activeFiles.length; b++)a.push({
            filename: $scope.activeFiles[b].file_name,
            code: $scope.activeFiles[b].source_code
        });
        var c = {
            language: $scope.lighteningCompileUserSelected.selectedBackendCodeLang.code,
            stdin: $scope.lighteningCompileUserSelected.runSTDIN,
            codes: a
        };
        $.ajaxSetup({timeout: 3e4}), $.post(loadurladdress.get("compile_server"), c, function (a) {
            $timeout(function () {
                $scope.$apply(function () {
                    jQuery("#lighteningCompileRun").attr("disabled", !1), 0 !== a.errors.length ? ($scope.lighteningCompileJqconsoleInstance.Write("编译错误,请查看程序高亮行!\n", "jqconsole-output"), $scope.lighteningCompileJqconsoleInstance.Write(a.errors, "jqconsole-output"), 0 !== a.output.length && $scope.lighteningCompileJqconsoleInstance.Write(a.output, "jqconsole-output"), parseErrors(a.errors), highLightLine(!0)) : 0 !== a.output.length ? $scope.lighteningCompileJqconsoleInstance.Write(a.output, "jqconsole-output") : $scope.lighteningCompileJqconsoleInstance.Write(a.errors, "jqconsole-output")
                })
            }, 0, !1)
        }).error(function (a) {
            console.info("runcode errors", a.responseText), $scope.lighteningCompileJqconsoleInstance.Write("运行超时,请检查程序,或者联系Fenby客服\n", "jqconsole-output"), logger.logError("运行出错,请检查程序,或者联系Fenby客服"), jQuery("#lighteningCompileRun").attr("disabled", !1)
        })
    }

    function frontendTemplatePrepare() {
        function a(a, b) {
            return a + '\n<link rel="stylesheet" href="">\n' + b
        }

        function b(a, b) {
            return a + '\n<script src=""></script>\n' + b
        }

        for (var c = null, d = {hasCssFile: !1, index: null}, e = {
            hasJsFile: !1,
            index: null
        }, f = 0; f < $scope.activeFiles.length; f++)"html" === $scope.activeFiles[f].file_name.split(".")[1].toLowerCase() && (c = $scope.activeFiles[f].source_code), "css" === $scope.activeFiles[f].file_name.split(".")[1].toLowerCase() && (d.hasCssFile = !0, d.index = f), "js" === $scope.activeFiles[f].file_name.split(".")[1].toLowerCase() && (e.hasJsFile = !0, e.index = f);
        return null !== c ? -1 !== c.lastIndexOf("<html") && -1 !== c.lastIndexOf("<head") && -1 !== c.lastIndexOf("</head>") && -1 !== c.lastIndexOf("<body") && -1 !== c.lastIndexOf("</body>") && -1 !== c.lastIndexOf("</html>") ? (c = a(c.substring(0, c.lastIndexOf("</head>")), c.substring(c.lastIndexOf("</head>"))), d.hasCssFile && (c = c.substring(0, c.lastIndexOf("</head>")) + "\n<style>" + $scope.activeFiles[d.index].source_code + "</style>\n" + c.substring(c.lastIndexOf("</head>"))), c = b(c.substring(0, c.lastIndexOf("</body>")), c.substring(c.lastIndexOf("</body>"))), e.hasJsFile && (c = c.substring(0, c.lastIndexOf("</body>")) + "\n<script>" + $scope.activeFiles[e.index].source_code + "</script>\n" + c.substring(c.lastIndexOf("</body>"))), {
            result: !0,
            resultHtml: c
        }) : {
            result: !1,
            resultHtml: '<!DOCTYPE html><html><head><meta charset="UTF-8"><title>编译错误!不是有效的HTML5格式文件</title></head><body><div ><h3>编译错误!不是有效的HTML5格式文件</h3><p>请检查源代码或者联系Fenby客服查看原因!</p></div></body></html>'
        } : {
            result: !1,
            resultHtml: '<!DOCTYPE html><html><head><meta charset="UTF-8"><title>编译错误!未找到HTML文件</title></head><body><div ><h3>编译错误!未找到HTML文件</h3><p>请检查源代码或者联系Fenby客服查看原因!</p></div></body></html>'
        }
    }

    function frontendRun() {
        if ("javascript" === $scope.lighteningCompileUserSelected.selectedFrontendCodeLang.code) {
            var result;
            try {
                result = eval($scope.activeFiles[activedFileIndex].source_code)
            } catch (e) {
                result = e
            }
            "String" == typeof result ? $scope.lighteningCompileJqconsoleInstance.Write("\n" + result + "\n", "jqconsole-output") : void 0 != result ? $scope.lighteningCompileJqconsoleInstance.Write("\n" + result + "\n", "jqconsole-output") : $scope.lighteningCompileJqconsoleInstance.Write("\n请检查浏览器控制台输出\n", "jqconsole-output")
        } else $scope.activeTemplate = "<>", $scope.activeTemplate = $sce.trustAsHtml(frontendTemplatePrepare().resultHtml)
    }

    $ocLazyLoad.load("css/pygments.css"), $ocLazyLoad.load("css/ansi.css"), $scope.modalTitle = modalObject.objectContent.title, $scope.hasTemplate_files = !0, $scope.activeFiles = [], $scope.lighteningCompileUserSelected = {
        is_Backend: "backend",
        selectedBackendCodeLang: null,
        selectedFrontendCodeLang: null
    }, $scope.backendCodeLangList = [], $scope.frontendcodeLangList = [];
    var codemirrorInstance = null, isMac = /Mac/.test(navigator.platform), activedFileIndex = null, hasLoadedModeFile = [], codemirrorHighLightArray = [];
    $scope.isSTDINCollapsed = !0, function () {
        $timeout(function () {
            $scope.loadCodelanguagesPromise = Fenby3Api.queryforarray({resourceName: "codelanguage"}).$then(function (a) {

            }, function () {
                a = [
                    {
                        "uid": "1418188392276379647",
                        "name": "C#",
                        "code": "cs",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392321867883",
                        "name": "C/C++",
                        "code": "cpp",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392398903537",
                        "name": "Clojure",
                        "code": "clojure",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392414848545",
                        "name": "Java",
                        "code": "java",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392434627743",
                        "name": "Go",
                        "code": "go",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392445207521",
                        "name": "Plain JavaScript",
                        "code": "javascript",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392479375659",
                        "name": "PHP",
                        "code": "php",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392493677101",
                        "name": "Python",
                        "code": "python",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392502097334",
                        "name": "Ruby",
                        "code": "ruby",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392512738568",
                        "name": "Scala",
                        "code": "scala",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392528221920",
                        "name": "VB.NET",
                        "code": "vb",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392537700178",
                        "name": "Bash",
                        "code": "bash",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392546189335",
                        "name": "Objective-C",
                        "code": "oc",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392572946666",
                        "name": "MySQL",
                        "code": "mysql",
                        "run_mode": "B"
                    },
                    {
                        "uid": "1418188392572946623",
                        "name": "pure web javascript",
                        "code": "javascript",
                        "run_mode": "F"
                    },
                    {
                        "uid": "1418188392572940810",
                        "name": "HTML/CSS/Javascript",
                        "code": "htmlmixed",
                        "run_mode": "F"
                    }
                ];
                for (var b = [], c = [], d = 0; d < a.length; d++)"F" === a[d].run_mode ? c.push(a[d]) : b.push(a[d]);
                frontendCodeListInit(c), backendCodeListInit(b)
            })
        }, !1, !1)
    }(), function () {
        var a = {};
        $scope.cmOption = {
            lineNumbers: !0,
            indentWithTabs: !0,
            lineWrapping: !0,
            theme: "blackboard",
            extraKeys: a,
            onLoad: function (a) {
                codemirrorInstance = a, a.on("change", function (a) {
                    "backend" === $scope.lighteningCompileUserSelected.is_Backend ? null !== $scope.lighteningCompileUserSelected.selectedBackendCodeLang && ($scope.lighteningCompileUserSelected.selectedBackendCodeLang.template_files[activedFileIndex].source_code = a.getValue()) : null !== $scope.lighteningCompileUserSelected.selectedFrontendCodeLang && ($scope.lighteningCompileUserSelected.selectedFrontendCodeLang.template_files[activedFileIndex].source_code = a.getValue())
                })
            }
        }
    }(), $timeout(function () {
        !function () {
            $scope.lighteningCompileJqconsoleInstance = $("#lighteningCompileConsole").jqconsole("Welcome to Fenby online IDE\n", "$ ");
            var a = function () {
                $scope.lighteningCompileJqconsoleInstance.Prompt(!0, function (b) {
                    b.length > 0 && $scope.fullscreenJqconsoleInstance.Write(b + "\n", "jqconsole-output"), a()
                })
            };
            a()
        }()
    }, 0), $scope.frontendfullScreenInterview = function () {
        var a = $window.open();
        a.document.write($sce.trustAsHtml(frontendTemplatePrepare().resultHtml)), a.document.close()
    }, $scope.activeFile = function (a) {
        activedFileIndex = a, setCodemirrorMode($scope.activeFiles[a].editor_lang), codemirrorInstance && codemirrorInstance.setValue($scope.activeFiles[a].source_code)
    }, $scope.toggleCompileMode = function () {
        templateFilesInit()
    }, $scope.resetToOrigin = function () {
        codemirrorInstance && codemirrorInstance.setValue("backend" === $scope.lighteningCompileUserSelected.is_Backend ? $scope.lighteningCompileUserSelected.selectedBackendCodeLang.origin_template_files[activedFileIndex].source_code : $scope.lighteningCompileUserSelected.selectedFrontendCodeLang.origin_template_files[activedFileIndex].source_code)
    }, $scope.selectCallback = function (a) {
        var b = $q.defer();
        $scope.lighteningCompilePromise = b, loadCodemirrorModeFile(a, b), b.promise.then(function () {
            templateFilesInit()
        })
    }, $scope.runCode = function () {
        $scope.activeFiles.length > 0 ? "backend" === $scope.lighteningCompileUserSelected.is_Backend ? backendRun() : frontendRun() : logger.logError("亲,选择一种编译语言哟!")
    }, $scope.resetConsole = function () {
    }
}]).controller("AdminTagCtrl", ["$scope", "$modal", "Tags", function (a, b, c) {
    a.tag_categories = ["ios开发", "Android开发", "Python开发", "Java开发", "PHP开发", "Javascript开发", "Ruby开发", ".NET开发", "前端开发", "开发语言", "服务器", "数据库", "搜索", "开发工具", "云计算", "开放平台"], c.list().success(function (b) {
        a.tags = b
    }), a.openModalDialogForTagDetail = function (a) {
        console.log("tagId: " + a);
        var c;
        c = b.open({templateUrl: "modalDialogTagDetail.html", controller: "ModalInstanceCtrl", resolve: {}})
    }
}]).controller("AdminPointCtrl", ["$scope", "$modal", "logger", function (a, b, c) {
    a.pointList = [{code: "PCalc001", name: "用户完善信息", linked: !1}, {
        code: "PCalc002",
        name: "Oauth微博绑定",
        linked: !1
    }, {code: "PCalc003", name: "Oauth QQ绑定", linked: !1}, {
        code: "PCalc004",
        name: "邮箱验证",
        linked: !1
    }, {code: "PCalc005", name: "短信验证", linked: !1}, {code: "PCalc006", name: "邮件订阅", linked: !1}, {
        code: "PCalc007",
        name: "邮件退订",
        linked: !1
    }, {code: "PCalc008", name: "用户签到（自动）", linked: !1}, {
        code: "PCalc009",
        name: "查看提示",
        linked: !1
    }], a.linkNum = 0, a.pointMap = {};
    for (var d = 0; d < a.pointList.length; d++)a.pointMap[a.pointList[d].code] = a.pointList[d];
    a.isLinked = function (a) {
        return a.linked === !0
    }, a.isUnlinked = function (b) {
        return !a.isLinked(b)
    }, a.linkPoint = function (b) {
        if (a.pointMap[b]) {
            var d = a.pointMap[b];
            d.linked = !0, a.linkNum++, c.logSuccess("添加积分规则 <strong>" + d.name + " </strong>成功！")
        }
    }, a.unlinkPoint = function (b) {
        if (a.pointMap[b]) {
            var d = a.pointMap[b];
            d.linked = !1, a.linkNum--, c.logError("删除积分规则 <strong>" + d.name + " </strong>成功！")
        }
    }, a.openModalDialogForPointDetail = function (a) {
        console.log("invoking open modal dialog for point detail");
        var c;
        c = b.open({templateUrl: "modalDialogPointDetail.html", controller: "ModalInstanceCtrl", size: a, resolve: {}})
    }
}]).controller("ModalGenericCtrl", ["$scope", "$modal", function (a, b) {
    a.open = function (a) {
        var c;
        c = b.open({templateUrl: "modalGenericContent.html", controller: "ModalInstanceCtrl", size: a, resolve: {}})
    }
}]).controller("ModalInstanceCtrl", ["$scope", "$modalInstance", function (a, b) {
    a.ok = function () {
        b.close("close")
    }, a.cancel = function () {
        b.dismiss("cancel")
    }
}]).controller("CarouseSlideCtrl", ["$scope", function (a) {
    var b = new MasterSlider;
    b.setup("masterslider", {
        width: 1400,
        height: 580,
        space: 1,
        fullwidth: !0,
        autoHeight: !0,
        layout: "fullwidth",
        view: "flow",
        loop: !0
    }), b.control("bullets", {
        autohide: !1,
        dir: "h",
        align: "bottom"
    }), MSScrollParallax.setup(b, 50, 80, !0), a.myInterval = 5e3;
    var c = a.slides = [];
    a.addSlide = function (a) {
        c.push({
            image: "/static/images/slides/slide0" + (a + 1) + ".jpg",
            text: ["Ubuntu", "Bower", "NodeJS"][c.length % 3] + " " + [" - The leading OS for PC, tablet, phone and cloud", " - A package manager for the web", " - a platform built on Chrome's JavaScript runtime"][c.length % 3]
        })
    };
    for (var d = 0; 3 > d; d++)a.addSlide(d)
}]).controller("DatepickerCtrl", ["$scope", function (a) {
    a.today = function () {
        a.dt = new Date
    }, a.today(), a.clear = function () {
        a.dt = null
    }, a.disabled = function (a, b) {
        return "day" === b && (0 === a.getDay() || 6 === a.getDay())
    }, a.toggleMin = function () {
        a.minDate = a.minDate ? null : new Date
    }, a.toggleMin(), a.open = function (b) {
        b.preventDefault(), b.stopPropagation(), a.opened = !0
    }, a.dateOptions = {
        formatYear: "yy",
        startingDay: 1
    }, a.initDate = new Date("2016-15-20"), a.formats = ["dd-MMMM-yyyy", "yyyy/MM/dd", "dd.MM.yyyy", "shortDate"], a.format = a.formats[0]
}]), angular.module("fenby3", ["fenby3.tpls", "fenby3.services", "fenby3.directives", "fenby3.controllers"]), angular.module("fenby3.tpls", ["template/fenby3/generalpop.html", "security/login/form.tpl.html", "security/login/toolbar.tpl.html", "template/fenby3/confirmModal.tpl.html", "template/fenby3/usercardsendmsg.tpl.html"]), angular.module("fenby3.services", ["truncate", "fenby3.api", "fenby3.logger", "security", "fenby3.ui.select"]), angular.module("fenby3.directives", ["fenby3.tagpop", "fenby3.userpop", "fenby3.popresourcecontent", "fenby3.actionbar", "fenby3.sidebar", "fenby3.images"]), angular.module("fenby3.controllers", ["fenby3.basesite"]), angular.module("f3App", ["ngResource", "ngCookies", "ngSanitize", "ui.bootstrap", "ui.codemirror", "easypiechart", "com.2fdevs.videogular", "com.2fdevs.videogular.plugins.controls", "com.2fdevs.videogular.plugins.overlayplay", "com.2fdevs.videogular.plugins.buffering", "com.2fdevs.videogular.plugins.poster", "ng.django.forms", "djangoRESTResources", "cgBusy", "angularFileUpload", "ngImgCrop", "ui.select", "duScroll", "LocalStorageModule", "ui.tree", "oc.lazyLoad", "xeditable", "ab-base64", "fenby3", "f3.common", "f3.user", "f3.course", "f3.community", "f3.post", "f3.resource", "f3.github", "f3.tags", "f3.book"]).config(["$httpProvider", "$interpolateProvider", "paginationConfig", "uiSelectConfig", "$locationProvider", "localStorageServiceProvider", "$ocLazyLoadProvider", function (a, b, c, d, e, f, g) {
    a.defaults.headers.common["X-Requested-With"] = "XMLHttpRequest", b.startSymbol("{$"), b.endSymbol("$}"), c.itemsPerPage = 15, c.maxSize = 100, c.boundaryLinks = !0, c.previousText = "前一页", c.nextText = "后一页", c.firstText = "首页", c.lastText = "尾页", c.maxSize = 9, d.theme = "bootstrap", f.setPrefix("f3App"), f.setStorageType("localStorage"), f.setStorageCookie(0, "/courses/sections/"), f.setStorageCookieDomain("www.fenby.com"), f.setNotify(!0, !0), g.config({events: !0})
}]).run(["$http", "$cookies", "editableOptions", function (a, b, c) {
    a.defaults.headers.common["X-CSRFToken"] = b.csrftoken, a.defaults.headers.post["Content-Type"] = "application/json; charset=UTF-8", Array.prototype.unique = function () {
        for (var a = {}, b = [], c = 0; c < this.length; c++)a[this[c]] || (a[this[c]] = !0, b.push(this[c]));
        return b
    }, Array.prototype.removeObject = function () {
        for (var a, b = arguments.length; b && this.length;) {
            a = arguments[--b];
            for (var c = 0; c < this.length; c++)this[c].uid === a.uid && this.splice(c, 1)
        }
        return this
    }, c.theme = "bs3"
}]).service("scopeService", function () {
    return {
        safeApply: function (a, b) {
            var c = a.$root.$$phase;
            "$apply" == c || "$digest" == c ? b && "function" == typeof b && b() : a.$apply(b)
        }
    }
}).value("cgBusyDefaults", {
    message: "正在加载...请稍后...",
    backdrop: !0,
    delay: 0,
    minDuration: 300
}).constant("I18N.MESSAGES", {
    "login.reason.notAuthorized": "骚年你没有权限啊,要不要换个用户试试?",
    "login.reason.notAuthenticated": "亲,还没登录哟!",
    "login.error.invalidCredentials": "登录失败,亲!再检查一下用户名和密码哟.",
    "login.error.serverError": "玩脱啦,再试试吧!: {$ exception $}."
}).constant("Fenby3Url", {
    userCenter: "/users/{$ userUID $}/my_home/",
    userUpdateAvatar: "/api/users/{$ userId $}/update_avatar/",
    userAvatar: "{$ userAvatar $}@1e_80w_80h_1c_0i_1o_100Q_1x.jpg",
    userSmallAvatar: "{$ userSmallAvatar $}@1e_30w_30h_1c_0i_1o_100Q_1x.jpg",
    userCommunitiesAvatar: "{$ userCommunitiesAvatar $}@1e_40w_40h_1c_0i_1o_100Q_1x.jpg",
    tagDetailUrl: "/tags/{$ tagSlug $}/",
    groupImage_url: "{$ image_url $}",
    postDetailUrl: "/posts/{$ postSlug $}/",
    bookDetailUrl: "/books/{$ bookSlug $}/",
    attachment: "/api/attachments/",
    pictureAttachmentUrl: "{$ pictureAttachment $}",
    post_content_type: "10",
    post_reply_content_type: "19",
    block_content_type: "66",
    question_content_type: "72",
    book_content_type: "50",
    course_content_type: "61",
    section_content_type: "65",
    practise_content_type: "67",
    video_content_type: "85",
    compile_server: "http://code.fenby.com/compile",
    codemirror_mode_js: "js/codelanguage/{$ editor_lang_code $}.js"
}), angular.module("f3.common", []), angular.module("f3.user", []), angular.module("f3.course", []), angular.module("f3.community", []), angular.module("f3.post", []), angular.module("f3.resource", []), angular.module("f3.github", []), angular.module("f3.tags", []), angular.module("f3.book", []);
var opts = {
    lines: 13,
    length: 9,
    width: 5,
    radius: 11,
    corners: 1,
    rotate: 0,
    direction: 1,
    color: "#000",
    speed: .7,
    trail: 60,
    shadow: !1,
    hwaccel: !1,
    className: "spinner",
    zIndex: 2e9,
    top: "50%",
    left: "50%"
}, target = document.getElementById("page-loading"), spinner = new Spinner(opts).spin(target);
/*! fenby3 最后修改于： 2015-05-06 */